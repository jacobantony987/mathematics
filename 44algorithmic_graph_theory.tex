%Text Books : \cite{chartrand}
%Module 1 : Introduction to Graphs and Algorithms
%What is graph? The degree of a vertex, isomorphic graphs, subgraphs, degree sequences, connected graphs, cutvertices and blocks, special graphs, digraphs, algorithmic complexity, Search algorithms, sorting algorithms, greedy algorithms,, representing graphs in a computer.
%( Chapter 1 Sections 1.1 to 1.9, Chapter 2 Sections 2.1, 2.2 , 2.3, 2.5 and 2.6 of \cite{chartrand} ) (24 hours)
%Module 2 : Trees, paths and distances
%Properties of trees, rooted trees, Depth-first search, breadth-first search, the minimum spanning tree problem
%Distance in a graphs, distance in weighted graphs, the centre and median of a graph, Activity digraphs and critical paths.
%(Chapter 3 sections 3.1 to 3.3, 3.4 and 3.5 , Chapter 4 of \cite{chartrand} ) (22 hours)
%Module 3 : Networks
%An introduction to networks, the max-flow min-cut theorem, the max-flow min-cut algorithm, Connectivity and edge connectivity, Mengers theorem.
%( Chapter 5 sections 5.1 , 5.2 , 5.3 and 5.5 of \cite{chartrand} ) (22 hours)
%Module 4 : Matchings and Factorizations
%An introduction to matchings, maximum matchings in a bipartite graph, Factorizations, Block Designs.
%(Chapter 6 sections 6.1 , 6.2 , 6.4 and 6.5 of \cite{chartrand} ) (22 hours)

%Need to get a copy of this book !!
%List of Algorithms
\part{ME800402 Algorithmic Graph Theory}
%Module 1 - \cite{chartrand} 1, 2
%Module 2 - \cite{chartrand} 3, 4
%Module 3 - \cite{chartrand} 5
%Module 4 - \cite{chartrand} 6
%Missing - 7, 8?

\chapter{An Introduction to Graphs}
\section{What is a Graph ?}
\section{The Degree of a Vertex}
\section{Isomorphic Graphs}
\section{Subgraphs}
\section{Degree Sequences}
\section{Connected Graphs}
\section{Cut-Vertices and Bridges}
\section{Special Graphs}
\section{Digraphs}

\chapter{An Introduction to Algorithms}
\section{Algorithmic Complexity}
\section{Serach Algorithms}
\section{Sorting Algorithms}
%\section{Introducing NP-Completeness*}
\setcounter{section}{4}
\section{Greedy Algorithms}
\section{Representing Graphs in a Computer}

%Module 2
\chapter{Trees}
\section{Properties of Trees}
\section{Rooted Trees}
\section{Depth-First Search}
\section{Depth-First Search : A Tool for Finding Blocks}
\section{Breadth-First Search}
\section{The Minimum Spanning Tree Problem}

\chapter{Paths and Distance in Graphs}
\section{Distance in Graphs}
\section{Distance in Weighted Graphs}
\section{The Center and Median of a Graph}
\section{Activity Digraphs and Critical Paths}
%\section{Error Correcting Codes*}

%Module 3
\chapter{Networks}
\section{An Introduction to Networks}
\begin{definition}
	A network $N$ is a digraph $D$ with two special vertices source $s$ and sink $t$ together with a capacity function $c : E(D) \to \mathbb{Z}$ such that for every arc $a = (u,v)$ of the digraph, $c(u,v)$ is non-negative.
\end{definition}
\begin{remark} Mathematical Modeling using Network,
	\begin{enumerate}
		\item There is no restriction on indegree/outdegree of source/sink vertices of the digraph $D$ of a network $N$.
		\item Applications of Network : Transportation problem.
	\end{enumerate}
\end{remark}
\begin{description}
	\item[$c(u,v)$] is the capacity of the arc $(u,v)$ of $D$
	\item[$N^+(x)$] $= \{ y \in V(D) : (x,y) \in E(D)\}$ is the out-neighbourhood of $x$.
	\item[$N^-(x)$] $= \{ y \in V(D) : (y,x) \in E(D)\}$ is the in-neighbourhood of $x$.
\end{description}
\begin{definition}
	A flow $f$ in a network $N$ is function $f : E(D) \to \mathbb{Z}$ such that
	\begin{enumerate*}
		\item each edge satisfies capacity constraint and
		\item each vertex except source and sink satisfies conservation equation.
	\end{enumerate*}
\end{definition}
\begin{description}
	\item[capacity constraint] 
		\begin{equation}
		0 \le f(a) \le c(a) \text{ for every arc }a \in V(D)
		\end{equation}
	\item[conservation equation] 
		\begin{equation}
			\sum_{y \in N^+(x)} f(x,y) = \sum_{y \in N^-(x)} f(y,x),\ \forall \text{vertex } x \in V(D)-\{s,t\}
		\label{equ:conservation}
		\end{equation}
	\item[net flow out of $x$] $$\sum_{y \in N^+(x)} f(x,y) - \sum_{y \in N^-(x)} f(y,x)$$
	\item[net flow into $x$] $$\sum_{y \in N^-(x)} f(y,x) - \sum_{y \in N^+(x)} f(x,y)$$
\end{description}
\begin{definition}
	The flow $f$ in a network $N$ is the net flow out of source $s$.
\end{definition}
\begin{remark}
	\begin{enumerate}
		\item net flow out of/into $x \in V(D)-\{s,t\}$ is zero.
		\item Without loss of generality\footnote{If underlying digraph of a network is symmetric, then by replacing an arc $(u,v)$ with a new vertex $w$ and two arcs $(u,w),(w,v)$ gives an assymetric digraph.\cite{chartrand}pp.131}, underlying digraph is always assymetric.
	\end{enumerate}
\end{remark}
\begin{description}
	\item[$(X,Y)$] $=\{ (x,y) \in E(D) : x \in X,\ y \in Y \}$.\\
		Let $X,Y$ be non-empty subsets of $V(D)$ such that $X,Y$ are disjoint. Then $(X,Y)$ is the set of all arcs from $X$ to $Y$.
	\item[flow from $X$ to $Y$] is the sum of flow on each arc in $(X,Y)$
		\begin{equation}
		f(X,Y) = \sum_{(x,y) \in (X,Y)} f(x,y)
		\end{equation}
	\item[capacity of the partition $(X,Y)$] is the total capacity of arcs in $(X,Y)$
		\begin{equation}
		c(X,Y) = \sum_{(x,y) \in (X,Y)} c(x,y)
		\end{equation}
	\item[cut] Let $P \subset V(D)$ such that $s \in P$ and $t \not\in P$ and $\bar{P} = V(D)-P$, then $(P,\bar{P})$ is a cut.
	\item[flow from $P$ to $\bar{P}$] is the sum of flow on each arc in $(P,\bar{P})$.
		\begin{equation}
		f(P,\bar{P}) = \sum_{(x,y) \in (P,\bar{P})} f(x,y)
		\end{equation}
	\item[flow from $\bar{P}$ to $P$] is the sum of flow on each arc in $(\bar{P},P)$
		\begin{equation}
		f(\bar{P},P) = \sum_{(x,y) \in (\bar{P},P)} f(x,y)
		\end{equation}
	\item[capacity of the cut $(P,\bar{P})$] is the total capacity of the arcs in $(P,\bar{P})$
		\begin{equation}
		c(P,\bar{P}) = \sum_{(x,y) \in (P,\bar{P})} c(x,y)
		\end{equation}
\end{description}
\begin{theorem}
	For any cut $(P,\bar{P})$, the flow in $N$ is $f(N) = f(P,\bar{P}) - f(\bar{P},P)$.
\end{theorem}
\begin{synopsis}
	The net flow out of source $s$ is the flow $f(N)$ in the network $N$. Let $(P,\bar{P})$ be a cut of $N$, then $s \in P$ and $t \not\in P$. Suppose $P = \{ s\}$, then the theorem is true. Suppose $P$ is not singleton, then for each vertex $x \in P,\ x \ne s$, the net flow out of $x$ is zero by flow conservation equation. And flow between vertices in $P$ cancels out each other. Thus adding net flow out of each vertex in $P$, will be same as the net flow out of source which is the flow in the network, $f(N)$.
\end{synopsis}
\begin{proof}
	\begin{equation}
		\text{Flow, }f = \sum_{y \in N^+(s)} f(s,y) - \sum_{y \in N^-(s)} f(y,s)
	\end{equation}
	By conservation equation, we have $\forall x \in P,\ x \ne s$,
	\begin{equation}
		\sum_{y \in N^+(x)} f(x,y) - \sum_{y \in N^-(x)} f(y,x) = 0
	\end{equation}
	By above equations,
	\begin{align}
		\text{Flow, } f & = \sum_{x \in P} \sum_{y \in N^+(x)} f(x,y) - \sum_{x \in P} \sum_{y \in N^-(x)} f(y,x) \nonumber\\
				& = \sum_{(x,y) \in (P,\bar{P})} f(x,y) - \sum_{(y,x) \in (\bar{P},P)} f(y,x) 
	\end{align}
\end{proof}
\begin{corollary}
	Flow cannot exceed the capacity of any cut $(P,\bar{P})$. Further, $f(N) \le \min c(P,\bar{P})$.
\end{corollary}
\begin{synopsis}
	Let $(P,\bar{P})$ be a cut in network $N$, then by theorem the flow $f(N) =$  flow from $P$ to $\bar{P}$ - flow from $\bar{P}$ to $P$. Since the flow from $\bar{P}$ to $P$ is non-negative, $f(N) \le$ flow from $P$ to $\bar{P}$. Clearly, $f(x,y) \le c(x,y)$ by the capacity constaint. Thus $f(N) \le f(P,\bar{P}) \le c(P,\bar{P}) \le \min c(P,\bar{P})$.
\end{synopsis}
\begin{proof}
	\begin{align*}
		f(N) 	& = \sum_{(x,y) \in (P,\bar{P})} f(x,y) - \sum_{(y,x) \in (\bar{P},P)} f(y,x) \\
			& \le \sum_{(x,y) \in (P,\bar{P})} f(x,y) = f(P,\bar{P})\\ 
			& \le \sum_{(x,y) \in (P,\bar{P})} c(x,y) = c(P,\bar{P}),\quad \because \forall x,y \in V(D),\ f(x,y) \le c(x,y) \\
			& \le \min c(P,\bar{P})
	\end{align*}
\end{proof}
\begin{corollary}
	In a network $N$ flow is the net flow into the sink of $N$.
\end{corollary}
\begin{synopsis}
	Let $\bar{P} = \{ t \}$, then by theorem $f(N)$ is the net flow into the sink.
\end{synopsis}
\begin{proof}
	Suppose $P = V(D)-\{t\}$. Then by theorem, we have
	\begin{align*}
		f(N) 	& = \sum_{(x,y) \in (P,\bar{P})} f(x,y) - \sum_{(y,x) \in (\bar{P},P)} f(y,x) \\
			& = \sum_{x \in N^-(t)} f(x,t) - \sum_{x \in N^+(t)} f(t,x)
	\end{align*}
\end{proof}
\begin{remark}Exercise 5.1
	\begin{enumerate}
		\setcounter{enumi}{3}
		\item Let $N$ be a network with underlying digraph $D$ which has a vertex $v \in V(D) - \{ s,t \}$ with zero indegree. Clearly the flow into $v$ is zero. Thus flow out of $v$ is also zero by flow conservation equation. Let $N'$ be the network obtained from $N$ by deleting the vertex $v$. Then $f(N) = f(N')$.
	\end{enumerate}
\end{remark}
\section{The Max-Flow Min-Cut Theorem}
\begin{definition}
	\begin{description}
		\item[maximum flow] A flow $f$ in network $N$ is maximum flow in $N$, if $f(N) \ge f'(N)$ for each flow $f'$ in $N$.
		\item[minimum cut] A cut $(P,\bar{P})$ in network $N$ is minimum cut of $N$,\\ if $c(P,\bar{P}) \le c(X,\bar{X})$ for each cut $(X,\bar{X})$ in $N$.
		\item[$f$-unsaturated] Let $f$ be a flow in network $N$ with underlying digraph $D$, and $Q = u_0,a_1,u_1,a_2,\cdots,u_{n-1},a_n,u_n$ be a semipath in $D$ such that every forward arc $a_i = (u_{i-1},u_i)$ has flow not upto its capacity, $f(a_i) < c(a_i)$ and every reverse arc $a_i = (u_i,u_{i-1})$ has some positive flow in it, $f(a_i) > 0$
		\item[f-augmenting semipath] Let $f$ be a flow in a network $N$ with underlying digraph $D$. Suppose semipath $Q = s,a_1,u_1,a_2,\cdots,u_{n-1},a_n,t$ (from source to sink) is $f$-unsaturated, then $Q$ is an $f$-augmenting semipath.
	\end{description}
\end{definition}
\begin{theorem}
	Let $f$ be a flow in a network $N$ with underlying digraph $D$. The flow $f$ is maximum in $N$ iff there is no $f$-augmenting semipath in $D$.
\end{theorem}
\begin{synopsis}
	Suppose $Q$ is an $f$-augmenting semipath in $D$, then there exists a flow $f^*$ in $N$ such that $f(N)+\Delta = f^*(N)$. Therefore, $f$ is not a maximum flow in $N$. Suppose there is no $f$-augmenting semipath in $D$, then there exists a cut $(P,\bar{P})$ such that $f(a) = c(a)\ \forall a \in (P,\bar{P})$ and $f(a) = 0\ \forall a \in (\bar{P},P)$. Suppose $f^*$ in a maximum flow in $N$, then $f(N) \le f^*(N) \le c(P,\bar{P}) = f(N)$.
\end{synopsis}
\begin{proof}
	Let $f$ be a flow in a network $N$ with underlying digraph $D$ and $Q = s, a_1, u_1, a_2, u_2, \cdots, u_{n-1}, a_n, t$ be an $f$-augmenting semipath in $D$.
	$$\text{define } \Delta_i = \begin{cases}
		c(a_i) - f(a_i) \text{ for every forward arc } a_i \in Q, \\
		f(a_i) \text{ for every reverse arc } a_i \in Q,
	\end{cases}$$
	Define $\Delta = \min \{ \Delta_i \}$. Also define $f^* : E(D) \to \mathbb{Z}$ such that 
	$$f^*(a_i) = \begin{cases} f(a) + \Delta \text{, for every forward arc } a_i \in Q, \\
	f(a) - \Delta \text{, for every reverse arc } a_i \in Q, \\
	f(a_i) \text{, for every arc of } D \text{ which are not in }Q.
	\end{cases}$$
		Since $Q$ is an $f$-augmenting semipath in $D$, $\Delta > 0$ and $f(N) + \Delta = f^*(N)$.\\

	Clearly $f(N) < f^*(N)$, and it is enough to show that $f^*$ is a flow in $N$. $f^*$ is a flow if it satisfies \begin{enumerate*} \item capacity constraint and \item conservation equation \end{enumerate*}. For any arc $a_i \not\in Q$, $f^*(a_i) = f(a_i) \le c(a_i)$. Suppose $a_i \in Q$. If $a_i = (u_{i-1},u_i)$, $a_i$ is a forward arc and we have $f^*(a_i) = f(a_i) + \Delta \le f(a_i) + \Delta_i = f(a_i) + c(a_i) - f(a_i) = c(a_i)$. If $a_i = (u_i,u_{i-1})$, then $a_i$ is a reverse arc and we have $f^*(a_i) = \Delta \le \min \{ \Delta_i \} = \Delta_i = c(a_i)$. Thus $f^*$ satisfies capactity constraint on every arc of $D$.\\

	Let $x \in V(D)-\{s,t\}$. Suppose $x \not\in Q$,
	\begin{align*}
		\text{Net flow out of } x
		& = \sum_{y \in N^+(x)} f^*(x,y) - \sum_{y \in N^-(x)} f^*(y,x) \\
		& = \sum_{y \in N^+(x)} f(x,y) - \sum_{y \in N^-(x)} f(y,x) \\
		& = 0
	\end{align*}
	
	Suppose $x = u_i \in Q$, then $Q$ has two arc having vertex $x$ say, $a_{i-1}$, and $a_i$. There are four possibilities for these two arcs,
	\begin{enumerate}
		\item Both $a_{i-1},\ a_i$ are forward arcs.
		\item Arc $a_{i-1}$ is forward, but arc $a_i$ is reverse.
		\item Arc $a_{i-1}$ is reverse, but arc $a_i$ is forward.
		\item Both $a_{i-1},\ a_i$ are reverse arcs.
	\end{enumerate}
	
	\paragraph{Case 1} $a_{i-1} = (u_{i-1},u_i)$ and $a_i = (u_i, u_{i+1})$.
	\begin{align*}
		\text{ Net flow out of } x
		& = \sum_{y \in N^+(x)} f^*(x,y) - \sum_{y \in N^-(x)} f^*(y,x)\\
		& = \sum_{\frac{y \in N^+(x)}{y \ne u_{i+1}}} f^*(x,y) + f^*(u_i,u_{i+1}) - \left( \sum_{\frac{y \in N^-(x)}{y \ne u_{i-1}}} f^*(y,x) + f^*(u_{i-1},u_i) \right)\\
		& = \sum_{\frac{y \in N^+(x)}{y \ne u_{i+1}}} f(x,y) + f(u_i,u_{i+1}) + \Delta - \left( \sum_{\frac{y \in N^-(x)}{y \ne u_{i-1}}} f(y,x) + f(u_{i-1},u_i) \right) - \Delta \\
		& = \sum_{y \in N^+(x)} f(x,y) - \sum_{y \in N^-(x)} f(y,x) \\
		& = 0
	\end{align*}

	\paragraph{Case 2} $a_{i-1} = (u_{i-1},u_i)$ and $a_i = (u_{i+1},u_i)$.
	\begin{align*}
		\text{ Net flow out of } x
		& = \sum_{y \in N^+(x)} f^*(x,y) - \sum_{y \in N^-(x)} f^*(y,x) \\
		& = \sum_{\frac{y \in N^+(x)}{y \ne u_{i+1}, u_{i-1}}} f^*(x,y) + f^*(u_i,u_{i+1}) + f^*(u_i,u_{i-1}) - \sum_{y \in N^-(x)} f^*(y,x) \\
		& = \sum_{\frac{y \in N^+(x)}{y \ne u_{i+1}, u_{i-1}}} f(x,y) + f(u_i,u_{i+1}) + \Delta + f(u_i,u_{i-1}) - \Delta - \sum_{y \in N^-(x)} f(y,x) \\
		& = \sum_{y \in N^+(x)} f(x,y) - \sum_{y \in N^-(x)} f(y,x) \\
		& = 0
	\end{align*}

	\paragraph{Case 3} $a_{i-1} = (u_i, u_{i-1})$ and $a_i = (u_i,u_{i+1})$.
	\begin{align*}
		\text{ Net flow out of } x
		& = \sum_{y \in N^+(x)} f^*(x,y) - \sum_{y \in N^-(x)} f^*(y,x) \\
		& = \sum_{y \in N^+(x)} f^*(x,y) - \left( \sum_{\frac{y \in N^-(x)}{y \ne u_{i-1}, u_{i+1}}} f^*(y,x) + f^*(u_{i-1},u_i) + f^*(u_{i+1},u_i) \right)\\
		& = \sum_{y \in N^+(x)} f^*(x,y) - \left( \sum_{\frac{y \in N^-(x)}{y \ne u_{i-1}, u_{i+1}}} f(y,x) + f(u_{i-1},u_i) + \Delta + f(u_{i+1},u_i) - \Delta \right)\\
		& = \sum_{y \in N^+(x)} f(x,y) - \sum_{y \in N^-(x)} f(y,x) \\
		& = 0
	\end{align*}

	\paragraph{Case 4} $a_{i-1} = (u_i,u_{i-1})$ and $a_i = (u_{i+1},u_i)$.
	\begin{align*}
		\text{ Net flow out of } x
		& = \sum_{y \in N^+(x)} f^*(x,y) - \sum_{y \in N^-(x)} f^*(y,x) \\
		& = \sum_{\frac{y \in N^+(x)}{y \ne u_{i-1}}} f^*(x,y) + f^*(u_i,u_{i-1}) - \left( \sum_{\frac{y \in N^-(x)}{y \ne u_{i+1}}} f^*(y,x) + f^*(u_{i+1},u_i) \right)\\
		& = \sum_{\frac{y \in N^+(x)}{y \ne u_{i-1}}} f(x,y) + f(u_i,u_{i-1}) - \Delta - \left( \sum_{\frac{y \in N^-(x)}{y \ne u_{i+1}}} f(y,x) + f(u_{i+1},u_i) \right) + \Delta \\
		& = \sum_{y \in N^+(x)} f(x,y) - \sum_{y \in N^-(x)} f(y,x) \\
		& = 0
	\end{align*}
	Therefore, $f^*$ is a flow on $N$. We have $f(N) < f^*(N)$. Thus $f$ is not maximum flow in $N$ due to the existence of an $f$-augmenting semipath in $D$.

	\paragraph{}Conversely, assume that there is no $f$-augmenting semipath in $D$. Now, we construct a cut $(P,\bar{P})$ of $N$. Let $P$ be the set of all vertices $x \in V(D)$ such that there is an $f$-unsaturated $s-x$ semipath in $D$. Trivially, $s \in P$. And $t \not\in P$ since there are no $f$-augmenting semipath in $D$.\footnote{An $f$-augmenting semipath is an $f$-unsaturated $s-t$ semipath in $D$.} Clearly, $(P,\bar{P})$ is a cut of the network $N$.\\

	We claim that $c(P,\bar{P}) = f(N)$. Suppose there is a forward arc $(x,y) \in (P,\bar{P})$, then flow in it is saturated. If $f(x,y) < c(x,y)$, then there is an $f$-unsaturated $s-y$ semipath in $D$. ie, $s-x$ semipath + arc $(x,y)$. Thus every forward arc $(x,y) \in (P,\bar{P})$ is saturated. Suppose there is a reverse arc $(y,x) \in (\bar{P},P)$, then there is no flow in it(saturated reversed arc). If $f(y,x) > 0$, then there is an $f$-unsaturated $s-y$ semipath in $D$. ie, $s-x$ semipath + arc $(y,x)$. Thus every reverse arc $(y,x) \in (\bar{P},P)$ is saturated. And we have,
	\begin{align*}
		\sum_{(x,y) \in (P,\bar{P})} f(x,y) & = \sum_{(x,y) \in (P,\bar{P})} c(x,y) \\
		\sum_{(y,x) \in (\bar{P},P)} f(y,x) & = 0 \\
		f(N) & = \sum_{(x,y) \in (P,\bar{P})} f(x,y) - \sum_{(y,x) \in (\bar{P},P)} f(y,x) \\
		& = \sum_{(x,y) \in (P,\bar{P})} c(x,y) \\
		& = c(P,\bar{P})
	\end{align*}

	Suppose $f^*$ is maximum flow in network $N$ and $(X,\bar{X})$ is minimum cut of $N$. Then $f(N) \le f^*(N)$. Thus we have, $f(N) \le f^*(N) \le c(X,\bar{X}) \le c(P,\bar{P}) = f(N)$. Therefore, $f(N) = f^*(N)$. ie, the flow $f$ is maximum in network $N$ if there are no $f$-augmenting semipaths in $D$.
\end{proof}
\begin{theorem}[maximum-flow, min-cut]
	In every network, the value of maximum flow equals capacity of minimum cut.
\end{theorem}
\begin{proof}
	Suppose flow $f$ in network $N$ in maximum, then by previous theorem there is no $f$-augmenting semipath in $D$. And $f(N) \le c(X,\bar{X})$ for any cut $(X,\bar{X})$ in $N$. We can construct a cut $(P,\bar{P})$ in $N$ such that $f(N) = c(P,\bar{P})$. Let $P$ be the set of all vertices $x$ in $D$ such that there is an $f$-unsaturated $s-x$ semipath in $D$. Clearly $s \in P$ and $t \not\in P$. Also $f(P,\bar{P}) = c(P,\bar{P})$ and $f(\bar{P},P) = 0$. Then the cut $(P,\bar{P})$ is minimum cut of $N$. Suppose there is a cut $(X,\bar{X})$ such that $c(X,\bar{X}) < c(P,\bar{P})$. Then $f(N) = f(P,\bar{P}) - f(\bar{P},P) = c(P,\bar{P}) < c(X,\bar{X})$ which is a contradiction. Therefore, the value of maximum flow equals capacity of minimum cut.
\end{proof}
\begin{remark}Exercise 5.2
	\begin{enumerate}
		\item Suppose $(X,\bar{X})$ is a cut of $N$ such that $f(a) = c(a),\ \forall a \in (X,\bar{X})$ and $f(a) = 0,\ \forall a \in (\bar{X},X)$. By the definition of cut, $s \in X$ and $t \in \bar{X}$. Thus there is no $f$-augmenting semipath in $D$. Suppose there is an $f$-augmenting semipath $Q$ in $D$, then there is either \begin{enumerate*} \item a forward arc $(x,y) \in (X,\bar{X})$ such that $f(x,y) < c(x,y)$ or \item a reverse arc $(y,x) \in (\bar{X},X)$ such that $f(y,x) > 0$ \end{enumerate*} which is a contradition. Therefore, the flow $f(N)$ is maximum and the given cut $(X,\bar{X})$ is minimum as shown in the proof of the maximum-flow min-cut theorem.
		\setcounter{enumi}{2}
	\item The algorithm suggested in the hint of this exercise won't work if two subnetworks have a common arc such that the direction of flow in which is not consistent. Suppose, the generalized network is not supposed to have any common arcs. Then construct subnetworks for each pair $(s,t)$ with all those arcs which are on some $s-t$ semipath. Define subnetwork capacity function $c'(a) = c(a)$ for every arc in $N'$.\\

	Let $N$ be a generalized network with set of sources $S$ and set of sinks $T$. A flow in $N$ is maximum if there is not $f$-augmenting $s-t$ semipath for each pair $(s,t) \in S \times T$. Does there exists a generalised network where max-flow min-cut algorithm is inconsistent ? $\star$ I don't know
	\end{enumerate}
\end{remark}
\section{A max-flow min-cut algorithm}
\begin{theorem}
	Let $N$ be a network with underlying digraph $D$, source $s$, sink $t$, capacity function $c$ and flow $f$. Let $D'$ be the digraph with same vertex set as $D$ and arc set defined by $E(D') = \{ (x,y) : (x,y) \in E(D),\ c(x,y) > f(x,y) \text{ or } (y,x) \in E(D),\ f(y,x) > 0 \}$. ie, $D'$ has only the unsaturated arcs of $D$. Then $D'$ has an $s-t$ directed path iff $D$ has an $f$-augmenting semipath. Moreover, shortest $s-t$ path in $D'$ has the same length as shortest $f$-augmenting semipath in $D$.
\end{theorem}
\begin{synopsis}
	Each directed $s-t$ path in $D'$ has respective $f$-augmenting semipath in $D$ and vice versa. Clearly, they have the same length.
\end{synopsis}
\begin{proof}
	Let $N$ be a network with underlying digraph $D$, capacity $c$ and flow $f$. Let $D'$ be the digraph with vertex set $V(D') = V(D)$ and arc set $E(D') = \{ (x,y) : \text{either }(x,y) \text{ or } (y,x) \text{ is unsaturated in } N \}$.\\

	Suppose $D'$ has a directed $s-t$ path $Q' : s,u_1,u_2,\cdots,u_{n-1},t$. Then by the construction of $D'$, for each $u_i \in Q$, there exists an $f$ unsaturated arc $a_i$ in $D$. ie, either forward arc $a_i = (u_{k-1},u_k)$ such that $f(u_{k-1},u_k) < c(u_{k-1},u_k)$ or reverse arc $a_i = (u_k,u_{k-1})$ such that $f(u_k,u_{k-1}) > 0$. Therefore, we have an $s-t$ semipath $Q : s,a_1,u_1,a_2,\cdots,u_{n-1},a_n,t$ in $D$ such that $Q$ is an $f$-augmenting semipath since every arc in $Q$ is $f$-unsaturated. Clearly, $Q,Q'$ are of the same length.\\

	Conversely, suppose that the digraph $D$ has an $f$-augmenting semipath $Q : s,a_1,u_1,a_2,\cdots,u_{n-1},a_n,t$. Then each arc $a_i \in Q$ are $f$-unsaturated and by the construction of $D'$, there exists a directed $s-t$ path $Q' = s,u_1,u_2,\cdots,u_{n-1},t$ in $D'$. And $Q,Q'$ are of the same length.\\

	There is a one-one correspondence betweeen the directed $s-t$ paths in $D'$ and $f$-augmenting semipaths in $D$. Clearly, they have the same length. Thus shortest directed $s-t$ path in $D$ and shortest $f$-augmenting semipath in $D'$ are of the same length.
\end{proof}
\begin{description}
	\item[saturation arc] of $N$ with respect to the flow $f$ is an arc $a_j$ in an $f$-augmenting semipath $Q$ with $\Delta_j = \Delta$.
	\item[augmentation path] is an $f$-augmenting semipath $Q$ in $D$.
\end{description}
\begin{algorithm}[max-flow min-cut]
	An algorithm to find maximum flow and minimum cut of a network $N$ with underlying digraph $D$, source $s$, sink $t$, capacity function $c$ and initial flow $f$.
	\begin{enumerate}
		\item Construct digraph $D'$ with vertex set $V(D') = V(D)$ and arc set $E(D') = \{ (x,y) : (x,y) \in E(D) \&  f(x,y) < c(x,y) \text{ or } (y,x) \in E(D) \& f(y,x) > 0 \}$
		\item Find (shortest) $s-t$ directed path in $D'$ using Moore's breadth first search(BFS) algorithm. If $D'$ doesn't have an $s-t$ path, then proceed to step 5. Otherwise, let $Q' : s,u_1,u_2,\cdots,u_{n-1},t$ be a (shortest) $s-t$ path in $D'$.
		\item Let $Q : s,a_1,u_1,a_2,\cdots,u_{n-1},a_n,t$ be the respective semipath in $D$ such that $f(a_j) < c(a_j)$ for forward arcs and $f(a_i) > 0$ for reverse arcs. Let $\Delta_j = c(a_j) - f(a_j)$ for forward arcs and $\Delta_j = f(a_j)$ for reverse arcs. And let $\Delta = \min \{ \Delta_j \}$. And augment flow $f$ by $\Delta$ ie, $f(a_j) \leftarrow f(a_j) + \Delta$ for forward arcs and $f(a_j) \leftarrow f(a_j)-\Delta$ for reverse arcs.
		\item Goto step 1 (Proceed with new flow $f$ and find whether there are any directed $s-t$ paths in $D'$. If any, augment the flow along the new augmentation path $Q$ by saturating the flow along the saturation arc.)
		\item There is no $s-t$ directed path in $D'$. Thus there is no $f$-augmenting semipath in $D$. Therefore the flow $f$ in $N$ is maximum. Let $P$ be the set of all vertices in $D'$ with non-zero breadth first index(bfi) from Moore's BFS algorithm applied in step 2. $(P,\bar{P})$ is minimum cut of $N$.
	\end{enumerate}
\end{algorithm}
\begin{remark}
	Validity of the algorithm is proved in the previous theorem.
\end{remark}

%\begin{remark}Exercises 5.3
%	\begin{enumerate}
%		\item
%		\item 
%		\item
%		\item
%	\end{enumerate}
%\end{remark}

%\section{The Complexity of the Max-Flow Min-Cut Theorem*}
\setcounter{section}{4}
\section{Connectivity and Edge-Connectivity}
\begin{description}
	\item[edge cutset] is the set $U$ subset of $E(G)$ such that $G-U$ is disconnected.
	\item[vertex cutset] is the set $S$ subset of $V(G)$ such that $G-S$ is disconnected.
	\item[edge connectivity] $\lambda(G)$ is the minimum cardinality of all edge cutsets of $G$.
	\item[connectivity] $\kappa(G)$ is the minimum cardinality of all vertex cutsets of $G$.
\end{description}
\begin{theorem}
	For every graph $G$, $\kappa(G) \le \lambda(G) \le \delta(G)$
\end{theorem}
\begin{proof}
	Suppose graph $G$ is disconnected then $\kappa(G) = \lambda(G) = \delta(G) = 0$. Let $G$ be a connected graph. Then $G$ has at least one vertex $v$ with degree $\delta(G)$. Therefore $\lambda(G) \le \delta(G)$ since edges incident with $v$ form an edge cutset of $G$ and $\lambda(G)$ is the cardinality of all edge cutsets.\\

	Let $G$ be a graph with edge connectivity $\lambda(G) = c$. Let $U$ be a edge cutset with cardinality $c$ and let edge $uv \in U$. Construct a set of vertices $S \subset V(G)$ such that ($S$ is of minimal cardinality and) for each edge in $U$ other $uv$, $S$ has a vertex incident with it. Cardinality of $S$ is atmost $c-1$, since we can select one vertex each for each edge in $U$ other than $u, v$. If $G-S$ is a disconnected graph, then $\kappa(G) < \lambda(G)$. Suppose $G-S$ is a connected graph, then delete a non-pendent vertex $u$ or $v$ from $G-S$, say $v$. Since $G-S$ is a connected graph with a singleton edge cutset, $\{ uv \}$. We have a vertex cutset $S \cup \{ v\}$ of $G$. Therefore, $\kappa(G) \le c = \lambda(G)$.
\end{proof}
\begin{theorem}
	If $G$ is a graph of diameter $2$, then $\lambda(G) = \delta(G)$
\end{theorem}
%\begin{proof}
%	Clearly $\lambda(G) \le \delta(G)$. Therefore it is sufficient to prove that for a graph of diameter $2$, $\lambda(G) \not< \delta(G)$. ie, for every non-trivial partition $X,Y$ of the vertex set $V(G)$, there are at least $\delta(G)$ edges between $X$ and $Y$.$\star$
%\end{proof}

\begin{description}
	\item[$n$-edge connected] $G$ is $n$-edge connected if $\lambda(G) \ge n$.
	\item[$n$ connected] $G$ is $n$-connected if $\kappa(G) \ge n$.
\end{description}
\begin{theorem}
	Let $G$ be a graph of order $p$ and $n$ be an integer such that $1 \le n \le p-1$. If $\delta(G) \ge \frac{p+n-2}{2}$, then $G$ is $n$-connected.
\end{theorem}
%\begin{proof}

%\end{proof}
\begin{description}
	\item[connection number] $c(G)$ is the smallest integer such that $2 \le c(G) \le p$ and every subgraph of order $n$ in $G$ is connected.
	\item[$l$-connectivity] $\kappa_l(G)$ is minimum number of vertices whose removal will produce a disconnected graph with at least $l$ components or a graph with fewer than $l$ vertices.
	\item[$(n,l)$-connected] A graph $G$ is $(n,l)$-connected if $\kappa_l(G) \ge n$.
\end{description}
\begin{remark}Exercises 5.5
	\begin{enumerate}
		\item $\lambda(K_{m,n}) = \kappa(K_{m,n}) = m$
		\setcounter{enumi}{7}
		\item $c(K_p) = 2$, $c(K_{m,n}) = n+1$, $c(C_p) = p-1$\\
			Every two vertices of complete graph of order $p$ are adjacent. For complete bi-partitie graph $K_{m,n}$ such that $1 \le m \le n$, there exists a totally disconnected subgraph of order $n$. Therefore $c(K_{m,n}) \ge n+1$. And with $n+1$ vertices, both partitions have at least two vertices each and therefore the graph is connected and $c(K_{m,n}) \le n+1$. For cycle $C_p$, any subgraph is disconnected if two non-adjacent vertices are deleted. Therefore $c(C_p) \ge p-1$. And $C_p$ remains connected even after deletion of any vertex, therefore $c(C_p) \le p-1$.
		\item $$\delta(G) \ge \frac{p+(l-1)(n-2)}{l} \implies \kappa_l(G) \ge n$$
	\end{enumerate}
\end{remark}

\section{Menger's Theorem}
\begin{theorem}
	For a non-trivial graph $G$, $\lambda(u,v) = M'(u,v)$ for every pair $(u,v)$ of vertices of $G$.
\end{theorem}
\begin{corollary}
	Graph $G$ is $n$-edge connected iff every two vertices of $G$ are connected by at least $n$ edge disjoint paths.
\end{corollary}
\begin{theorem}
	For every pair of non-adjacent vertices $u,v$ in graph $G$, $\kappa(u,v) = M(u,v)$.
\end{theorem}
\begin{corollary}
	Graph $G$ is $n$-connected iff every pair of vertices of $G$ are connected by at least $n$ internally disjoint paths.
\end{corollary}
\begin{algorithm}[connectivity $\kappa(G)$].
	\begin{enumerate}
		\item If degree of every vertex is $p-1$, then output $\kappa = p-1$ and stop. Otherwise, continue.
		\item If $G$ is disconnected, output $\kappa = 0$ and stop. Otherwise, continue.
		\item $\kappa \leftarrow p$
		\item $i \leftarrow 0$
		\item If $i \le \kappa$, then $i \leftarrow i+1$ and continue. Otherwise, output $\kappa$ and stop.
		\item $j \leftarrow i+1$
		\item 
			\begin{enumerate}
				\item If $j = p+1$, then return to step 5. Otherwise continue.
				\item If $v_iv_j \not\in E(G)$, construct network $N$ with digraph $D$ as follows : for each vertex $ v \in V(G)$, there are two vertices $v',v'' \in V(D)$ and an arc $(v',v'') \in E(D)$. And for each edge $uv \in E(G)$, there are two arcs $(u'',v),(v'',u) \in E(D)$. The capacity function is given by, $c(v',v'') = 1$ for every $v \in V(G)$ and $c(a) = \infty$ for every other arc in $D$. Set source $s = v_i''$ and sink $t = v_j'$ and find maximum flow in $N$ using max-flow min-cut algorithm. Otherwise proceed to step 7d
				\item If $f(N) < \kappa$, then $\kappa \leftarrow f(N)$. Otherwise, continue.
				\item $j \leftarrow j+1$ and return to step 7a
			\end{enumerate}
	\end{enumerate}
\end{algorithm}


%Module 4
\chapter{Matchings and Factorizations}
\section{An Introduction to Matching}
\begin{description}
	\item[Marriage Problem] Given a collection of men and women, where each womon knows some of the men. Can every women marry a man she knows ?
	\item[Assignment Problem] Given several job openings and applicants for one or more of these positions. Find an assignment so that maximum positions are filled ?
	\item[Optimal Assignment Problem] Given several job openings and applicants for one or more of these positions. The benefits of employing these applicants on those positions are also given. Find an assignment of maximum benefit to the company ?
\end{description}
\begin{definition}
	\begin{description}
		\item[matching] in $G$ is a $1$-regular\footnote{A graph $G$ is $k$-regular, if every vertex of $G$ has degree $k$.} subgraph of $G$.
		\item[maximum matching] in $G$ is a matching of $G$ with maximum cardinality.
		\item[perfect matching] in $G$ is a matching of cardinality $p/2$. ie, $p/2$ edges.
		\item[maximum weight matching] in a weighted graph $G$ is a matching with maximum weight.
	\end{description}
\end{definition}
\begin{definition}
	Let $M$ be a matching in a graph $G$,
	\begin{description}
		\item[matched edge] is an edge in subgraph $M$ of $G$.
		\item[unmatched edge] is an edge of $G$ that doesn't belong to $M$.
		\item[matched vertex] with respect to $M$ is a vertex incident with an edge of $M$.
		\item[single vertex] is a vertex that is not incident with any edge of $M$.
		\item[alternating path] in $G$ is a path with edges alternately matched and unmatched.
		\item[augmenting path] in $G$ is a non-trivial alternating path with single vertices as end vertices.
	\end{description}
\end{definition}
\begin{theorem}
	Let $M_1,M_2$ be two matchings in $G$ such that there is a spanning subgraph $H$ of $G$ with edges that are either in $M_1$ or $M_2$, but not both. Then the components of $H$ are either \begin{enumerate*} \item isolated vertex \item even cycle with edge alternately from $M_1$ and $M_2$ \item a non-trivial path with edges alternately from $M_1$ and $M_2$ such that each end vertex is single with respect to either $M_1$ or $M_2$, but not both. \end{enumerate*}
\end{theorem}

\begin{theorem}
	A matching $M$ in a graph $G$ is maximum iff there is no augmenting path with respect to $M$ in $G$.
\end{theorem}

\begin{definition}
	Let $U_1,U_2$ be two nonempty, disjoint, subsets of the vertex set of a graph $G$. Then $U_1$ is matched to $U_2$ if there exists a matching $M$ in $G$ such that every edge in $M$ incident with a vertex in $U_1$ and a vertex in $U_2$. And every vertex of $U_1$ (or $U_2$) is incident with some edge in $M$. Suppose $M^*$ be a matching such that $M \subset M^*$, then $U_1$ is matched under $M^*$ to $U_2$.
\end{definition}

\begin{definition}
	Let $U$ be a nonempty set of vertices of a graph $G$. $U$ is nondeficient, if $|N(s)| \ge |S|$ for every nonempty subset $S$ of $U$.
\end{definition}

\begin{theorem}
	Let $G$ be a bipartite graph with partite sets $V_1,V_2$. The set $V_1$ can be matched to a subset of $V_2$ iff $V_1$ is nondeficient.
\end{theorem}
\begin{corollary}
	Every $r$-regular bipartite multigraph has a perfect matching.
\end{corollary}

\begin{theorem}
	A collection $S_1,S_2,\cdots,S_n$ of finite non-empty sets has a system of distinct representatives iff for each $k,\ 0 \le k \le n$, the union of any $k$ of these sets contains at least $k$ elements.
\end{theorem}

\begin{remark}[Hall's Marriage Theorem]
	Suppose there are $n$ women. Then every women can marry a man she knows iff each subset of $k$ women $(1 \le k \le n)$ colletively knows atleast $k$ men. 
\end{remark}

\begin{remark}
	Let $W$ be a set of $n$ women. Then there are $2^n-1$ nonempty subset for $W$. Thus, Hall's Marriage Theorem suggests that we ensure $|N(S)| \ge |S|$ for every nonempty subset $S$ of $W$. This method has complexity $O(2^n)$.
\end{remark}

\section{Maximum Matching in Bipartite Graphs}

%\section{Maximum Matching in General Graphs*}
\setcounter{section}{3}
\section{Factorizations}
\section{Block Designs}

%\chapter{Eulerian Graphs*}
%\section{An Introduction to Eulerian Graphs}
%\section{Characterizing Eulerian Graphs Again}
%\section{The Chinese Postman Problem}
%\section{Eulerian Digraph}

%\chapter{Hamiltonian Graphs*}
%\section{An Introduction to Hamiltonian Graphs}
%\section{Which Graphs are Hamiltonian ?}
%\section{The Traveling Salesman Problem}

%\chapter{Planar Graphs*}
%\section{Properties of Planar Graphs}
%\section{A Planarity-Testing Algorithm}
%\section{The Crossing Number and the Thickness of a Graph}
%\section{The Genus of a Graph}
%\section{Graph Minors}

%\chapter{Coloring Graphs*}
%\section{Vertex Colorings}
%\section{Chromatic Polynomials}
%\section{Edge Colorings}
%\section{The Four Color Problem}

%\chapter{Digraphs*}
%\section{Strong Digraphs}
%\section{Depth-First Search in Digraphs}
%\section{Strongly Connected Components}
%\section{Tournaments}

%\chapter{Extremal Graph Theory*}
%\section{Turan's Theorem}
%\section{Ramsey Numbers}
%\section{Generalised Ramsey Numbers}
