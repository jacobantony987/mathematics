%Text Books : \cite{royden}
%Module 1: Lebesgue Measure
%Introduction, Lebesgue outer measure, The $\sigma$-algebra of Lebesgue measurable sets, Outer and inner approximation of Lebesgue measurable sets , Countable additivity, continuity and Borel-Cantelli Lemma, Non measureable sets, The Cantor set and Cantor Lebesgue function
%Chapter 2; Sections 2.1 to 2.7 (25 Hours)
%Module 2: Lebesgue Measurable Functions and Lebesgue Integration
%Sums, Products and Compositions, Sequential Pointwise Limits and Simple Approximation, The Riemann Integral, The Lebesgue Integral of a bounded measurable function over a set of finite measure, The Lebesgue Integral of a measurable non-negative function, The General Lebesgue Integral.
%Chapter 3; Sections 3.1 to 3.2, Chapter 4; Sections 4.1 to 4.4(25 Hours) 
%Module 3: General Measure Space and Measureable Functions \& Signed Measures
%Measures and Measurable Sets
%The Hahn and Jordan decompositions, The Caratheodory Measure induced by an outer measure, Measureable functions
%Chapter 17; Sections 17.1 to 17.3, Chapter 18; Section 18.1 upto corollory 7 (20 Hours)
%Module 4: Integration over General Measure Space and Product Measure
%Integration of non-negative measurable functions, Integration of General Measurable functions, The Radon Nikodym Theorem
%The Theorems of Fubini and Tonelli
%Chapter 18; Sections 18.2 to 18.4, Chapter 20; Section 20.1 (20 Hours)

%Need to work on this
%Module 1 - \cite{royden} 2
%Module 2 - \cite{royden} 3, 4
%Module 3 - \cite{royden} 17, 18
%Module 4 - \cite{royden} 18, 20
%Missing - \cite{royden} 1, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 19, 21?

%Module 1
%\part{Lebesgue integration for functions of a single real variable.}
%\section{The real numbers : Sets, Sequences, and Functions}
\setcounter{section}{1}
%\subsection{The Field, Positivity, and Completeness Axioms}
%\begin{enumerate}
%	\item $\mathbb{R}$ is a Field
%	\item Positive Numbers
%	\item The Completeness Axiom
%	\item The Triangle Inequality
%	\item The Extended Real Numbers
%\end{enumerate}
%\subsection{The Natural and Rational Numbers}
%\begin{enumerate}
%	\item Principle of Mathematical Induction
%	\item Archimedean Property
%	\item $\mathbb{Q}$ is dense in $\mathbb{R}$
%\end{enumerate}
%\subsection{Countable and Uncountable Sets}
%\begin{enumerate}
%	\item The Pigeonhole Principle
%	\item $\mathbb{N},\mathbb{Q}$ are countable
%	\item Cantor's Test for Countability
%	\item Finite product, countable union of countable sets are countable
%	\item Intervals are uncountable
%\end{enumerate}
%\subsection{Open Sets, Closed Sets, and Borel Sets of Real Numbers}
%\begin{enumerate}
%	\item Open Set Axioms
%	\item Open sets are countable union of open intervals
%	\item Complements of open sets are closed 
%	\item Heine-Borel Theorem
%		$\mathbb{R}$ is Compact
%	\item Nested Set Theorem
%		(bounded) Descending Chain has nonempty intersection.
%	\item $\sigma$-Algebra generated by $\mathcal{F}$
%	\item Borel Algebra
%\end{enumerate}
%\subsection{Sequence of Real Numbers}
%\begin{enumerate}
%	\item Monotone Convergence
%	\item Bolzano Weierstrass Theorem
%		Bounded sequences have convergence subsequence.
%	\item Cauchy Criterion for Convergence - Complete
%	\item Linearity, Monotonicity of Convergence
%	\item limit superior and limit inferior
%	\item Series
%\end{enumerate}
%\subsection{Continuous Real-Valued Functions of a Real Variable}
%\begin{enumerate}
%	\item Continuity
%	\item Lipschitz Condition
%		Continuous $\nimplies$ Lipschitz
%	\item Continuity characterised by Convergence
%	\item Inverse of Continuous functions are Open
%	\item Continuous functions on compact set
%	\item Intermediate Value Theorem
%		Continuity preserves connectedness
%	\item Continuity on compact set is uniform
%	\item Monone Function, Jump Discontinuity
%\end{enumerate}

%chapter 2
\section{Lebesgue Measure}
\subsection{Introduction}
\begin{description}
	\item[set function] A function which maps sets into (extended) real numbers.
	\item[$\sigma$-algebra] A family $\mathcal{A}$ of subsets of a nonempty set $X$ such that
	\begin{enumerate}
		\item $\mathcal{A}$ contains the empty set, 
		\item $\mathcal{A}$ contains complement of each of its members and
		\item $\mathcal{A}$ is closed under countable unions.
	\end{enumerate}
	
	From these 3 axioms, we can deduce the following,
	\begin{enumerate}
		\setcounter{enumi}{3}
		\item $\mathcal{A}$ is closed under countable intersections (by de Morgan's laws).
			\[ \left( \bigcup_{k = 1}^\infty E_k^c \right)^c = \bigcap_{k=1}^\infty E_k \in \mathcal{A} \]
		\item $E,F \in \mathcal{A} \implies E-F \in \mathcal{A}$ since $E-F = E \cap F^c$
	\end{enumerate}
\end{description}

\begin{definition}[Length of an interval]
	Length is a real valued set function.
	Let $I$ be a bounded interval say $[a,b)$.
	Then its length $l(I)=b-a$ is the difference between endpoints.
	If an interval $I$ is unbounded say $(a,\infty)$, then its length, $l(I) = \infty$.
\end{definition}

\subsubsection{Exercise}
\paragraph{Techniques in Measure Theory}
	Let $\mathcal{A}$ be a $\sigma$-algebra.
	Let Lebesgue Measure $m : \mathcal{A} \to [0,\infty]$ be countably additive over disjoint collection of sets in $\mathcal{A}$.
\begin{itemize}
	\item Lebesgue Measure $m$ has monotonicity.\\
		$A \subseteq B \implies B = A \cup (B-A)$ is a disjoint union \\
		$\implies m(B) = m(A) + m(B-A) \ge m(A)$
	\item If exists $E \in \mathcal{A}$ such that $m(E) < \infty$, then $m(\phi) = 0$\\
		Suppose $m(\phi) = c$ and $m(E) = k$ where $k < \infty$.
		If $c \ne 0$, then $m(E \cup \phi) = m(E) + m(\phi) = c+k > k = m(E)$ is a contradiction.
	\item $\displaystyle m\left(\bigcup_{k=1}^\infty E_k\right) \le \sum_{k=1}^\infty m(E_k)$\\
		Define $\{ F_k : k \in \mathbb{N} \}$ by $F_k = E_k - \cup_{j = 1}^{k-1} E_j$\\
		Then $F_1 = E_1$, $F_2 = E_2 - E_1$, $F_3 = E_3 - (E_1 \cup E_2)$, \dots\\
		Also $F_k \in \mathcal{A}$ and $F_k \subseteq E_k,\ \forall k \in \mathbb{N}$.
		Thus $m(F_k) \le m(E_k),\ \forall k$
		However, $\cup_{k=1}^\infty E_k = \cup_{k=1}^\infty F_k$\\
		$\displaystyle \implies m\left( \cup_{k=1}^\infty E_k \right) = m \left( \cup_{k=1}^\infty F_k \right) = \sum_{k=1}^\infty m(F_k) \le \sum_{k=1}^\infty m(E_k)$
\end{itemize}

\paragraph{Counting Measure}
	The counting measure $c : \mathcal{A} \to [0,\infty]$ is a set function which maps sets to their cardinality.
	For example, if $E = \{2,3,4\}$, then $c(E) = 3$.
\begin{itemize}
	\item The counting measure is \textbf{translation invariant} since translation never increases the cardinality of the set.\\
	For example, $5+E = \{7,8,9\}$.
	And $m(5+E) = 3 = m(E)$.
	\item The counting measure is \textbf{countably additive} over disjoint collections since the cardinality of disjoint union of two sets is the sum of their cardinalities.
	\item However, counting measure of (non-degenerate) intervals are $\infty$ which is \textbf{not the same as their length} for bounded intervals.
\end{itemize}

\subsection{Lebesgue Outer Measure}
\begin{description}
	\item[$G_\delta$] A set which is countable intersection of open subsets.
	\item[$F_\sigma$] A set which is countable union of closed subsets.
\end{description}

\subsubsection{Caratheodory Construction of Lebesgue Measure}
\begin{enumerate}
	\item Construct Lebesgue Outer Measure $m^\ast$ (with Axiom 3 relaxed) \\
		ie, Obtain the underlying relation of the set function
	\item Restrict $m^\ast$ to the $\sigma$-algebra of our interest \\
		ie, Choose a domain so that set function is well defined.
\end{enumerate}
\begin{definition}[Lebesgue Outer Measure]
	Let $A \subset \mathbb{R}$.
	Let $\mathcal{C} = \{ I_k : k \in \mathbb{N}\}$ be an open cover of $A$ such that $I_k$ are non-empty, bounded, open intervals.
	Consider the sum of length of intervals for such covers of $A$.
	(Lebesgue) Outer Measure $m^\ast(A)$ is the infimum of all such sums.
\begin{equation}
	 m^\ast(A) = \inf \left\{ \sum_{k=1}^\infty l(I_k) : A \subset \bigcup_{k=1}^\infty I_k \right\} 
	 \label{eq:outermeasure}
\end{equation}
\end{definition}
\subsubsection{Properties of Lebesgue Outer Measure}
\begin{enumerate}
	\item Outer Measure of the empty set is zero\\
	Let $\varepsilon > 0$.
	Then $\mathcal{C}_\varepsilon = \{ (0,\frac{\varepsilon}{2^n}) : n \in \mathbb{N} \}$ is an open cover of $\phi$ containing nonempty, bounded, open intervals.
	Clearly, sum of length of intervals in $C_\varepsilon = \varepsilon$.
	Suppose $m^\ast(\phi) = \delta$ and $\delta > 0$.
	There exists $\varepsilon$ such that $0 < \varepsilon < \delta$.
	The sum of intervals of $\mathcal{C}_\varepsilon$ is less than $\delta$, which is a contradiction by the definition of Outer Measure.
	\item Outer Measure is monotone\\
	Suppose $A \subset B$.
	Then every cover of $B$ is also an  cover of $A$.
	Let $\mathcal{U}$ be the set of all open covers of $A$ with nonempty, bounded intervals and $\mathcal{V}$ be the set of all such open covers of $A$.
	Clearly, $\mathcal{V} \subset \mathcal{U}$.
	We know that, if $A \subset B$, then $\inf{B} \le \inf{A}$.
	Therefore,
	\begin{equation}
		A \subset B \implies m^\ast(A) \le m^\ast(B)
	\end{equation}
	\item Outer Measure of Countable Sets is zero\\
	Let $C$ be a countable set.
	That is, $C = \{ c_k \}_{k=1}^\infty$.\\
	Then $\{ (c_k-\frac{\varepsilon}{2^k}, c_k + \frac{\varepsilon}{2^k}) \}_{k=1}^\infty$ is cover of $C$ with sum of length of intervals $\varepsilon$.
	Thus, for any $\varepsilon > 0$, we have $m^\ast(C) \le \varepsilon$.
	Thus, $m^\ast(C) = 0$.
	\item Outer Measure of an Interval is its length
	\begin{proof}
		\textbf{Case 1 : Closed, Bounded Interval}
		Let $[a,b]$ be a closed, bounded interval.
		Then for any $\varepsilon > 0$, $(a-\varepsilon,b+\varepsilon)$ is a cover of $[a,b]$.
		Thus, by the definition of Lebesgue outer measure $m^\ast([a,b]) \le b-a+2\varepsilon$ since $[a,b] \subset (a-\varepsilon,b+\varepsilon)$ and $m^\ast$ is monotonic.
		Therefore,
	\begin{equation}
		m^\ast([a,b]) \le b-a
	\end{equation}

	Since $[a,b]$ is closed and bounded, $[a,b]$ is compact.
	And by Heine-Borel theorem, every open cover of $[a,b]$ has a finite subcover.
	Thus, it is sufficient to prove the theorem for finite covers of $[a,b]$.\\

	Let $\mathcal{C}$ be a finite cover of $[a,b]$ with $n$ open intervals.
	Let $(a_1,b_1)$ be an open interval containing $a$ in $\mathcal{C}$.
	Then $a_1 < a < b_1$.
	If $b_1 > b$ then $l(a_1,b_1) > l(a,b)$.
	And $\displaystyle \sum_{i=1}^k l(I_k) \ge l(a_1,b_1) \ge b-a$.

\begin{center}
\begin{tikzpicture}
	\draw (-3,0) -- (3,0);
	\draw[blue] (-1.5,0.1) -- (1.5,0.1);
	\draw (-1,0) circle (0.05cm);
	\draw (-1,-0.5) node{$a$};
	\draw (1,0) circle (0.05cm);
	\draw (1,-0.5) node{$b$};

	\draw (-1.5,0) circle (0.05cm);
	\draw (-1.5,-0.5) node{$a_1$};
	\draw (1.5,0) circle (0.05cm);
	\draw (1.5,-0.5) node{$b_1$};
\end{tikzpicture}
\end{center}

	Suppose $b_1 < b$.
	Clearly, $a < b_1$.
	And the cover $\mathcal{C}$ must have an open interval containing $b_1$.
	Otherwise $\mathcal{C}$ is not a cover of $[a,b]$.
	That is, there exists $(a_2,b_2)$ containing $b_1 \in (a,b)$ such that $a_2 < b_1 < b_2$.
	If $b_2 > b$, then $\displaystyle \sum_{i=1}^k l(I_k) \ge l(a_1,b_1) + l(a_2,b_2) \ge l(a_1,b_2) \ge b-a$.

\begin{center}
\begin{tikzpicture}
	\draw (-3,0) -- (3,0);
	\draw (-1,0) circle (0.05cm);
	\draw (-1,-0.5) node{$a$};
	\draw (1,0) circle (0.05cm);
	\draw (1,-0.5) node{$b$};

	\draw (-1.5,0) circle (0.05cm);
	\draw (-1.5,-0.5) node{$a_1$};
	\draw (0.5,0) circle (0.05cm);
	\draw (0.5,-0.5) node{$b_1$};
	\draw[blue] (-1.5,0.1) -- (0.5,0.1);

	\draw (0,0) circle (0.05cm);
	\draw (0,-0.5) node{$a_2$};
	\draw (1.5,0) circle (0.05cm);
	\draw (1.5,-0.5) node{$b_2$};
	\draw[red] (0,0.2) -- (1.5,0.2);
\end{tikzpicture}
\end{center}

	Suppose $b_2 < b$.
	Continuing like this we get, $N$ open intervals in $\mathcal{C}$, $\{ (a_k,b_k) : k = 1,2,\cdots,N \} $ such that $a_1 < a < b_1$ and $a_N < b < b_N$ and $a_k < b_{k-1} < b_k$ for all $k$.
	The process should terminate in finite steps as $\mathcal{C}$ is a finite cover of $[a,b]$.
	Then $\displaystyle \sum_{k=1}^N l(I_k) \ge \sum_{k=1}^N l(a_k,b_k) \ge l(a_1,b_N) \ge b-a$.

\begin{center}
\begin{tikzpicture}
	\draw (-5,0) -- (-1,0);
	\draw[dashed] (-1,0) -- (1,0);
	\draw (1,0) -- (6.5,0);

	\draw (-4,0) circle (0.05cm);
	\draw (-4,-0.5) node{$a$};
	\draw (5.5,0) circle (0.05cm);
	\draw (5.5,-0.5) node{$b$};

	\draw (-4.5,0) circle (0.05cm);
	\draw (-4.5,-0.5) node{$a_1$};
	\draw (-3,0) circle (0.05cm);
	\draw (-3,-0.5) node{$b_1$};
	\draw[blue] (-4.5,0.1) -- (-3,0.1);

	\draw (-3.5,0) circle (0.05cm);
	\draw (-3.5,-0.5) node{$a_2$};
	\draw (-2,0) circle (0.05cm);
	\draw (-2,-0.5) node{$b_2$};
	\draw[red] (-3.5,0.2) -- (-2,0.2);

	\draw (-2.5,0) circle (0.05cm);
	\draw (-2.5,-0.5) node{$a_3$};
	\draw (-1,0) circle (0.05cm);
	\draw (-1,-0.5) node{$b_3$};
	\draw[blue] (-2.5,0.1) -- (-1,0.1);
	
	\draw (-1.5,0) circle (0.05cm);
	\draw (-1.5,-0.5) node{$a_4$};
	\draw[red,dashed] (-1.5,0.2) -- (0.5,0.2);

	\draw (2.5,0) circle (0.05cm);
	\draw (2.5,-0.5) node{$b_{N-2}$};
	\draw[blue,dashed] (0.5,0.1) -- (2.5,0.1);

	\draw (1.5,0) circle (0.05cm);
	\draw (1.5,-0.5) node{$a_{N-1}$};
	\draw (4.5,0) circle (0.05cm);
	\draw (4.5,-0.5) node{$b_{N-1}$};
	\draw[red] (1.5,0.2) -- (4.5,0.2);

	\draw (3.5,0) circle (0.05cm);
	\draw (3.5,-0.5) node{$a_N$};
	\draw (6,0) circle (0.05cm);
	\draw (6,-0.5) node{$b_N$};
	\draw[blue] (3.5,0.1) -- (6,0.1);
\end{tikzpicture}
\end{center}

	Clearly, every open cover of $[a,b]$ contains a finite subcover $\mathcal{C}$, which contains a finite subcover of the form $\{ (a_k,b_k) : k=1,2,\cdots,N \}$ such that $\displaystyle \sum_{k=1}^N l(I_k) \ge b-a$.
	Thus, for any open cover $\displaystyle \sum_{k=1}^\infty l(I_k) \ge b-a$.
	And thus,
	\begin{equation}
		m^\ast([a,b]) \ge b-a
	\end{equation}

	\textbf{Case 2 : Bounded Interval}
	Let $I$ be a bounded interval.
	Then there exists bounded closed intervals $J_1$ and $J_2$ such that $J_1 \subsetneq I \subsetneq J_2$ such that $l(I) - \varepsilon < l(J_1)$ and $l(J_2) < l(I)+\varepsilon$.
	Suppose $I = (a,b]$, then $J_1 = [a+\frac{\varepsilon}{2}, b-\frac{\varepsilon}{2}]$ and $J_2 = [a-\frac{\varepsilon}{2},b+\frac{\varepsilon}{2}]$.\\

	By monotonicity of Lebesgue outer measure, we have $m^\ast(J_1) \le m^\ast(I) \le m^\ast(J_2)$.
	However $m^\ast(J_1) = l(I)-\varepsilon$ and $m^\ast(J_2) = l(I)+\varepsilon$.
	Thus, $l(I)-\varepsilon \le m^\ast(I) \le l(I)+\varepsilon$.
	Therefore, $m^\ast(I) = l(I)$.

	\textbf{Case 3 : Unbounded Interval}
	Let $I$ be an unbounded interval.
	Then for any natural number $n$, there exists a closed bounded interval $J$ such that $J \subset I$ and $l(J) = n$.
	And $n = m^\ast(J) \le m^\ast(I),\ \forall n \in \mathbb{N}$.
	Therefore, $m^\ast(I) = \infty = l(I)$. 
	\end{proof}
	\item Outer Measure is translation invariant
	\begin{proof}
	Let $A$ be any set and $y \in \mathbb{R}$.
	Let $\{ I_k : k = 1,2,\dots \}$ be a cover of $A$.
	Then $\{ I_k+y : k = 1,2,\dots \}$ is a cover of $A+y$.
	And $l(I_k) = l(I_k+y)$ for every natural number $k$ and real number $y$.
	Thus, $\displaystyle \sum_{k=1}^\infty l(I_k) = \sum_{k=1}^\infty l(I_k+y)$.
	Clearly, for each cover $\{I_k\}_{k=1}^\infty$ of $A$, there exists a cover $\{ I_k+y \}_{k=1}^\infty$ of $A+y$ containing intevals of same length.
	Therefore, $m^\ast(A) = m^\ast(A+y)$.
	\end{proof}
	\item Outer Measure is countably subadditive
		\begin{equation}
			m^\ast \left( \bigcup_{k=1}^\infty E_k \right) \le \sum_{k=1}^\infty m^\ast(E_k)
		\end{equation}
	\begin{proof}
	Let $\{E_k\}_{k=1}^\infty$ be a countable collection of sets.
	Without loss of generality $m^\ast(E_k) < \infty$ for any $k$.
	Suppose $m^\ast(E_k) = \infty$ for some $k$. Then the result is trivial.
	Since the outer measure is finite, for each natural number $k$, we have a cover of $E_k$, say $\{ I_{k,i} \}_{i = 1}^\infty$ such that 
	\[ \sum_{i=1}^\infty l(I_{k,i}) < m^\ast(E_k) + \frac{\varepsilon}{2^k} \]
	Suppose that, for some $\varepsilon > 0$, $E_k$ doesn't have such a cover, then $m^\ast(E_k) + \frac{\varepsilon}{2^k}$ is an upper bound contradicting the assumption that $m^\ast(E_k)$ is the least upper bound.\\

	The union of all such open intervals $I_{k,i}$ is a countable cover of $\bigcup E_k$.
	Thus,
`	\begin{align*}
	m^\ast \left( {\color{red}\bigcup_{k = 0}^\infty E_k }\right)
	\le & \sum_{k,i=1}^\infty l(I_{k,i}) \\
	\le & \sum_{k=1}^\infty \sum_{i=1}^\infty l(I_{k,i}) \\
	= & \sum_{k=1}^\infty \left( m^\ast(E_k) + \frac{\varepsilon}{2^k} \right) \\
	= & \sum_{k=1}^\infty  m^\ast(E_k) + \varepsilon
	\end{align*}
\end{proof}
	\textbf{Note : } Finite subadditivity is a weaker notion than countable subadditivity.
	Since every finite collection is a countable collection.
\end{enumerate}

\subsubsection{Exercise}
\begin{enumerate}
	\setcounter{enumi}{4}
\item Closed Interval $[0,1]$ is uncountable.\\
	Suppose $[0,1]$ is countable, then Lebesgue outer measure of any countable set is zero, $m^\ast([0,1]) = 0$.
		But, $[0,1]$ is an interval and Lebesgue outer measure of an interval is its length, $m^\ast([0,1]) = l([0,1]) = 1$ which is a contradiction.
\item $m^\ast([0,1] - \mathbb{Q}) = 1$
	\[ [0,1] = \left( [0,1] \cap \mathbb{Q} \right)\ \cup\ \left( [0,1]\cap \mathbb{Q}^c \right) \]
	Clearly, $m^\ast([0,1]) = 1$.
		And $[0,1] \cap \mathbb{Q}$ is a countable set since $\mathbb{Q}$ is countable.
		And thus has Lebesgue outer measure zero.
		Thus by countable subadditivity, we have
		\[ 1 = m^\ast([0,1]) \le m^\ast([0,1] \cap \mathbb{Q}^c) + 0 \]
		Thus, $m^\ast([0,1] \cap \mathbb{Q}^c) \ge 1$.
		And $[0,1] \cap \mathbb{Q}^c\ \subset [0,1]$.
		By monotonicity, $m^\ast([0,1] \cap \mathbb{Q}^c) \le m^\ast([0,1]) = 1$.
		Therefore, $m^\ast([0,1] \cap \mathbb{Q}^c) = 1$.
	\item Construction of a $G_\delta$ set containing $E$
		\begin{proof}
			Let $E$ be a bounded subset of $\mathbb{R}$.
			Then there exists a bounded, open interval $A$ containing $E$ since $E$ is bounded.
			And,
			\[ m^\ast(E) \le m^\ast(A) = l(A) < \infty \]
			Since, $E$ is of finite outer measure for any $n \in \mathbb{N}$ there exists an open cover $I_{n,k}$ such that
			\[ m^\ast(E) \le \sum_{k=1}^\infty l(I_{n,k}) + \frac{1}{n} \]
			Define
			\[ G = \bigcap_{n \in \mathbb{N}} \bigcup_{k=1}^\infty I_{n,k} \]
			Clearly, $E \subset G$ and $G$ is a $G_\delta$ set.
			And $m^\ast(G) \le m^\ast(E) + \frac{1}{n}$ for any $n \in \mathbb{N}$.
			Therefore, $m^\ast(G) = m^\ast(E)$.
		\end{proof}
	\item 
		Let $B = [0,1]\cap \mathbb{Q}$.
		Let $\{I_k\}_{k=1}^n$ be any finite cover of $B$.
		Let $(a_1,b_1)$ be the open interval containing $0$.
		If $b_1 < 1$, let $(a_2,b_2)$ be the open interval containing $b_1$.
		Since rational numbers are dense, even if $b_1$ is irrational there must exists an open interval containing $b_1$ as the number of open intervals covering $B$ is finite.
		Continuing like this we get open intervals $(a_1,b_1),(a_2,b_2),\dots,(a_n,b_n)$ such that $1 \in (a_n,b_n)$ and
		\[ \sum_{k=1}^n l(a_k,b_k) \le l(a_1,b_n) = b_n-a_1 > 1 \]
		Thus, for any finite cover of $B$, the length of cover is greater than $1$.
	\item hint : $A \cup B = A \cup (B-A) = A \cup (B \cap A^c)$
	\item hint : $A$ and $B$ are separated by distance $\alpha$, thus are disjont.
\end{enumerate}

\subsection{$\sigma$-algebra of Lebesgue Measurable Sets}
	Lebesgue Outer Measure is defined for any subset of real numbers and Lebesgue outer measure of an interval is its length.
	However, it isn't countable additive.\\

	There exists disjoint sets $A,B$ such that $m^\ast(A\cup B) < m^\ast(A)+m^\ast(B)$.\\
	
	Since countable additivity is a favourable property over countable subadditivity.
	We restrict the family of subsets of real numbers to those subsets that allow countable additivity.
	
\subsubsection{Lebesgue Measurable Set}
\begin{definition}[Measurable Set]
	Let $E$ be a subset of $\mathbb{R}$.
	Then $E$ is Lebesgue measurable if
\begin{equation}
	m^\ast(A) = m^\ast(A \cap E) + m^\ast(A \cap E^c)
	\label{eq:measurable1}
\end{equation}
	for any subset $A$ of $\mathbb{R}$.
\end{definition}

	In other words, $E$ is Lebesgue measurable if $E$ doesn't affect countable additivity of Lebesgue Outer Measure.\\

	We will consider only those subset of real numbers, which won't affect countable additivity.
	These subsets are \textbf{Lebesgue Measurable}.
	And we could show that the collection of all Lebesgue Measurable sets forms a $\sigma$-algebra.
	Clearly, intervals allow countable additivity, thus the Borel Algebra is contained in this $\sigma$-algebra of Lebesgue measurable sets.

\subsubsection{Simplified Condition for Lebesgue Measurability}

	We know that Lebesgue Outer Measure has countable subadditivity.
	\begin{equation*}
		m^\ast(A) \le m^\ast(A \cap E) + m^\ast(A \cap E^c)
	\end{equation*}
	Thus, for condition (\ref{eq:measurable1}), it is sufficient to check the following condition,
	\begin{equation}
		m^\ast(A) \ge m^\ast(A \cap E) + m^\ast(A \cap E^c)
		\label{eq:measurable2}
	\end{equation}

\subsubsection{Properties of Lebesgue Measure}
\begin{enumerate}
	\item Any set of Lebesgue outer measure zero is Lebesgue measurable.
	\begin{proof}
		Let $E$ be a subset of real numbers with Lebesgue outer measure zero.
		Let $A$ be any subset of real numbers.
		Then $A = (A \cap E) \cup (A \cap E^c)$.
		By countable additivity, $m^\ast(A) \le m^\ast(A \cap E) + m^\ast(A \cap E^c)$.
		Since $A\cap E \subset E$, we have by monotonicity $m^\ast(A \cap E) \le m^\ast(E) = 0$.\\


		Again, $A \cap E^c \subset A$ and by monotonicity, $m^\ast(A) \ge m^\ast(A \cap E^c) = 0+m^\ast(A \cap E^c) = m^\ast(A\cap E) + m^\ast(A \cap E^c)$.
		Thus, $E$ is Lebesgue measurable by the simplified condition for Lebesgue measurability.
	\end{proof}

	\item Countable sets are Lebesgue measurable.
	\begin{proof}
	Countable sets are of Lebesgue outer measure zero.
	And sets of Lebesgue outer measure zero are Lebesgue measurable.
	Thus, they are Lebesgue measurable.
	\end{proof}
	\item Finite union of Lebesgue measurable sets is Lebesgue measurable.
		\label{thm:finiteunionmeasurable}
	\begin{proof}
		It is enough to prove that if $E_1$ and $E_2$ are Lebesgue measurable, then their union is also Lebesgue measurable.
		Then, by finite mathematical induction, we can prove that the result if true for any finite collection of Lebesgue measurable sets.\\


	Suppose $E_1, E_2$ are Lebesgue measurable sets.
	Since $E_1$ is Lebesgue measurable,
	\begin{equation}
		m^\ast(A) = m^\ast(A \cap E_1) + m^\ast(A \cap E_1^c)
	\end{equation}
	And consider $A \cap E_1^c$ instead of $A$.
	Since $E_2$ is Lebesgue measurable, we get
	\begin{equation}
		m^\ast(A \cap E_1^c) = m^\ast(A \cap E_1^c\cap  E_2) + m^\ast(A \cap E_1^c \cap E_2^c)
	\end{equation}

	We have $(A \cap E_1^c) \cap E_2^c = A \cap (E_1^c \cap E_2^c) = A \cap (E_1 \cup E_2)^c$.
	And $(A \cap E_1) \cup (A \cap E_1^c \cap E_2) = (A \cap E_1) \cup [A \cap (E_2 \cap E_1^c)] = A \cap (E_1 \cup E_2)$.
\begin{center}
\begin{tikzpicture}[scale=0.25]
	\filldraw[fill = cyan] (0,-1.5) circle (3cm);
	\filldraw[fill = white] (1,1.5) circle (3cm);
	\filldraw[fill = white] (-1,2.5) circle (3cm);
	\draw (0,-1.5) circle (3cm);
	\draw (1,1.5) circle (3cm);
	\draw (-2,-5) node{$A$};
	\draw (5,4) node{$E_1$};
	\draw (-5,4) node{$E_2$};

	\begin{scope}
		\clip (25,-1.5) circle (3cm);
		\fill[blue] (24,2.5) circle (3cm);
	\end{scope}
	\begin{scope}
		\clip (25,-1.5) circle (3cm);
		\fill[cyan] (26,1.5) circle (3cm);
	\end{scope}
	\draw (25,-1.5) circle (3cm);
	\draw (26,1.5) circle (3cm);
	\draw (24,2.5) circle (3cm);
	\draw (23,-5) node{$A$};
	\draw (30,4) node{$E_1$};
	\draw (20,4) node{$E_2$};
\end{tikzpicture}
\end{center}
	\begin{align*}
		m^\ast(A) = & m^\ast(A \cap E_1) + m^\ast(A \cap E_1^c) \\
		= & {\color{blue}m^\ast(A \cap E_1) + m^\ast(A \cap E_1^c \cap E_2)} + m^\ast(A \cap E_1^c \cap E_2^c) \\
		\ge & {\color{blue}m^\ast[A \cap (E_1 \cup E_2)]} + m^\ast[A \cap (E_1 \cup E_2)^c] 
	\end{align*}
	Therefore $E_1 \cup E_2$ is Lebesgue measurable.
		And by finite induction, finite union of Lebesgue measurable sets is also Lebesgue measurable.
	\end{proof}

	\item Lebesgue Measure is finitely additive.\\
		In other words, Suppose $\{E_k\}_{k = 1}^n$ be a finite collection of disjoint, Lebesgue measurable sets.
		Then Lebesgue measure of their union is the sum of Lebesgue measures.
	\begin{proof}
	Let $A$ be any subset of $\mathbb{R}$ and $\{ E_k \}_{k=1}^n$ be a finite collection of disjoint, Lebesgue measurable subsets of $\mathbb{R}$.
	\begin{equation}
		\text{Claim : }	m^\ast \left( A \cap \left[ \bigcup_{k=1}^\infty E_k\right] \right) = \sum_{k=1}^\infty m^\ast (A \cap E_k)
	\end{equation}
	Trivially, the claim is true for $n=1$.
		Suppose the claim is true for $n-1$.
		That is,
	\begin{equation}
		m^\ast \left( A \cap \left[ \bigcup_{k=1}^{n-1} E_k \right] \right) = \sum_{k=1}^{n-1} m^\ast (A \cap E_k)
	\end{equation}
	From set theory we have,
	\begin{align}
		A \cap \left[ \bigcup_{k=1}^n E_k \right] \cap E_n & = A \cap E_n\\
		A \cap \left[ \bigcup_{k=1}^n E_k \right] \cap E_n^c  & = A \cap \left[ \bigcup_{k=1}^{n-1} E_n \right]
	\end{align}
	By Lebesgue measurability of $E_n$, we have
	\begin{align*}
		m^\ast \left( A \cap \left[ \bigcup_{k=1}^n E_k \right] \right) = & m^\ast \left( A \cap \left[ \bigcup_{k=1}^n E_k \right] \cap E_n \right) + m^\ast \left( A \cap \left[ \bigcup_{k=1}^n E_k \right] \cap E_n^c \right)\\
		& = m^\ast \left( A \cap E_n \right) + m^\ast  \left( A \cap \left[ \bigcup_{k=1}^{n-1} E_n \right] \right) \\
		& =  \sum_{k=1}^n m^\ast \left( A \cap E_k \right) \text{, by mathematical induction}
	\end{align*}
	Taking $A = \mathbb{R}$, we get Lebesgue measure is finitely additive.
		That is,
	\begin{equation}
		m^\ast \left( \bigcup_{k=1}^n E_k \right) = \sum_{k=1}^n m^\ast \left( E_k \right)
	\end{equation}
	\end{proof}
\item Countable union of Lebesgue measurable sets is Lebesgue measurable
	\label{thm:countableunionmeasurable}
	\begin{proof}
		Let $A$ be any subset of $\mathbb{R}$.
		And $\{ E_k \}_{k=1}^\infty$ be a countable collection of disjoint, Lebesgue measurable subsets of $\mathbb{R}$.
		Define $F_n = \cup_{k=1}^n E_k$ and $E = \cup_{k=1}^\infty E_k$.
		Clearly, $F \subset E$ and $F^c \supset E^c$.
		Thus, $m^\ast(A \cap F_n^c) \ge m^\ast(A \cap E^c)$.
	\begin{align*}
		m^\ast(A) & =  m^\ast (A \cap F_n) + m^\ast (A \cap F_n^c) \\
		& \ge m^\ast \left( A \cap \left[ \bigcup_{k=1}^n E_k \right] \right) + m^\ast(A \cap E^c) \\
		& \ge \sum_{k=1}^n m^\ast(A \cap E_k) + m^\ast(A \cap E^c) 
	\end{align*}
	\begin{align*}
		\lim_{n \to \infty} m^\ast(A) & \ge \lim_{n \to \infty} \sum_{k=1}^n m^\ast(A \cap E_k) + m^\ast(A \cap E^c) \\
		m^\ast(A) & \ge \sum_{k=1}^\infty m^\ast(A \cap E_k) + m^\ast (A \cap E^c) \\
		& \ge m^\ast \left( A \cap \left[ \bigcup_{k=1}^\infty E_k \right] \right) + m^\ast(A \cap E^c) \\
		\implies m^\ast(A) & \ge m^\ast (A \cap E) + m^\ast(A \cap E^c)
	\end{align*}
		By above inequality, $E = \cup_{k=1}^\infty E_k$ is Lebesgue measurable.\\

		And, any countable collection of Lebesgue measurable sets can be expressed as a countable collection of disjoint, Lebesgue measurable sets.
		Let $\{ E_k \}_{k=1}^\infty$ be a collection of Lebesgue measurable sets.
		Then, the countable collection, $\{ E_k' \}_{k=1}^\infty$ defined by $E_k'= E_k - \cup_{j=1}^{k-1}E_k$ contains disjoint, Lebesgue measurable\dag\footnote{
			Suppose $E_1,E_2$ are measurable, then $E_2^c = \mathbb{R} - E_2$ is measurable by the duality of measurability condition.
		And $E_1 \cap E_2^c = E_1-E_2$ is Lebesgue measurable since countable intersection of Lebesgue measurable sets is Lebesgue measurable (by Property 4 and de Morgan's Law).}
	subsets of $\mathbb{R}$.
		Therefore, countable union of Lebesgue measurable sets is Lebesgue measurable.
	\end{proof}
	\item Every interval is Lebesgue measurable.
	\begin{proof}
	It is sufficient to prove that $(a,\infty)$ is Lebesgue measurable.
	Suppose $(a,\infty)$ is Lebesgue measurable for every $a \in \mathbb{R}$.
	Then interval $(a,b)$ is Lebesgue measurable, since $(a,b) = [(a,\infty) \cap (\mathbb{R}-(b,\infty))]-\{b\}$.\\


	Let $A$ be any subset of $\mathbb{R}$.
	Define $A_1 = A\cap (-\infty,a)$ and $A_2 = A \cap (a,\infty)$ such that $A-\{a\} = A_1 \cup A_2$ and $A_1 \cap A_2 = \phi$.
	And the interval $(a,\infty)$ is Lebesuge measurable only if 
	\begin{equation}
		m^\ast(A) \ge m^\ast(A \cap (a,\infty)) + m^\ast(A \cap (a,\infty)^c) = m^\ast(A_1)+m^\ast(A_2)
		\dag\footnote{We have, $m^\ast(A \cap (-\infty,a]) = m^\ast(A \cap (-\infty,a)$ since removing finite number of points from a subset of $\mathbb{R}$ won't affect its Lebesgue measure.}
	\end{equation}
	Let collection $\{ I_k \}_{k=1}^\infty$ be a countable cover of $A$.
		Then collection $\{ I_k' \}_{k=1}^\infty$ defined by $I_k' = I_k \cap (a,\infty)$ is a cover of $A_1$.
		And collection $\{I_k''\}_{k=1}^\infty$ defined by $I_k'' = I_k \cap (-\infty,a)$ is a cover of $A_2$.\\

	Clearly, $\displaystyle m^\ast(A_1) \le \sum_{k=1}^\infty l(I_k')$ and $\displaystyle m^\ast(A_2) \le \sum_{k=1}^\infty l(I_k'')$.
	\begin{align*}
		m^\ast(A_1)+m^\ast(A_2) & \le \sum_{k=1}^\infty l(I_k') + \sum_{k=1}^\infty l(I_k'') \\
		& \le \sum_{k=1}^\infty l(I_k') + l(I_k'') \\
		& \le \sum_{k=1}^\infty l(I_k) \le m^\ast(A)
	\end{align*}
		Thus, $(a,\infty)$ is Lebesgue measurable.
		Therefore, every interval is Lebesgue measurable.
	\end{proof}
	\item $\sigma$-algebra of Lebesgue measurable sets $\mathcal{M}$ contains Borel Sets $\mathcal{B}$.
	\begin{equation}
		\mathcal{B} \subset \mathcal{M}
	\end{equation}
	\begin{proof}
	The Borel algebra $\mathcal{B}$ is the $\sigma$-algebra containing all intervals.
		We have proved that, every intervals are Lebesgue measurable.
		Also, we have proved that the set of all Lebesgue measurable subsets of $\mathbb{R}$ is a $\sigma$-algebra as complements of Lebesgue measurable sets are Lebesgue measurable by duality of the condition and countable union of Lebesgue measurable sets are also Lebesgue measurable.
		Therefore, every Borel set is Lebesgue measurable.
		Clearly, $G_\delta$ and $F_\sigma$ are Borel sets and are Lebesgue measurable.
	\end{proof}
	\item Lebesgue Measurability is translation invariant.
	\begin{proof}
		Let $E$ be a Lebesgue measurable set.
		Let $A$ be any subset of $\mathbb{R}$ and $y \in \mathbb{R}$.
		Then,
	\begin{align*}
		m^\ast(A) & = m^\ast(A-y)\\
		& = m^\ast((A-y) \cap E) + m^\ast((A-y) \cap E^c)\\
		& = m^\ast(A \cap (E+y)) + m^\ast(A \cap (E+y)^c)
	\end{align*}
		Thus, $E+y$ is Lebesgue measurable.
		And Lebesgue measurability is traslation invariant.
	\end{proof}
\end{enumerate}

\subsubsection{Exercise}
\begin{enumerate}
	\setcounter{enumi}{10}
	\item Let $\mathcal{A}$ be the $\sigma$-algebra containing all intervals of the form $(a, \infty)$.
		Every interval has one of the four forms,
	\begin{align}
		(a,b] = & (a,\infty) \cap (b,\infty)^c \\
		(a,b) = & (a,\infty) \cap \left[\bigcap_{k=1}^\infty \left(b-\frac{1}{k},\infty\right)\right]^c \\
		[a,b] = & \left[ \bigcap_{k=1}^\infty \left(a-\frac{1}{k},\infty\right)\right] \cap (b,\infty)^c \\
		[a,b) = & \left[\bigcap_{k=1}^\infty \left(a-\frac{1}{k},\infty\right)\right] \cap \left[ \bigcap_{k=1}^\infty \left(b-\frac{1}{k},\infty\right)\right]^c
	\end{align}
\item \textbf{Borel sets} is the $\sigma$-algebra containing all open intervals.
	The equations from previous equations are sufficient.
	However, we have a simpler form for closed intervals, $[a,b]$.
	\begin{align}
		[a,b] = & \left[(-\infty,a) \cup (b,\infty) \right]^c 
	\end{align}
		Clearly, every interval is a Borel set.
	\item
	\begin{itemize}
		\item $C \in F_\sigma \implies C = \bigcup_{k=1}^\infty C_k \implies \bigcup_{k=1}^\infty \left(C_k+y\right) = C+y \in F_\sigma$
		\item $O \in G_\delta \implies O = \bigcap_{k=1}^\infty O_k \implies \bigcup_{k=1}^\infty \left( O_k+y \right) =  O+y \in G_\delta$
		\item $m^\ast(E) = 0 \implies 0 = \inf\{\sum_{k=1}^\infty l(I_k)\} = \inf\{\sum_{k=1}^\infty l(I_k+y)\} \implies  m^\ast(E+y) = 0$
	\end{itemize}
	\item A subset $E$ has positive Lebesgue measure if and only if it has a bounded subset of positive Lebesgue measure.
		\[ m^\ast(E) > 0 \iff \exists \text{ bounded subset }F \subset E,\text{ such that } m^\ast(F) > 0 \]
		\textbf{Sufficient Part :} By monotonicity, $F \subset E \implies m^\ast(F) \le m^\ast(E)$.
		And $m^\ast(F) > 0 \implies 0 < m^\ast(F) \le m^\ast(E)$.\\
		\textbf{Necessary Part :}
	\item 
\end{enumerate}

\subsection{Outer and Inner Approximation}
\begin{definition}[Excision Property]
Let $A$ be a Lebesgue measurable set of finite measure and $A \subset B$.
	Then,
\begin{equation}
	m^\ast(B \sim A) = m^\ast(B) - m^\ast(A)
\end{equation}
\begin{proof}
\begin{align*}
	m^\ast(B) = & m^\ast(B \cap A) + m^\ast(B \cap A^c) \\
	= & m^\ast(A) + m^\ast(B \sim A) \\
	\implies m^\ast(B \sim A) = & m^\ast(B) - m^\ast(A)
\end{align*}
\end{proof}
\end{definition}

\begin{theorem}[approximation]
	The following conditions are equivalent to Lebesgue measurability of $E$
\begin{enumerate}
	\item $\forall \varepsilon > 0$, there is an open set $\mathcal{O}$ containing $E$ for which $m^\ast(\mathcal{O}\sim E) < \varepsilon$.
	\item There is a $G_\delta$ set $G$ containining $E$ such that $m^\ast(G \sim E) = 0$.
	\item $\forall \varepsilon > 0$, there is a closed set $F$ contained in $E$ such that $m^\ast(E\sim F) < 0$.
	\item There is an $F_\sigma$ set $F$ contained in $E$ sucht hat $m^\ast(E \sim F) = 0$.
\end{enumerate}
\end{theorem}

\textbf{Note :} Equivalent conditions 1 \& 2 are about outer approximation of a Lebesgue measurable set and 3 \& 4 are about inner approximation of a Lebesgue measurable set.\\

\begin{proof}
\subsubsection*{Measurability $\implies$ Open set - Outer approximation}
	Suppose that $E$ is Lebesgue measurable.
	And let $\varepsilon > 0$.\\


	\textbf{Case 1 :} Suppose $m^\ast(E) < \infty$.
	By definition of Lebesgue outer measure, there exists an open cover $\{ I_k \}_{k=1}^\infty$ such that $\displaystyle \sum_{k=1}^\infty l(I_k) <  m^\ast(E)+\varepsilon$.\\

	Define $\mathcal{O} = \displaystyle \bigcup_{k=1}^\infty I_k$.
	Then $\mathcal{O}$ is an open set containing $E$ and thus Lebesgue measurable.
	Also, $\displaystyle m^\ast(\mathcal{O}) \le \sum_{k=1}^\infty l(I_k) < m^\ast(E) + \varepsilon$.
	Therefore, by excision property we have $m^\ast(\mathcal{O} \sim E) = m^\ast(\mathcal{O}) - m^\ast(E) < \varepsilon$. \\

	\textbf{Case 2 :} Suppose $m^\ast(E) = \infty$.
	Without loss of generality, $E$ may be written as countable union Lebesgue measurable sets $\{ E_k \}_{k=1}^\infty$ of finite measure.\\

	By case 1, for every $k$, there exists $\mathcal{O}_k$ for each $E_k$ of finite measure such that $m^\ast(\mathcal{O}_k \sim E_k) < \frac{\varepsilon}{2^k}$.
	Define $\displaystyle \mathcal{O} = \bigcup_{k=1}^\infty \mathcal{O}_k$.
	Then $\mathcal{O}$ is open, contains $E$ and 
	\begin{align*}
		m^\ast(\mathcal{O} \sim E) = & m^\ast\left(\bigcup_{k=1}^\infty \mathcal{O}_k \sim E \right) \\
		\le & m^\ast \left(\bigcup_{k=1}^\infty \mathcal{O}_k \sim E_k \right) \\
		\le & \sum_{k=1}^\infty m^\ast(\mathcal{O}_k \sim E_k) = \varepsilon \sum_{k=1}^\infty \frac{1}{2^k} = \varepsilon
	\end{align*}

\subsubsection*{Open, Outer approximation $\implies G_\delta$, Outer approximation }
	Let $E$ be a subset of real numbers such that Lebesgue measure of $E$ has an open set inner approximation.
	That is, for every $\varepsilon > 0$, there exists an open set $\mathcal{O}$ such that $m^\ast(\mathcal{O} \sim E) < \varepsilon$.\\

	Let $\mathcal{O}_k$ be open sets such that $m^\ast(\mathcal{O}_k \sim E) < \frac{1}{k}$.
	Define $\displaystyle G = \bigcap_{k=1}^\infty \mathcal{O}_k$.
	Then, $G$ is a $G_\delta$ set containing $E$.
	And $G \sim E \subset \mathcal{O}_k \sim E$.
	Thus, by monotonicity, $m^\ast(G \sim E) \le m^\ast(\mathcal{O}_k \sim E) < \frac{1}{k}$.
	Thus, we have a $G_\delta$ set $G$ containing $E$ such that $m^\ast(G \sim E) = 0$.

\subsubsection*{$G_\delta$-Outer approximation $\implies$ Measurability}
	We have, $m^\ast(G \sim  E) = 0$.
	Since every set of Lebesgue measure zero is Lebesgue measurable, $G \sim E$ is Lebesgue measurable.
	And its complement $(G \sim E)^c$ is also Lebesgue measurable.
	Also we have, $G$ is a $G_\delta$ set, thus a Borel set and hence Lebesgue measurable.\\

	Clearly,we have $E = G \cap (G \sim E)^c$.
	And therefore, $E$ is Lebesgue measurable.

\subsubsection*{Open, Outer approximation $\iff$ Closed, Inner approximation}
	By duality of Lebesgue measurability, $E$ is Lebesgue measurable if and only if $E^c$ is Lebesgue measurable.
	And by de Morgan's Law, we have $E^c$ has an open set - outer approximation $\mathcal{O}$ if and only if $E$ has a closed set - inner approximation $\mathcal{O}^c$.
	\[ m^\ast(\mathcal{O} \sim E^c) < \varepsilon \iff m^\ast(E \sim \mathcal{O}^c) < \varepsilon \]

\subsubsection*{$G_\delta$-Outer approximation $\iff F_\sigma$-Inner approximation}
	Again, by duality of Lebesgue measurability and de Morgan's Law, we have $E^c$ has a $G_\delta$-outer approximation $G$ if and only if $E$ has an $F_\sigma$-inner approximation $F$.
	\[ m^\ast(G \sim E^c) = 0 \iff m^\ast(E \sim F) = 0 \]
\end{proof}

\begin{theorem}
	Let $E$ be a Lebesgue measurable set of finite measure.
	Then for any $\varepsilon > 0$, there exists a finite collection of disjoint open sets $\{ I_k \}_{k=1}^n$ such that  $\displaystyle \mathcal{O} = \bigcup_{k=1}^n I_k$ and $m^\ast(\mathcal{O} \sim E) + m^\ast(E \sim \mathcal{O}) < \varepsilon$.
\end{theorem}
\begin{proof}
	Since $E$ is Lebesgue measurable, by outer approximation theorem we have an open set $U$ such that $E \subset U$ and 
	\begin{equation*}
		m^\ast(U \sim E) < \frac{\varepsilon}{2}
	\end{equation*}

	\begin{align*}
		U =  & (U \cap E) \cup (U \cap E^c)
		\intertext{Since $E$ is Lebesgue measurable, $m^\ast(E) < k$}
		m^\ast(U) = &  m^\ast(U \cap E) + m^\ast(U \cap E^c) \\
		= & m^\ast(E) + m^\ast(U \sim E)
		\intertext{Since $E$ has finite measure}
		m^\ast(U) = & m^\ast(E) + m^\ast(U \sim E) \\
		< & k+\frac{\varepsilon}{2} < \infty
	\end{align*}
	That is, $U$ is of finite measure. \\

	Since $U$ is open, $U$ is countable\dag\footnote{
		By definition, \textbf{Open sets} are countable union of disjoint, open intervals}
	union of a disjoint collection of open intervals, say $\{ I_k \}_{k=1}^\infty$. Clearly,
	\begin{align*}
		\sum_{k=1}^n l(I_k) & \le \sum_{k=1}^\infty l(I_k) \le m^\ast(U) < \infty 
		%\sum_{k=1}^\infty l(I_k) & < \infty  %% not required
		\intertext{ By characterisation of series convergence, there exists an integer $n$ such that,}
		\sum_{k=n+1}^\infty l(I_k) & < \frac{\varepsilon}{2}
	\end{align*}
	Define $\displaystyle \mathcal{O} = \bigcup_{k=1}^n I_k$.
	Since $\mathcal{O} \sim E \subset U \sim E$, by monotonicity we have 
	\begin{equation}
		m^\ast(\mathcal{O} \sim E) \le m^\ast(U \sim E) < \frac{\varepsilon}{2}
	\end{equation}

	Since $E \subset U$, we have $\displaystyle E \sim \mathcal{O} \subset U \sim \mathcal{O} = \bigcup_{k=1}^n I_k$.
	And clearly, 
	\begin{equation*} 
		U \sim \mathcal{O} = \bigcup_{k=1}^\infty I_k \sim \bigcup_{k=1}^n I_k\ \subseteq \bigcup_{k=n+1}^\infty I_k
	\end{equation*}
	\begin{align}
		\text{Thus, } m^\ast(E \sim \mathcal{O}) \le & m^\ast(U \sim \mathcal{O}) \le \sum_{k=n+1}^\infty l(I_k) < \frac{\varepsilon}{2} 
		\intertext{Therefore,}
		m^\ast(E \sim \mathcal{O}) + m^\ast(\mathcal{O} \sim E) < & \varepsilon \nonumber
	\end{align}
\end{proof}

\subsubsection{Exercise}

\begin{enumerate}
	\setcounter{enumi}{16}
\item Let $\varepsilon > 0$ and $E$ is Lebesgue measurable.
	Then there exists open set $\mathcal{O}$ and closed set $F$ such that $F \subset E \subset \mathcal{O}$, $m^\ast(E \sim F) < \frac{\varepsilon}{2}$ and $m^\ast(\mathcal{O} \sim E) < \frac{\varepsilon}{2}$.
	Clearly, $\mathcal{O} \sim E$ and $E \sim F$ are disjoint and $\mathcal{O} \sim F = (\mathcal{O} \sim E) \cup (E \sim F)$.
		Thus by monotonicity of Lebesgue outer measure, we have $m^\ast(\mathcal{O} \sim F) \le m^\ast(\mathcal{O} \sim E) + m^\ast(E \sim F) < \varepsilon$.
\item
 Suppose $E$ has finite outer measure.
	\dag\footnote{
		$E$ has finite outer measure does not imply $E$ is bounded or Lebesgue measurable.}\\
	\textbf{$G_\delta$ set : }
	Let $\varepsilon > 0$.
	Then by the definition of Lebesgue outer measure, there exists a cover $\{ I_k \}_{k=1}^\infty$ of $E$ such that $\displaystyle \sum_{k=1}^\infty l(I_k) < m^\ast(E) - \frac{\varepsilon}{2}$.
	Define $\displaystyle G = \bigcup_{k=1}^\infty I_k$.
	Then $G$ is a $G_\delta$ set and $\displaystyle m^\ast(G) \le \sum_{k=1}^\infty l(I_k) < m^\ast(E) - \frac{\varepsilon}{2}$.\\

	\textbf{$F_\sigma$ set : }
		%---yet to update---
\item
 	Let $E$ be a set of finite outer measure.
	Suppose $E$ is not Lebesgue measurable.
	And $\mathcal{O}$ be an open set containing $E$.
	Then $\mathcal{O} = (\mathcal{O} \sim E) \cup E$.
		By monotonicity, $m^\ast(\mathcal{O}) \le m^\ast(\mathcal{O} \sim E) + m^\ast(E)$.
		%\dag\footnote{I am not able to change $\le$ into $<$ as non-measurability doesn't mean that for this particular $\mathcal{O}$ the sum of Lebesgue outer measures should be greater. There may be a better proof.}
	Since $m^\ast(E)$ is finite, we have $m^\ast(\mathcal{O}) - m^\ast(E) \le m^\ast(\mathcal{O} \sim E)$.
\item  Let $E$ be a set of finite outer measure.
	Suppose $E$ is Lebesgue measurable.
	Let $(a,b)$ be any open, bounded interval.
	Then by the definiton of Lebesgue measurability, $b-a = m^\ast(a,b) = m^\ast((a,b) \cap E) + m^\ast((a,b) \cap E^c)$.
%	Suppose $m^\ast(\mathcal{O}) = m^\ast(\mathcal{O} \cap E) + m^\ast(\mathcal{O} \cap E^c)$ for every open, bounded interval $\mathcal{O}$.
\item  
 	A subset $E$ is Lebesgue measurable if there exists a $G_\delta$ set $G$ containing $E$ such that $m^\ast(G \sim E) = 0$.
	Suppose $E_1$ and $E_2$ are Lebesgue measurable sets.	
	Then, we have $G_\delta$ sets $G_1$ and $G_2$.
	And two countable family of open intervals $\{\mathcal{O}_{1,k}\}_{k=1}^\infty$ and $\{ \mathcal{O}_{2,k}\}_{k=1}^\infty$ such that $\cap \mathcal{O}_{1,k} = G_1$ and $\cap \mathcal{O}_{2,k} = G_2$.
	Let $\mathcal{O} = \{ \mathcal{O}_k \}_{k=1}^\infty$ be collection of open intervals in $\mathcal{O}_1$ and $\mathcal{O}_2$.
	Define $G = \cap_{k=1}^\infty \mathcal{O}_k$.
	Then, $E = E_1 \cup E_2 \subset G_1 \cup G_2 = G$.
	Since $G \sim E = (G_1 \sim E_1) \cup (G_2 \cup E_2)$, by monotonicity of Lebesgue outer measure we have $m^\ast(G \sim E) \le m^\ast(G_1 \sim E_1) + m^\ast(G_2 \sim E_2) = 0$.
\item
	Let $m^{\ast\ast}$ be a non-negative set function defined by $m^{\ast\ast}(A) = \inf \{ m^\ast(\mathcal{O}) : A \subset \mathcal{O}, \mathcal{O} \text{ is open} \}$.
	Suppose $E$ is Lebesgue measurable.
	Then, by open set - outer approximation theorem
	we have $m^\ast(E) \le m^{\ast\ast}(E) < m^\ast(E) + \varepsilon$ for any $\varepsilon > 0$.
	Thus, $m^{\ast\ast}(E) = m^\ast(E)$. \\

	In other words, for Lebesgue measurable sets $m^\ast$ and $m^{\ast\ast}$ are the same.
\item  
	Let $m^{\ast\ast\ast}$ be a non-negative set function defined by $m^{\ast\ast\ast}(E) = \sup \{ m^\ast(F) : F \subset E, F \text{ is closed } \}$.
	Let $E$ be Lebesgue measurable set.
	Then, by closed set - inner approximation theorem
	we have $m^\ast(E) \ge m^{\ast\ast\ast}(E) > m^\ast(E)-\varepsilon$.\\

	In other words, for Lebesgue measurable sets $m^\ast$ and $m^{\ast\ast\ast}$ are the same.
\end{enumerate}
\subsection{Further Properties}
	The Lebesgue measure has the following properties.
	\begin{enumerate}
		\item Every Borel set is Lebesgue measurable.
		\item Lebesgue Measure of an interval is its length.
		\item Lebesuge Measure is translation invariant.
		\item Lebesuge Measure is countably additive.
		\item There exists non-measurable(Lebesgue) sets. eg. $C_E \subset E$
		\item There exists uncountable set of zero measure. eg. Cantor set
	\end{enumerate}
\subsubsection{Countable Subadditivity}
\begin{theorem}
	The set function Lebesgue measure defined on $\sigma$ algebra of Lebesgue measurable sets
	\begin{enumerate*}
		\item assigns length to any interval, 
		\item is translation invariant, and
		\item is countably additive.
	\end{enumerate*}
\end{theorem}
\begin{proof}
\textbf{Length of interval}\\
	Let $E$ be an interval, then $E$ belongs to the $\sigma$ algebra of Lebesgue measurable sets as Borel sets are Lebesgue measurable.
	Also, we have $m^\ast(E) = m(E)$ for any Lebesgue measurable set $E$.
	And Lebesgue outer measure $m^\ast$ of an interval is its length.
	Therefore, Lebesgue measure of any interval is its length.\\

	\textbf{Translation invariant}\\
	Let $E$ be a Lebesgue measurable set.
	We have, $E+y$ is also Lebesgue measurable.
	Since $E+y$ is Lebesgue measurable and Lebesgue outer measure is translation invariant, we have $m^\ast(E) = m^\ast(E+y) = m(E+y)$.
	Clearly, $m(E) = m(E+y)$.\\

	\textbf{Countably additive}
	\footnote{ A real-valued set function $m$ is countably additive if $m(\cup_{k=1}^\infty E_k) = \sum_{k=1}^\infty m(E_k)$ for any disjoint family of sets $\{E_k\}$.}\\
	Let $\{ E_k \}_{k=1}^\infty$ be a countable family of disjoint, Lebesgue measurable sets.
	Lebesgue outer measure is countably subadditive and countable union of Lebesgue measurable sets is also Lebesgue measurable.
	Thus we have,
	\begin{equation*}
	 	m \left( \bigcup_{k=1}^\infty E_k \right) \le \sum_{k=1}^\infty m(E_k)
	\end{equation*}
	Since Lebesgue measure is finitely additive we have,
	\begin{align*}
		m \left( \bigcup_{k=1}^\infty E_k \right) \ge m \left( \bigcup_{k=1}^n E_k \right) = & \sum_{k=1}^n m(E_k)\\
		\lim_{n \to \infty} m \left( \bigcup_{k=1}^\infty E_k \right) \ge \lim_{n \to \infty} m \left( \bigcup_{k=1}^n E_k \right) = & \lim_{n \to \infty} \sum_{k=1}^n m(E_k)\\
	 	\implies m \left( \bigcup_{k=1}^\infty E_k \right) \ge & \sum_{k=1}^\infty m(E_k)
	\end{align*}
	Therefore, Lebesgue measure is countably additive.
	\begin{equation*}
	 	m \left( \bigcup_{k=1}^\infty E_k \right) = \sum_{k=1}^\infty m(E_k)
	\end{equation*}
\end{proof}
\subsubsection{Continuity of Lebesgue measure}
\begin{theorem}[continuity]
	Let $m$ be Lebesgue measure.
\begin{enumerate}
	\item
	Suppose $\{ A_k \}_{k=1}^\infty$ be an ascending
	\footnote{$\{A_k\}$ is ascending if $A_1 \subset A_2 \subset \dots$}
	collection of Lebesgue measurable sets.
	Then, 
	\begin{equation}
		m \left( \bigcup_{k=1}^\infty A_k \right) = \lim_{k \to \infty} m(A_k)
	\end{equation}
	\item
	Suppose $\{ B_k \}_{k=1}^\infty$ be an descending
	\footnote{$\{A_k\}$ is ascending if $B_1 \supset B_2 \supset \dots$}
	collection of Lebesgue measurable sets and $m(B_1) < \infty$.
	Then, 
	\begin{equation}
		m \left( \bigcap_{k=1}^\infty B_k \right) = \lim_{k \to \infty} m(B_k)
	\end{equation}
	\end{enumerate}
	\label{thm:continuityofmeasure}
\end{theorem}
\begin{proof}
	\textbf{Ascending Collection}\\
	Let $\{ A_k \}_{k=1}^\infty$ be an ascending collection of Lebesgue measurable sets. Define $A_0 = \phi$.\\

	\textbf{Case 1 : $\exists k' \in \mathbb{N},\ m(A_k) = \infty$}\\
	Suppose the collection has a Lebesgue measurable set $A_{k'}$ of infinite measure.
	Then for $\forall k \ge k',\ m(A_k) = \infty$.
	Clearly,
	\begin{equation*}
		\lim_{k \to \infty} m(A_k) = \infty = m(A_k) \le m \left( \bigcup_{k=1}^\infty A_k \right)
	\end{equation*}

	\textbf{Case 2 : $\forall k \in \mathbb{N},\ m(A_k) < \infty$}\\
	Suppose that every Lebesgue measurable set in the collection is of finite measure.
	Consider the ascending collection of disjoint Lebesgue measurable sets, $\{ C_k \}_{k=1}^\infty$ given by $C_k = A_k \sim A_{k-1}$.
	Clearly, $\cup_{k=1}^\infty A_k = \cup_{k=1}^\infty C_k$.
	By countable additiviy of Lebesgue measure, we have 
	\begin{equation*}
		m\left( \bigcup_{k=1}^\infty A_k \right) = m \left( \bigcup_{k=1}^\infty C_k \right) = \sum_{k=1}^\infty m(A_k \sim A_{k-1} )
	\end{equation*}
	Also we have,
	\begin{align*}
		\sum_{k=1}^\infty m(A_k \sim A_{k-1}) = & \sum_{k=1}^\infty m(A_k) - m(A_{k-1})  \\
		= & \lim_{n \to \infty} \sum_{k=1}^n m(A_k) - m(A_{k-1}) \\
		= & \lim_{n \to \infty} m(A_n) - m(A_0)
	\end{align*}
	Therefore, $\displaystyle m\left(\bigcup_{k=1}^\infty A_k \right) = \lim_{n \to \infty} A_n$.\\

	\textbf{Descending Collection}
	Let $\{ B_k \}$ be a descending collection of Lebesgue measurable sets and $m(B_1) < \infty$.
	Consider the asceding collection of Lebesgue measurable sets, $\{ D_k \}_{k=1}^\infty$ given by $D_k = B_1 \sim B_k$.
	By the continuity of Lebesgue measure for ascending collection of sets, we have
	\begin{equation*}
		m\left( \bigcup_{k=1}^\infty D_k \right) = \lim_{n \to \infty} m(D_n) = m(B_1) - \lim_{n \to \infty} m(B_n)
	\end{equation*}
	By de Morgan's law, we have $ B_1 - \cap_k B_k = \cup_k (B_1-B_k)$.
	Since $B_1$ is of finite measure, by excision property we have,
	\[ m \left( \bigcap_{k=1}^\infty B_k \right) = m \left(B_1 - \bigcup_{k=1}^\infty D_k \right) = \lim_{n \to \infty} m(B_n) \]
\end{proof}
\subsubsection{Borel-Cantelli Lemma}
\begin{definition}[ae]
	A property of real numbers is true except for a set of zero measure, then it is true \textbf{a}lmost \textbf{e}verywhere.
\end{definition}

\begin{lemma}[Borel-Cantelli]
	Let $\{E_k\}_{k=1}^\infty$ be a countable colection of Lebesgue measurable sets for which $\sum_{k=1}^\infty m(E_k) < \infty$.
	Then, almost all $x \in \mathbb{R}$ belongs to at most finitely many of the $E_k$'s.
	\label{lem:borelcantelli}
\end{lemma}
\begin{proof}
	We have $\sum_{k=1}^\infty m(E_k) < \infty$.
	Then, by convergence of the series 
	\[ \lim_{n \to \infty} \sum_{k=n}^\infty m(E_k) = 0 \]
	Also, $\displaystyle \left\{ \bigcup_{k=n}^\infty E_k \right\}_{n=1}^\infty$ is a descending collection of Lebesgue measurable sets.
	By continuity of Lebesgue measure for descending collection of Lebesgue measurable sets, we have
	\begin{equation*}
		m \left( \bigcap_{n=1}^\infty \bigcup_{k=n}^\infty E_k \right) = \lim_{n \to \infty} m \left( \bigcup_{k=n}^\infty E_k \right) = 0
	\end{equation*}
	Clearly, $\displaystyle \lim_{n \to \infty} \bigcup_{k =n}^\infty E_k$ is a set of zero measure.
	Suppose $x \in \mathbb{R}$ belongs to countably many $E_k$'s.
	Then, for any $m \in \mathbb{N}$, there exists $k > m$ such that  $x \in E_k$.
	Clearly, $\displaystyle x \in \lim_{n \to \infty} \bigcup_{k=n}^\infty E_k$.
	That is, $x$ belongs to a set of zero measure.
	Therefore by contrapositivity, if $x$ does not belong to a set of measuare zero, then $x$ belongs to at most finitely many $E_k$'s.	
	In other words, almost every $x$ in $\mathbb{R}$ belongs to at most finitely many $E_k$'s.
\end{proof}

\subsubsection{Exercise}
\begin{enumerate}
	\setcounter{enumi}{23}
	\item $m(E_1 \cup E_2) + m(E_1 \cap E_2) = m(E_1) + m(E_2)$
	\item $m(B_1) < \infty$ is necessary for continuity property of measure for descending collection of measurable sets.
	\item
	\begin{equation*}
		m^\ast \left( A \cap \bigcup_{k=1}^\infty E_k \right) = \sum_{k=1}^\infty m^\ast(A \cap E_k)
	\end{equation*}
	\item Let $m'$ be set function on a $\sigma$-algebra and $m'$ is countably additive.
		\begin{enumerate}
			\item $m'$ is finitely additive, monotone, countably monotone, and has excision property
			\item $m'$ has continuity properties
		\end{enumerate}
	\item continuity + finite additivity $\implies$ countable additivity
\end{enumerate}

\subsection{Non-measurable sets}
	Every measurable set of positive measure contains a non-measurable set.
\begin{definition}[Rational Equivalence]
	Let $E$ be any subset of $\mathbb{R}$.
	The relation $xRy \iff x-y \in \mathbb{Q}$ is an equivalence\dag\footnote{
		$x-x = 0 \in \mathbb{Q}$, $(y-x) = -(x-y) \in \mathbb{Q}$ and $x-z = (x-y)+(y-z) \in \mathbb{Q}$}
		relation on $\mathbb{R}$.
\end{definition}

\begin{definition}[Choice set, $C_E$]
	Let $E$ be any subset of $\mathbb{R}$ and $R$ be an equivalence relation on $E$.
	By axiom of choice, there exists a choice set $C_E \subset E$ containing an exactly an element from each equivalence class.
\end{definition}

\begin{definition}[translate]
	Let $E$ be a subset of $\mathbb{R}$.
	Let $\lambda \in \mathbb{R}$.
	Then $\lambda + E = \{ \lambda + x : x \in E \}$ is a translate of $E$.
\end{definition}

	With the help of following lemma, we prove that for any measurable set $E$ of positive measure, the subset $C_E$ is non-measurable.

\begin{lemma}
	Let $E$ be a bounded, measurable set.
	Suppose there exists a bounded, countably infinite set $\Lambda$ for which the collection of translates of $E$ under $\Lambda$, $\{ \lambda + E \}_{\lambda \in \Lambda}$ are disjoint.
	Then $m(E) = 0$.
\end{lemma}
In other words, if a bounded measurable set has countably many disjoint translates, then it is of measure zero.
That is, there doesn't exists a bounded set of positive measure which has countably many disjoint translates.
\begin{proof}
	The Lebesgue measure is translation invariant.
	Thus, the translates, $\lambda + E$ are measurable and $m(\lambda + E) = m(E)$.\\

	We have, $E$ and $\Lambda$ are bounded, $\displaystyle \bigcup_{\lambda \in \Lambda}\lambda + E$ is bounded and is of finite measure.
	The Lebesgue measure is countably additive.
	And since translates are disjoint,
\begin{equation*}
	m \left[ \bigcup_{\lambda \in \Lambda} \lambda + E \right] = \sum_{\lambda \in \Lambda} m(\lambda+E) < \infty
\end{equation*}

	Clearly, $m(E) = 0$.
	Suppose $m(E) = \varepsilon$.
	Then $\displaystyle \sum_{\lambda \in \Lambda} m(\lambda + E) = \sum_{\lambda \in \Lambda} \varepsilon = \infty$ since $\Lambda$ has countably infinite elements.
\end{proof}

\begin{theorem}[Vitali]
	Any set $E$ of real numbers with positive outer measure contains a subset that fails to be measurable.
\end{theorem}
	More importantly, every measurable set of positive measure contains as non-measurable set.
\begin{proof}
	\textbf{Case 1 : $E$ is bounded and non-measurable}\\
	Suppose $E$ is not measurable.
	Then $E \subset E$ is a non-measurable set and the result is trivial.\\

	\textbf{Case 2 : $E$ is bounded and measurable}\\
	Suppose $E$ is a bounded, measurable subset of positive measure.
	Let $C_E$ be a choice set of $E$ under rational equivalence.
	Let $\Lambda$ be any bounded, countably infinite set of rational numbers.
	Clearly, the translates of $C_E$ under $\Lambda$ are disjoint.\\

	Suppose $x \in (\lambda_1 + C_E) \cap (\lambda_2 + C_E)$.
	Then, $x = \lambda_1 + y = \lambda_2 + z$.
	Clearly, $y = z$ since $y-z \in \mathbb{Q}$ and we chose precisely one element from each equivalence class.
	Again, $y = z \implies \lambda_1 = \lambda_2$.
	In other words, the intersecting the translates are identical.
	That is, two distinct translates will be disjoint.\\

	Suppose $C_E$ is measurable.
	Since $C_E$ and $\Lambda$ are bounded and $C_E$ has countably many disjoint translates under $\Lambda$, by lemma $m(C_E) = 0$.
	However, $\displaystyle E \subset \!\!\! \bigcup_{\lambda \in [-2b,2b] \cap \mathbb{Q}} \!\!\!\!\!\! \lambda+C_E$ for sufficiently large\dag\footnote{
		Since $E$ is bounded there exists $b \in \mathbb{R}$ such that $E \subset [-b,b]$}
	$b \in \mathbb{R}$.
	\begin{equation*}
		m(E) \le m \left(\bigcup_{\lambda \in [-2b,2b]\cap \mathbb{Q}} \!\!\!\!\!\! \lambda + C_E \right)= \sum_{\lambda \in [-2b,2b] \cap\mathbb{Q}} m(\lambda+C_E) = 0
	\end{equation*}
	which is a contradiction since $E$ has positive measure.\\

	\textbf{Case 3 : $E$ is unbounded and measurable}\\
	Suppose $E$ is an unbounded subset of positive outer measure, then by the definition of Lebesuge outer measure, $E$ has a bounded subset of positive outer measure.
	And by case 1 \& 2, this set has a non-measurable subset.
\end{proof}

\begin{theorem}
	There are disjont subsets $A,B$ of real numbers for which
	\begin{equation}
		m^\ast(A \cup B) < m^\ast(A) + m^\ast(B)
	\end{equation}
\end{theorem}
\begin{proof}
	Suppose that for every disjoint pair of subsets $A,B \subset \mathbb{R},\ m^\ast(A \cup B) = m^\ast(A) + m^\ast(B)$.
	Then, by the definition of Lebesgue measurability, every subset of real numbers is measurable.
	By, Vital's theorem there does exist non-measurable subsets of real numbers which is a contradiction.
	Therefore, there does exists disjoint subsets $A,B$ such that $m^\ast(A \cup B) \ne m^\ast(A) + m^\ast(B)$.
	By subadditivity of Lebesgue outer measure, we have $m^\ast(A \cup B) \le m^\ast(A) + m^\ast(B)$.
	Thererfore, $m^\ast(A \cup B) < m^\ast(A)+ m^\ast(B)$.
\end{proof}

\subsubsection{Exercise}
\begin{enumerate}
	\setcounter{enumi}{28}
	\item
	\begin{enumerate}
		\item
		\item Rational Equivalence on $\mathbb{Q}$ gives singleton choice set as difference two rational numbers is always rational. $\frac{a}{b} - \frac{c}{d} = \frac{ad-bc}{bd}$. Thus, $\{ 0 \}$ is a choice set.
		\item Difference two numbers being irrational is not an equivalence relation as it violates transitivity.
		$x - y, y-z \notin \mathbb{Q} \nimplies x-z \notin \mathbb{Q}$.
		For example, $\sqrt{2} - \sqrt{3}, \sqrt{3} - \sqrt{2}  \notin \mathbb{Q}$.
		However, $\sqrt{2} - \sqrt{2} = 0 \in \mathbb{Q}$.
		\end{enumerate}
	\item
	\item
	\item
	\item
\end{enumerate}

\subsection{Cantor Set and Cantor-Lebesgue Function}

\subsubsection{Cantor set, $C$}
	We know that every countable set is of measure zero. However, subsets of zero measure are not necessarily countable. Cantor set is an uncountable set of zero measure.

\begin{definition}[Cantor set]
	Consider unit interval, $I = [0,1]$.
	Let $C_0 = I$.
	Let $\{ I_k \}$ be the collection of subintervals in $C_k$.
	Construct $C_{k+1}$ recursively by removing subintervals of length $\frac{l(I_k)}{3}$ from the middle of each $I_k$ in $C_k$.
	Cantor set $C$ is given by, 
	\begin{equation}
		C = \bigcap_{k = 1}^\infty C_k
		\label{eq:cantorset}
	\end{equation}
\end{definition}
	Note that $C_k$ are descending collection of $2^k$ disjoint, closed intervals, each of length $\frac{1}{3^k}$.
	Thus, effective length of $C_k$ is $(\frac{2}{3})^k$.

\begin{theorem}
	Cantor set $C$ is a closed, uncountable set of measure zero.
\end{theorem}
\begin{proof}
	\textbf{Step 1 : $C$ is measurable}\\
	By construction, Cantor set is an intersection of (countably	many) closed subsets of real numbers.
	Since intersections of closed sets are closed, Cantor set is also closed.
	Also every closed subset is a Borel set and therefore measurable.\\

	\textbf{Step 2 : $m(C) = 0$}\\
	%We have, $C \subset C_k$ for every $k$.
	%Thus, by monotonicity of Lebesgue measure $m(C) \le m(C_k)$ for every $k$.
	From the construction of $C$,
	we have $m(C_k) = \left( \frac{2}{3} \right)^k$.
	Clearly, $\{ C_k \}_{k=1}^\infty$ is a descending collection of measurable sets and $m(C_1) < \infty$.
	Thus by continuity of Lebesgue measure, 
	\[ m(C) = m \left( \bigcap_{k=1}^\infty C_k \right) =  \lim_{k \to \infty} m(C_k) = \lim_{k \to \infty} \left( \frac{2}{3} \right)^k = 0 \]

	\textbf{Step 3 : $C$ is uncountable}\\
	Suppose $C$ is countable.
	Then elements of $C$ can be enumerated.
	That is, $C = \{ x_k \}_{k=1}^\infty$.
	We have, $x_1  \in C \implies x_1 \in C_1$.
	There are two disjoint intervals in $C_1$.
	Clearly, $C_1$ has an interval $F_1$ which doesn't contain $x_1$.
	Similarly, there exists a closed interval, $F_2$ in  $C_2$ such that $x_2 \notin F_2$ and $F_2 \subset F_1$.
	Continuing like this, we get a descending collection of closed intervals $\{ F_k \}_{k=1}^\infty$ sucht that $x_k \notin F_k$.\\

	By nested set theorem, intersection of descending collection of closed and bounded intervals is non-empty.
	Thus, $\displaystyle \bigcap_{k=1}^\infty F_k \ne \phi$.
	Let $x \in \displaystyle \bigcap_{k=1}^\infty F_k$.
	Clearly $x \ne c_k$ for any $k$ as $\displaystyle c_k \notin F_k \implies c_k \notin \bigcap_{k=1}^\infty F_k$.
	However, $x \in C$ which is a contradiction to the assumption that $C = \{ c_k : k = 1,2,\dots \}$.
	Therefore, elements of $C$ can't be enumerated.
	In other words, $C$ is uncountable.
\end{proof}

\subsubsection{Cantor-Lebesgue Function, $\varphi$}
\begin{definition}[increasing]
	A real-valued function $f$ is increasing if $f(x) \ge f(y)$ for every $x > y$.
\end{definition}
\begin{definition}[strictly increasing]
	A real-valued function $f$ is strictly increasing if $f(x) > f(y)$ for every $x > y$.
\end{definition}

\begin{definition}[Cantor-Lebesgue function $\varphi$]
	Let $C$ be the Cantor set.
	Define open set, $\mathcal{O} = I \sim C$.
	\[ \mathcal{O} = I \sim C = I \sim \left( \bigcap_{k=1}^\infty C_k \right) = \bigcup_{k=1}^\infty \left( I \sim C_k \right) = \bigcup_{k=1}^\infty \mathcal{O}_k \]
	We know that $\mathcal{O}_k$ has $2^{k-1}$ open intervals $I_{k,1}, I_{k,2},\dots,I_{k,2^{k-1}}$.
	Define Cantor-Lebesgue function $\varphi$ on $\mathcal{O}$ by $\varphi(x) = \frac{m}{2^k}$ for every $x \in I_{k,m}$.
	We may extend $\varphi$ to unit interval such that $\varphi(0) = 0$ and $\varphi(x) = \sup \left\{ \varphi(t) : t \in [0,x] \cap \mathcal{O} \right\}$.
\end{definition}

Clearly, by the construction $\phi$ is an increasing real-valued function.

\begin{theorem}[Properties of $\varphi$]
	Cantor-Lebesgue function $\varphi : I \to I$ is a surjection. And $\varphi$ is differentiable in $\mathcal{O}$.
\end{theorem}
\begin{proof}
	We know from the definition of $\varphi$ on $\mathcal{O}$, it is increasing on $\mathcal{O}$.
	And for extending $\varphi$ from $\mathcal{O}$ to $[0,1]$ we are considering the supremum(least upper bound) of all the previous values of $\varphi$ on $\mathcal{O}$.
	Thus, function $\varphi$ is increasing on the unit interval, $[0,1]$.\\

	For continuity of $\varphi$, it is enough to prove that $\varphi$ doesn't have any jump discontinuities\dag\footnote{
		If the function $\varphi$ has unbounded variation(jump) at some points of $[0,1]$.
		That is $\exists \varepsilon > 0$ such that $\forall \delta > 0, \exists x \in [0,1] \text{ where } f(x+\varepsilon/2)-f(x-\varepsilon/2) > \delta$. ---need revisit---}
	as it is an increasing function.
	Suppose $x \in C$ and $x \ne 0$.
	Then for sufficiently large $k$, $x$ lies between two consecutive intervals of $\mathcal{O}_k$.
	Let $a_k$ and $b_k$ be the upper and lower bounds of intervals to the left and right of $x$ in $\mathcal{O}_k$.
	Then $x \in (a_k,b_k)$.\\

	We know that, $\varphi(b_k)-\varphi(a_k) = \frac{1}{2^k}$.
	And $\varphi(a_k) < \varphi(x) < \varphi(b_k)$, by the construction of $\varphi$.
	As $k \to \infty$, the jump $\displaystyle \lim_{k \to \infty} \varphi(b_k)-\varphi(a_k) = \lim_{k \to \infty} \frac{1}{2^k} = 0$.
	Thus, $\varphi$ doesn't have any jump discontinuities.
	Therefore, $\varphi$ is continuous on $[0,1]$.\\

	Clearly, $\varphi$ is constant on each interval of $\mathcal{O}$.
	Therefore, its derivative exists and equals to zero everywhere on $\mathcal{O}$.\\

	We have, $\mathcal{O} = [0,1] \sim C$.
	Thus, $m(\mathcal{O}) = 1$, since $m(C) = 0$ and $m([0,1]) = 1$.
	Also, $\varphi$ is a an increasing, continuous function from $[0,1]$ into $[0,1]$ where $\varphi(0) = 0$ and $\varphi(1) = 1$.
	Therefore, Cantor-Lebesgue function, $\varphi$ is onto unit interval $[0,1]$.
\end{proof}

\subsubsection{Measurable, non-Borel set}
	We already saw that there exists non-measurable subsets.
	Using the properties of the function $\psi$, we assert that there exist a measurable set $\psi^{-1}(W)$ which is not a Borel set.
\begin{theorem}
	The function $\psi : [0,1] \to [0,2]$ defined by $\psi(x) = \varphi(x)+x$
	\begin{enumerate}
		\item is a strictly increasing\dag\footnote{
				Strictly increasing functions are one-to-one.
				Thus, $\psi$ is a bijection.}
			function which maps $[0,1]$ onto $[0,2]$ and
		\item $\psi$ maps Cantor set, $C$ onto a set of positive measure and
		\item $\psi$ maps a measurable\dag\footnote{
			Cantor set is a subset of zero measure.
			Thus every subset of Cantor set is measurable.}
		subset of $C$ onto a non-measurable set.
	\end{enumerate}
\end{theorem}
\begin{proof}
	By definition, $\psi(x) = \varphi(x) + id(x)$.
	We know that the sum of continuous functions is continuous.
	Thus, $\psi$ is continuous.
	Again, the sum of an increasing function and strictly increasing function is always strictly increasing.
	Thus, $\psi$ is a strictly increasing function.\\

	We know that $\psi$ is only translating open intervals in $\mathcal{O}$.
	That is, $\psi(I_{k,m}) = I_{k,m} + \frac{m}{2^k}$.
	In other words, $\psi$ translates every interval $I_k$ in $\mathcal{O}$ into an interval of same length since $\varphi$ is constant in each subinterval of $\mathcal{O}$.
	Thus,
	\[ \displaystyle m(\psi(\mathcal{O})) = \sum_{k=1}^\infty l(\psi(I_k)) = \sum_{k=1}^\infty l(I_k) = m(\mathcal{O}) = 1 \]
	We know that $[0,2] = \psi(\mathcal{O}) \cup \psi(C)$.
	Since $m(\psi(\mathcal{O})) = 1$, $m(\psi(C)) = 2-1 = 1$.\\

	Clearly, $\psi(C)$ is a subset of positive measure.
	Thus, by Vitali's theorem $\psi(C)$ has a subset $W$ which is not measurable.
	However, $\psi^{-1}(W)$ is a subset of $C$ which is of measure zero.
	Therefore, $C$ has a measurable subset which $\psi$ maps onto a non-measurable set.
\end{proof}

\begin{theorem}
	Cantor set has a measurable subset which is not a Borel set.
\end{theorem}
\begin{proof}
	By Vitali's theorem, $\psi(C)$ has a non-measurable subset, say $W$.
	Clearly $W$ is not a Borel set, since every Borel set is measurable.\\

	Now $\psi : \psi^{-1}(W) \to W$ is a bijection.
	And $W \subset \psi(C) \implies \psi^{-1}(W) \subset C$.
	Also we know that, every subset of zero measure sets are measurable.
	Thus, $\psi^{-1}(W)$ is measurable subset of Cantor set, $C$.\\

	Suppose $\psi^{-1}(W)$ is a Borel set.
	Then, $W$ must be a Borel set, since continuous functions maps Borel sets onto Borel sets.
	This leads to a contradiction since $W$ is not a Borel set.
	Therefore, Cantor set $C$ has a measurable, non-Borel subset $\psi^{-1}(W)$.
\end{proof}

%Module 2
%chapter 3
\section{Lebesgue Measurable Functions}
\subsection{Sum, Products, and Compositions}
\begin{theorem}
	Let function $f$ have a measurable domain.
	Then the following statements are equivalent :
	\begin{enumerate}
		\item $\forall c \in \mathbb{R},\ \{ x \in E : f(x) > c\}$ is measurable
		\item $\forall c \in \mathbb{R},\ \{ x \in E : f(x) \ge c\}$ is measurable
		\item $\forall c \in \mathbb{R},\ \{ x \in E : f(x) < c\}$ is measurable
		\item $\forall c \in \mathbb{R},\ \{ x \in E : f(x) \le c\}$ is measurable
	\end{enumerate}
	And each statement above imply that $\{ x \in E : f(x) = c \}$ is measurable.
	\label{thm:4measurablesets}
\end{theorem}
\begin{proof}
	\textbf{Step 1 : $1 \iff 4$ and $2 \iff 3$}\\
	The sets considered in statements $1$ and $4$ are complementary.
	Thus, if one set is measurable, then the other set is also measurable.
	Similarly, the sets in $2$ and $3$ are complementary.
	Thus, one statement implies the other.\\

	\textbf{Step 2 : $1 \implies 2$}\\
	Suppose $\{ x \in E : f(x) > c \}$ is measurable for any real number $c$.
	Clearly, the sets $\{ x \in E : f(x) > c-\frac{1}{k} \}$ is measurable for every natural number $k$.
	And countable intersection of measurable sets is measurable.
	Thus,
	\[ \bigcap_{k=1}^\infty \left\{ x \in E : f(x) > c-\frac{1}{k} \right\} = \left\{ x \in E : f(x) \ge c \right\} \text{ is measurable} \]
	\textbf{Step 3 : $2 \implies 1$}
	Suppose $\{ x \in E : f(x) \ge c \}$ is measurable for any real number $c$.
	Clearly, the sets $\{ x \in E : f(x) \ge c+\frac{1}{k} \}$ is measurable for every natural number $k$.
	Again, countable union of measurable sets is measurable. Thus,
	\[ \bigcup_{k=1}^\infty \left\{ x \in E : f(x) \ge c+\frac{1}{k} \right\} = \left\{ x \in E : f(x) > c \right\} \text{ is measurable} \]
	\textbf{Step 4 : $\forall c \in \mathbb{R},\ \{ x \in E : f(x) =c \}$ is measurable}\\
	Suppose one of the statements is true.
	Then other three statements are also true.
	The sets $\{ x \in E : f(x) \ge c \}$ and $\{ x \in E : f(x) \le c \}$ are both measurable.
	Thus, their intersection $\{ x \in E : f(x) = c \}$ is also measurable.
\end{proof}

\begin{definition}[measurable function]
	A function $f$ is measurable if
	\begin{enumerate}
		\item the domain of $f$ is measurable and
		\item one of the following statements is true 
		\begin{enumerate}
			\item $\forall c \in \mathbb{R},\ \{ x \in E : f(x) > c\}$ is measurable
			\item $\forall c \in \mathbb{R},\ \{ x \in E : f(x) \ge c\}$ is measurable
			\item $\forall c \in \mathbb{R},\ \{ x \in E : f(x) < c\}$ is measurable
			\item $\forall c \in \mathbb{R},\ \{ x \in E : f(x) \le c\}$ is measurable
		\end{enumerate}
	\end{enumerate}
\end{definition}

Note : If $f$ is a measurable function, then its domain is measurable and $f^{-1}(c)$ is measurable for any real number $c$. ({\color{blue}why ?})

\subsubsection{Study of measurable functions}
\begin{enumerate}
	\item \textbf{Inverse images of open sets measurable}\\
		Suppose function $f$ is defined on a measurable set $E$.
	Then $f$ is a measurable function $\iff \forall \text{ open set } \mathcal{O},\ f^{-1}(\mathcal{O})$ is measurable.
		\label{thm:measurabilityopen}
	\begin{proof}
	Given the domain of $f$ is measurable.\\
	\textbf{Step 1 : $f^{-1}(\mathcal{O})$ is measurable $\implies f$ is measurable}\\
	Suppose inverse image of every open set is measurable.
	Then, $f^{-1}(c,\infty) = \{ x \in E : f(x) > c \}$ is measurable.
	Then, by the definition, $f$ is a measurable function.\\

	\textbf{Step 2 : $f$ measurable $\implies f^{-1}(\mathcal{O})$ is measurable}\\
	Suppose function $f$ is measurable.
	Let $\mathcal{O}$ be an open set.
	Then it can be expressed as a countable union of open, bounded intervals, $I_k$.
	That is, $\displaystyle \mathcal{O} = \bigcup_{k=1}^\infty I_k$.
	We know that, $\forall k \in \mathbb{N},\ I_k = (a_k,b_k) = (-\infty,b_k) \cap (a_k,\infty)$.
	By the definition of measurablility $\{ x \in E : f(x) < b_k \} = f^{-1}(-\infty,b_k)$ and $\{ x\in E : f(x) > a_k \} = f^{-1}(a_k,\infty)$ are measurable.
	And $f^{-1}(a_k,b_k) = f^{-1}(-\infty,b_k) \cap f^{-1}(a_k,\infty)$  is measurable.
	Again, inverse image of the open set $f^{-1}(\mathcal{O})$ which is a countable union of measurable sets $\{f^{-1}(I_k)\}_{k=1}^\infty$ is also measurable.
	Therefore, inverse image of every open set is measurable.
	\end{proof}
\item \textbf{Continuous, real-valued functions are measurable}\\
	Suppose the function $f$ has a measurable domain. And $f$ is a real-valued, continuous function. Then $f$ is measurable.
	\begin{proof}
	Let $E$ be a measurable set.
	And $f$ be a continuous function on $E$.
	Let $\mathcal{O}$ be an open set, then by open set characterisation of continuous function we have $f^{-1}(\mathcal{O}) = E \cap U$ where $U$ is an open set.
	Clearly, $f^{-1}(\mathcal{O})$ is a union of two measurable sets and thus measurable.
	Therefore, $f$ is measurable since $\forall \text{ open set } \mathcal{O},\ f^{-1}(\mathcal{O})$ is measurable.
	\end{proof}
\item \textbf{Monotone function on an interval is measurable}
	\begin{proof}
		Without loss of generality, suppose that $f$ is an increasing function defined on an interval $I$.
		Since, every interval is measurable, $f$ is defined on a measurable set.\\

		Consider $\{ g_n \}_{n=1}^\infty$ defined by $g_n(x) = f(x) + \frac{x}{n}$.
		Since $g_n$ are strictly increasing functions, $g_n^{-1}(c,\infty) = I \cap U$ where $U$ is an interval.
		Thus, $g_n^{-1}(c,\infty) = \{ x \in I : g_n(x) > c \}$ is always measurable.
		Therefore, $\{ g_n \}$ is a family of measurable functions.\\


                Now, from the construction of $g_n$, we have $\displaystyle \lim_{n \to \infty} g_n = f$.
                We have, $\{g_n\}$ is a sequence of measurable functions converging pointwise to the limit function $f$ (a.e.) on the interval $I$.
		Therefore, $f$ is measurable.
		\dag\footnote{
			Limit of measurable functions under pointwise convergence(a.e.) is measurable.
			{\color{blue} We will prove this result in the upcoming subsection
.}}
	\end{proof}
\item \textbf{$f$ measurable and $f = g$(a.e) $\implies$ $g$ measurable}
	\label{thm:measurabilityae}
	\begin{proof}
                Suppose $f,g$ are functions defined on a measurable set $E$.
		Suppose $f$ is measurable.
                Let $A \subset E$ such that $A = \{ x \in \mathbb{R} : f(x) \ne g(x) \}$.
		We have $f = g$ (a.e.).
		Thus, $m(A) = 0$.
		And we have,
	\begin{align*}
		\{ x \in E : g(x) > c \} = & \{ x \in A : g(x) > c \} \cup \{ x \in E \sim A : g(x) > c \} \\
		= & \{ x \in A : g(x) > c \} \cup \{ x \in E \sim A : f(x) > c \}\\
                = & \{ x \in A : g(x) > c \} \cup \left[ \{ x \in E : f(x) > c \} \cap (E \sim A) \right]
	\end{align*}
		
		Clearly, $\{ x \in A : g(x) > c \}$ is a subset of a set of measurse zero and thus measurable.
                Also, $E \sim A$ measurable since both $E$ and $A$ are measurable.
		And since $f$ is measurable, $\{ x \in E : f(x) > c\}$ is measurable.
                Thus, $\{ x \in E : g(x) > c\}$ is measurable for any $c \in \mathbb{R}$.
		Therefore, $g$ is a measurable function.
	\end{proof}
\item \textbf{$f$ measurable $\iff$ $f|_D, D \sim E$ measurable ($\forall D$ measurable)}\\
	Suppose function $f$ is an extended real-valued function on a measurable set $E$.
	For measurable subset $D$ of $E$, $f$ is measurable on $E$ if and only if the resctriction of $f$ to $D$ and $D \sim E$ are measurable.
	\begin{proof}
		\textbf{Part 1 : $f$ measurable $\implies f|_D$ measurable}\\
   		Suppose $f$ is a measurable function defined on $E$ and $D$ is a measurable subset of $E$.
		Since, $f$ is measurable, $E$ is measurable.
		Clearly $E \sim D$ is measurable.
		\begin{align*}
			\{ x \in D : f|_D(x) > c \} = & \{ x \in D : f(x) > c \} \\
			= & \{ x \in E : f(x) > c\} \cap D
		\end{align*}
		Since $f$ is measurable, $\{ x \in E : f(x) > c\}$ is measurable for any $c \in \mathbb{R}$.
		And intersection of measurable sets are measurable.
		Thus, $\{ x \in D : f|_D(x) > c\}$ is measurable for any $c \in \mathbb{R}$.
		Therefore, $f|_D$ is a measurable function.
	\end{proof}
\end{enumerate}

\begin{definition}[characteristic function]
	Let $A$ be a subset of $\mathbb{R}$.
	The characteristic function $\chi_A$ of $A$ is given by
	\begin{equation}
		\chi_A(x) = \begin{cases} 1 & x \in A \\ 0 & x \notin A  \end{cases}
	\end{equation}
\end{definition}
\begin{definition}
	Let $\{f_1,f_2,\dots,f_n \}$ be a finite family of measurable functions on the same domain $E$.
	Then $\max\{f_1,f_2,\dots,f_n\}$ on $E$ is given by
	\begin{equation}
	\max\{f_1,f_2,\dots,f_n\}(x) = \max\{f_1(x),f_2(x),\dots,f_n(x)\},\ \forall x \in E
	\end{equation}
	And function $\min\{f_1,f_2,\dots,f_n\}$ on $E$ is given by
	\begin{equation}
	\min\{f_1,f_2,\dots,f_n\}(x) = \min\{f_1(x),f_2(x),\dots,f_n(x)\},\ \forall x \in E
	\end{equation}
\end{definition}
\subsubsection{Properties of Measurable Functions}
Suppose $f,g$ are measurable functions on $E$ and are finite a.e. on $E$.
\begin{enumerate}
\item \textbf{Linearity : }$\alpha f + \beta g$ is measurable $\forall \alpha,\beta$
	\begin{proof}
		\textbf{Step 1 : $f$ measurable $\implies \alpha f$ measurable}\\	
		Suppose $\alpha = 0$.
		Then $\alpha f = 0$.
		And $0$ function is trivially measurable.\\
		Suppose $\alpha \ne 0$.
		Then $\{ x \in E : f(x) > c/\alpha \} = \{ x \in E : \alpha f(x) > c \}$ is measurable for any $c \in \mathbb{R}$.
		Therefore $\alpha f$ is measurable for any $\alpha \in \mathbb{R}$.\\

		In other words, if $f$ is measurable, then $\alpha f$ is measurable and if $g$ is measurable, then $\beta g$ is measurable for any $\alpha,\beta \in \mathbb{R}$.
		Therefore, it is enough to prove that $f,g$ measurable $\implies f+g$ measurable.

		\textbf{Step 2 : $f,g$ are measurable $\implies f+g$ is measurable}\\
		\begin{align*}
			f(x)+g(x) < c \iff & f(x) <  c - g(x) 
			\intertext{Since $\mathbb{Q}$ is dense, there exists a rational number $q \in \mathbb{Q}$ between any two distinct real numbers}
                        f(x) + g(x) < c\iff & \exists q \in \mathbb{Q},\ f(x) < q < c-g(x) \\
			\iff & f(x) < q \text{ AND } g(x) < c-q
		\end{align*}
		\begin{align*}
			\{ x \in E : f+g(x) < c \} = & \{ x \in E : f(x) + g(x) < c \} \\
			= & \bigcup_{q \in \mathbb{Q}} \left[ \{ x \in E : f(x) < c \} \cap \{ x \in E : g(x) < c - q \} \right]
		\end{align*}
		Since, $f,g$ are measurable, each set in the union is measurable.
		Thus, $\{ x \in E : f+g(x) < c\}$ is measurable for every $c \in \mathbb{R}$, since rational numbers are countable, and countable union of measurable sets is measurable.
		Therefore, $f+g$ is measurable.
	\end{proof}
\item \textbf{ Product : }$fg$ is measurable
	\begin{proof}
		Suppose $f,g$ are measurable functions which are finite (a.e.) on a measurable set $E$.
		And we have,
		\begin{equation}
			fg = \frac{1}{2} \left[ (f+g)^2 - f^2 - g^2 \right]
		\end{equation}
		\textbf{Step 1 : $f$ is measurable $\implies f^2$ is measurable}\\
		Suppose $c \ge 0$.
		If $c < 0$, then $\{ x \in E : f^2(x) > c \} = E$ is measurable.
		\begin{equation*}
			\{ x \in E : f^2(x) > c \} = \{ x \in E : f(x) > \sqrt{c} \} \cup \{ x \in E : f(x) < -\sqrt{c} \}
		\end{equation*}
		is a union of two measurable sets and is measurable.\\

		\textbf{Step 2 : $fg$ is measurable} \\
		We have $f,g$ are measurable.
		Thus, $f+g$ is measurable, since linear combination of measurable sets is measurable.
		And, $f^2,g^2,(f+g)^2$ are measurable by Step 1.
		We know that $fg$ is a linear combination of these measurable sets and therefore $fg$ is measurable.
	\end{proof}
\item \textbf{Composition of measurable functions is not necessarily measurable}\\
	We know that, Cantor set $C$ has subset $A = \psi^{-1}(W)$ such that $\psi$ maps $A$ onto a non-measurable set $W$.\dag\footnote{
		From the proof of Vitali's theorem and associated lemma, $\psi(C)$ has such a subset $W$ which is a choice set of $\psi(C)$ under rational equaivalence.}
	Then $A$ is a measurable subset of open interval $(0,1)$ and $\psi(A)$ is non-measurable.\\
		
	Let $\chi_A$ be the characteristic function of $A$.
	Then $\chi_A \circ \psi^{-1}$ is not measurable since $\{ x \in (0,1) : \chi_A \circ \psi^{-1}(x) \ge 1 \} = \psi(A)$ is not measurable.
	But, both the functions $\chi_A$ and $\psi^{-1}$ are measurable functions since $\chi_A^{-1}(y)$ is either $\phi,A$ or $A^c$ and $\psi^{-1}$ is a continuous real-valued function defined on $(0,1)$.
	\item \textbf{If $f$ is continuous and $g$ is measurable, then $f \circ g$ is measurable}
	\begin{proof}
		Suppose $f$ be a continuous function and $g$ be a measurable function both defined on a common set $E$ which is measurable.
		Since $f$ is continuous, we know that $f$ is measurable.\\

		Let $\mathcal{O}$ be an open set.
		Then $(f \circ g)^{-1}(\mathcal{O}) = g^{-1} ( f^{-1}(\mathcal{O}))$.
		By characterisation of continuity, $U = f^{-1}(\mathcal{O})$ is an open set since $\mathcal{O}$ is open.
		And by characterisation of measurability of $g$, we have $g^{-1}(U)$ is an open set since $g$ is measurable and $U$ is open.
		Now we have $(f \circ g)^{-1}(\mathcal{O})$ is an open set for any open set $\mathcal{O}$.
		Therefore by the characterisation of measurability, $f \circ g$ is measurable.
	\end{proof}
\item \textbf{}\\
	For a finite family of measurable functions $\{ f_1, f_2, \dots,f_n \}$ with common domain $E$, both the functions $\max\{f_1,f_2,\dots,f_n\}$ and $\min\{f_1,f_2,\dots,f_n\}$ are measurable.
	\begin{proof}
		Let $\{f_1,f_2,\dots,f_n\}$ be a finite family of measurable functions defined on a common measurable set $E$.
		We have,
		\[ \{ x \in E : max\{ f_1,f_2,\dots,f_n \}(x) > c \} = \bigcup_{k = 1}^n \{ x \in E : f_k(x) > c \} \]
		is a finite union of measurable sets since each $f_k$ is measurable.
		Therefore, $max\{f_1,f_2,\dots,f_n\}$ is measurable.
		Similary, we have,
		\[ \{ x \in E : min\{ f_1,f_2,\dots,f_n \}(x) < c \} = \bigcup_{k = 1}^n \{ x \in E : f_k(x) < c \} \]
		Therefore, $min\{f_1,f_2,\dots,f_n\}$ is also measurable.
		
	\end{proof}
\end{enumerate}

	Note : Let $f$ be a measurable function on a measurable set $E$.\\
	Then $-f$ is measurable since
	\[ \{ x \in E : -f(x) > c \} = \{ x \in E : f(x) < -c \} \]
	And  $|f|,f^+,f^-$ are also measurable since
	\[ |f| = max\{ f,-f \},\ f^+ = max\{ f,0 \},\ f^- = max\{ -f,0 \} \]
	These function $f^+,f^-$ are quite important as we may write $f = f^+ - f^-$ where both the functions $f^+$ and $f^-$ are non-negative.
	And Lebesgue integral for non-negative functions are sufficient to integrate any function $f$.
	\[ \int_E f = \int_E f^+ - \int_E f^- \]

\subsection{Sequential Pointwise Limits and Simple Approximation}
\begin{definition}[pointwise convergence]
	A sequence of functions $\{f_n\}$ on a common domain $E$ convergence pointwise to $f$ if 
	\[ \forall x \in E,\ \lim_{n \to \infty} f_n(x) = f(x) \]
\end{definition}
\begin{definition}[pointwise convergence(a.e.)]
	Let $E_0$ be a set of zero measure.
	A sequence of functions $\{f_n\}$ on a common domain $E$ convergence pointwise a.e. on $E_0 \subset E$ to $f$ if 
	\[ \forall x \in E \sim E_0,\ \lim_{n \to \infty} f_n(x) = f(x) \]
\end{definition}
\begin{definition}[uniform convergence]
	A sequence of functions $\{f_n\}$ on a common domain $E$ convergence uniformly to $f$ if 
	\[\forall \varepsilon > 0,\ \exists N \in \mathbb{N},\text{ such that } \forall n \ge N,\ |f_n-f| < \varepsilon \]
\end{definition}

\begin{theorem}[Pointwise Convergence(a.e.) preserves measurability]
	Let $\{ f_n \}$ be a sequence measurable functions on $E$.
	If $\{ f_n \}$ converges to $f$ pointwise a.e. on $E$, then $f$ is measurable.
\end{theorem}
\begin{proof}
	Let $\{ f_n \}$ be a sequence of measurable functions converging to $f$ pointwise a.e. on $E$.
	Then $\{ f_n\}_{n = 1}^\infty$	converges pointwise on $E \sim E_0$ where $E_0$ is a set of measure zero.
	Without loss of generality, suppose that $\{ f_n \}$ converges pointwise everywhere on $E$.\dag\footnote{
		Consider $E' = E \sim E_0$}\\

	Let $c \in \mathbb{R}$.
	We claim that,
	\begin{equation}
		f(x) < c \iff \exists n,k \text{ such that } f_j(x) < c-\frac{1}{n},\ \forall j \ge k
	\end{equation}
	Suppose that for every natural numbers $n,k$, there exists $j \ge k$ for which $f_j(x) \ge c - \frac{1}{n}$.
	Since $f(x)$ is the limit function, $f(x) \not< c$ which is a contradiction. 
	Thus, we may write,
	\begin{equation}
		\{ x \in E : f(x) < c \} = \bigcup_{n,k = 1}^\infty \left[ \bigcap_{j=k}^\infty \left\{ x \in E : f_j(x) < c-\frac{1}{n} \right\} \right] 
	\end{equation}
	Countable union of countable intersections of measurable sets is also measurable.
	Thus $\{ x \in E : f(x) < c \}$ is a measurable set for any $c \in \mathbb{R}$.
	Therefore, $f$ is measurable.
\end{proof}

\begin{definition}[simple function]
	A real-valued function $\varphi$ on a measurable set $E$ is simple if it is measurable and assumes at most finitely many values.
\end{definition}

Note : $xRy \iff \varphi(x) = \varphi(y)$ is an equivalence relation which partitions $E$ into $k$ disjoint subsets $E$.

Note : Suppose $\varphi$ is a simple function.
Then each equivalent class of $E$ under above equivalence is also measurable by the definition of measurable function.(Why ?)

\begin{definition}[canonical representation]
	The canonical representation of a simple function $\varphi$ on $E$ is given by,
	\begin{equation}
		\varphi = \sum_{k=1}^n c_k \cdot \chi_{E_k} \text{ where } E_k = \{ x \in E : \varphi(x) = c_k \} 
	\end{equation}
\end{definition}

\begin{definition}[bounded]
	Let $f$ be a function on $E$.
	The function $f$ is bounded if there exists $m \in \mathbb{R},\ m \ge 0$ such that $|f(x)| < m$ for every $x \in E$.
\end{definition}

\begin{lemma}[simple approximation]
	Let $f$ be a measurable, real-valued function which is bounded on $E$.
	Then for any $\varepsilon > 0$, there exist simple functions $\varphi_\varepsilon$ and $\psi_\varepsilon$  approximating $f$ (from below and above) such that $0 \le \psi_\varepsilon - \varphi_\varepsilon < \varepsilon$ on $E$.
	\label{lem:simpleapproximation}
\end{lemma}
\begin{proof}
	Let $f$ be a bounded, measurable function on $E$.
	Then there exists open, bounded interval $(c,d)$ such that $f(E) \subset (c,d)$.
	Let $P = \{y_0,y_1,\dots,y_n\}$ be a partitions of open interval $(c,d)$ such that $y_0 =c < y_1 < \dots < y_{n-1} < y_n = d$ and $y_k - y_{k-1} < \varepsilon$ for every $k$.
	Define $I_k = [y_{k-1},y_k)$ and $E_k = f^{-1}(I_k)$.
	Then $E_k$ are measurable since $I_k$ are intervals and $f$ is measurable.({ \color{blue}Why ?})\\

	Define $\displaystyle \varphi_\varepsilon = \sum_{k=1}^n y_{k-1} \cdot \chi_{E_k}$ and $\displaystyle \psi_\varepsilon = \sum_{k=1}^n y_k \cdot \chi_{E_k}$.
	Then for any $x \in E$, we have $\varphi_\varepsilon(x) = y_{k-1} \le f(x) \le y_k = \psi_\varepsilon(x)$
	Clearly, $\varphi_\varepsilon \le \psi_\varepsilon$ by the construction.
	And for each $k$, we have $\psi_\varepsilon(y) - \varphi_\varepsilon(y) = y_k - y_{k-1} < \varepsilon$ for any $y \in [y_{k-1},y_k)$.
	Therefore, $0 \le \psi_\varepsilon - \varphi_\varepsilon < \varepsilon$.
\end{proof}

\begin{theorem}[simple approximation]
	An extended real-valued function $f$ on a measurable set $E$ is measurable if and only if there exists a sequence of simple functions $\{ \varphi_n \}$ converging to $f$ pointwise on $E$ and $|\varphi_n| \le |f|$ on $E$ for every $n \in \mathbb{N}$.\\
	And if $f$ is non-negative, there exists an increasing sequence of functions $\{ \varphi_n \}$ with the same property.
	\label{thm:simpleapproximation}
\end{theorem}
\begin{proof}
	\textbf{Part 1}\\
	Suppose there exists a sequence of simple functions $\{\varphi_n \}$ converging pointwise to $f$ on $E$.
	Since simple functions are measurable and pointwise limit of measurable functions are measurable, $f$ is measurable.\\

	\textbf{Part 2}\\	
	Suppose $f$ is measurable.
	Without loss of generality, suppose that $f \ge 0$ on $E$.
	Otherwise, $f = f^+ - f^-$ where $f^+,f^- \ge 0$.
	And $f$ is measurable since both $f^+$ and $f^-$ are measurable.\\

	\textbf{Step 1 : Construction of simple functions on $E_n$}\\
	Let $n \in \mathbb{N}$.
	Define $E_n = \{ x \in E : f(x) \le n \}$.
	Since $f$ is measurable, $E_n$ is a measurable subset of $E$.
	And we know that $f|_{E_n}$ is also a non-negative, bounded, measurable function.\\

	Then by simple approximation lemma, for $\varepsilon = \frac{1}{n}$ there exists $\varphi_n$ and $\psi_n$ such that $0 \le \varphi_n \le f \le \psi_n$ and $0 \le \psi_n - \varphi_n < \frac{1}{n}$ on $E_n$.\\

	\textbf{Step 2 : Extending simple function to $E$}\\
	Extend $\varphi_n$ to $E$ by setting $\varphi_n(x) = n$ if $f(x) > n$.
	Again, $\varphi_n$ is a simple function on $E$.
	And $0 \le \varphi_n \le f$ on $E$.\\

	\textbf{Step 3 : Sequence of simple functions converging to $f$}\\
	We claim that the sequence of simple functions $\{ \varphi_n \}$ converges to $f$ pointwise on $E$.
	Suppose $x \in E$.
	Suppose $f(x)$ is finite.
	Let $m \in \mathbb{N}$.
	Then $0 \le f(x) - \varphi_n(x) \le \frac{1}{n}$ for all $n \ge m$.
	Therefore, $\displaystyle \lim_{n \to \infty} \varphi_n(x) = f(x)$.
	Suppose $f(x) = \infty$.
	Then $\varphi_n(x) = n,\ \forall n$.
	Therefore, $\displaystyle \lim_{n \to \infty} \varphi_n(x) = f(x)$.\\

	Replace each $\varphi_n$ with $max\{ \varphi_1,\varphi_2,\dots,\varphi_n\}$\dag\footnote{
		We replace each simple function $\varphi_k$ with the maximum of the finite subsequence from $\varphi_1$ upto $\varphi_k$.
		That is,
		$\varphi_1' = max \{ \varphi_1 \} = \varphi_1$, and
		$\varphi_2' = max \{ \varphi_1,\varphi_2 \}$, and
		$\varphi_3' = max \{ \varphi_1,\varphi_2,\varphi_3 \}$, $\dots$
		},
	we have an increasing sequence of simple functions $\varphi_n \}$ converging to $f$ pointwise on $E$.
\end{proof}
\subsubsection{Exercise}
\begin{enumerate}
	\setcounter{enumi}{11}
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
\end{enumerate}
{\color{violet}
\subsection{Littlewood, Egoroff, Lusin}
Out of syllabus - But important for our understanding of the subject.
\subsubsection{Littlewoods' three principles}
\begin{enumerate}
	\item Every measurable set is \textbf{nearly} a finite union of intervals.
	\item Every measurable function is \textbf{nearly} continuous.
	\item Every convergent sequence of measurable functions is \textbf{nearly} uniform.
\end{enumerate}
\begin{theorem}[Egoroff]
	Suppose a sequence $\{ f_n \}$ of measurable functions converges to $f$ pointwise on a set $E$ of finite measure.
	Then for any $\varepsilon > 0$, there exists a closed set $F \subset E$ such that $m(E \sim F) < \varepsilon$ and $\{ f_n \}$ converges to $f$ uniformly on $F$.
\end{theorem}

\begin{theorem}
	Let $f$ be a simple function on $E$.
	Then for any $\varepsilon > 0$, there exists a continuous function $g$ on $\mathbb{R}$ and a closed set $F \subset E$ such that $f =g$ on $F$ and $m(E \sim F) < \varepsilon$.
\end{theorem}

\begin{theorem}[Lusin]
	Let $f$ be a real-valued measurable function on $E$.
	Then for any $\varepsilon > 0$, there exists a continuous function $g$ on $\mathbb{R}$ and closed set $F \subset E$ such that $f=g$ on $F$ and $m(E \sim F) < \varepsilon$.
\end{theorem}
}
%chapter 4
\section{Lebesgue Integration}
\subsection{Riemann integral}
\begin{definition}[partition]
	A set $P = \{a,x_1,x_2,\dots,x_{n-1},b \}$ is a partition of an interval $[a,b]$ into $n$ subintervals if $a < x_1 < x_2 < \dots < x_{n-1} < b$.
\end{definition}
\begin{definition}[lower/upper Riemann integral]
	Let $f$ be a bounded, real-valued function on a closed interval $[a,b]$ and $P$ be a partition of $[a,b]$.
	Let $M_i,m_i$ be the supremum and infimum of $f$ in each subinterval of the partition.
	Then upper and lower Riemann integrals are the infimum of upper Darboux sums and supremum of lower Darboux sums.\\

	Riemann upper integral, 
	\begin{equation}
	 (R)\overline{\int_a^b} f = \inf_P \{ U(f,P) \} = \inf \left\{ \sum_{i=1}^n M_i (x_i - x_{i-1}) \right\} 
	\end{equation}
	Riemann lower integral, 
	\begin{equation}
	 (R)\underline{\int_a^b} f = \sup_P \{ L(f,P) \} = \sup \left\{ \sum_{i=1}^n m_i (x_i - x_{i-1}) \right\} 
	\end{equation}
\end{definition}
\begin{definition}[Riemann integrable]
	A function $f$ is Riemann integrable over $[a,b]$ if lower and upper Riemann integrals are equal.
	And Riemann integral of $f$ over $[a,b]$ is given by,
	\begin{equation}
		(R)\int_a^b f = (R)\overline{\int_a^b} f = (R) \underline{\int_a^b} f 
	\end{equation}
\end{definition}

\begin{definition}[step function]
	A function $\psi$ is a step function if it assumes constant values in each subinterval of some partition of its domain.
	\[ \psi(x) = \sum_{i = 1}^n c_i \cdot \chi_{(x_i,x_{i-1})} \]
\end{definition}
Note : $\displaystyle (R)\int_a^b \psi = \sum_{i=1}^n c_i (x_i-x_{i-1})$
\begin{definition}[Dirchlet's function]
	Dirchlet's function is given by,
	\[ f(x) = \begin{cases} 1 & x \in \mathbb{Q} \\ 0 & x \notin \mathbb{Q} \end{cases} \]
\end{definition}
Note : Dirchlet's function is not Riemann integrable(why ?). But it is Lebesgue integrable since $\mathbb{Q}$ is Lebesgue measurable.

\subsection{Lebesgue integral of a bounded, measurable function over a set of finite measure}
\begin{definition}
	Let $\psi$ be a simple function on a finite measure set $E$.
	Then,
	\begin{equation}
		\int_E \psi = \sum_{i=1}^n a_i \cdot m(E_i) \text{ where } \psi = \sum_{i = 1}^n a_i \cdot \chi_{E_i}
	\end{equation}
\end{definition}
Note : Step functions are simple functions.
And the Riemann integral and Lebesgue integral of step functions are the same.\\

Note : Dirchlet's function is a simple function. And thus Lebesgue integrable.

\begin{lemma}
	Let $\{ E_k \}_{k=1}^n$ be a disjoint collection of measurable subsets of a set $E$ of finite measure.
	If $\varphi = \sum_{k = 1}^n a_k \cdot \chi_{E_k}$, then $\int_E \varphi = \sum_{k=1}^n a_k \cdot m(E_k)$
\end{lemma}
\begin{proof}
	Suppose $\varphi = \sum_{k=1}^n a_k \cdot \chi_{E_k}$ where $E_k$ are of finite measure.
	We consider distinct values of $a_i$, $\{ \lambda_1, \lambda_2, \dots, \lambda_m \}$.
	Then, the function has the canonical representation, $\displaystyle \varphi = \sum_{r = 1}^m \lambda_r \cdot \chi_{A_r}$ where $\displaystyle A_r = \bigcup_{\substack{k \\ a_k = \lambda_r}} E_k$.

	Then, we have $\varphi^{-1}(\lambda_k) = A_k$ is a union of finite measurable set and thus measurable.
	Thus, $\varphi$ is a measurable function which assumes at most $m$ different values.
	And 
	\begin{align*}
		\int_E \varphi = & \sum_{r = 1}^m \lambda_r \cdot m(A_r) \\
		= & \sum_{r = 1}^m \lambda_r \cdot m \left(\bigcup_{\substack{k \\ a_k = \lambda_r}} E_k \right)\\
		= & \sum_{r=1}^m \sum_{\substack{k\\a_k = \lambda_r}} a_k \cdot m(E_k) \\
		= & \sum_{k = 1}^n a_k \cdot m(E_k)
		\end{align*}
\end{proof}

\begin{theorem}[linearity + monotonicity of integral of simple functions]
	Let $\varphi$ and $\psi$ be simple functions defined a set $E$ of finite measure.
	Then for any $\alpha,\beta \in \mathbb{R}$,
	\begin{equation}
		\int_E (\alpha\varphi + \beta\psi) = \alpha \int_E \varphi + \beta \int_E \psi
	\end{equation}
	Moreover, if $\varphi \le \psi$ on $E$, then
	\begin{equation}
		\int_E \varphi \le \int_E \psi
	\end{equation}
\end{theorem}
\begin{proof}
	Suppose $\varphi,\psi$ are simple functions and $\alpha,\beta \in \mathbb{R}$.
	Since $\varphi,\psi$ are simple, there are $n$ disjoint subset of $E$ in which both $\varphi$ and $\psi$ are constant\dag\footnote{
		We don't assume that the values assume by $\psi$ are distinct for distinct subsets.}.
	Then,
	\begin{align*}
		\int_E (\alpha \varphi + \beta \psi) = & \int_E \alpha \left( \sum_{i=1}^n a_i \cdot \chi_{E_i} \right) + \beta \left( \sum_{i=1}^n b_i \cdot \chi_{E_i} \right) \\
		& = \int_E (\alpha a_i + \beta b_i) \cdot \chi_{E_i} \\
		& = \sum_{i = 1}^n (\alpha a_i + \beta b_i) \cdot m(E_i) \\
		& = \alpha \sum_{i=1}^n a_i \cdot m(E_i) + \beta \sum_{i=1}^n b_i \cdot m(E_i) \\
		&= \alpha \int_E \varphi + \beta \int_E \psi
	\end{align*}

	Suppose $\varphi \le \psi$.
	Then $\eta = \psi - \varphi$ is also a simple function.
	And $0 \le \eta$.
	Then by linearity of Lebesgue integral of simple functions,
	\begin{align*}
		\int_E \eta = & \int_E \psi - \varphi \\
		= &  \int_E \psi - \int_E \varphi 
	\end{align*}
	We have, $\eta$ is a non-negative, measurable function.
	And thus, $\int_E \eta \ge 0$.
	Therefore, $\int_E \varphi \le \int_E \psi$.
\end{proof}

\subsubsection{Lebesgue integral for bounded functions}
	Now we define Lebesgue integral of bounded functions, the same way we have constructed Riemann integral.
	We use simple approximations and the definition of Lebesgue integral for simple functions for this construction.
\begin{definition}[upper/lower Lebesgue integral]
	Let $f$ be a bounded, real-valued function on a set $E$ of finite measure.
	Any simple approximation lemma, we have two families of simple functions $\{ \varphi_\varepsilon\}$ and $\{ \psi_\varepsilon \}$ such that $\forall \varepsilon > 0,\ \varphi \le f \le \psi$ and $0 \le \varphi-\psi < \varepsilon$.Then \\
	Upper Lebesgue integral,
	\begin{equation}
		\overline{\int_E} f = \inf_{\psi_\varepsilon} \left\{ \int_E \psi_\varepsilon \right\}
	\end{equation}
	Lower Lebesgue integral,
	\begin{equation}
		\underline{\int_E} f = \sup_{\varphi_\varepsilon} \left\{ \int_E \varphi_\varepsilon \right\}
	\end{equation}

\end{definition}

\begin{definition}[Lebesgue integrability of bounded functions]
	Let $f$ be a bouned, real-valued function defined on a set $E$ of finite measure.
	Function $f$ is Lebesgue integrable on $E$ if both lower and upper Lebesgue integrals of $f$ over $E$ are equal.\\

	And the Lebesgue integral of a bounded, real-valued function $f$ over $E$ is given by,
	\begin{equation}
		\int_E f = \sup_\varphi \int_E \varphi = \inf_\psi \int_E \psi
	\end{equation}
\end{definition}

Now we can prove that Lebesgue integral is a generalisation of Riemann integral for bounded functions.
\begin{theorem}
	Let $f$ be a bounded, real-valued function defined on a close, bounded interval $[a,b]$.
	If $f$ is Riemann integrable over $[a,b]$, then it is Lebesgue integrable over $[a,b]$.
	And both Riemann integral and Lebesgue integral of $f$ over $[a,b]$ are equal.
\end{theorem}
\begin{proof}
	Suppose $f$ is Riemann integrable over $[a,b]$.
	Then,
	\begin{equation} 
		\sup \left\{ (R)\int_a^b \varphi : \varphi \text{ step }, \varphi \le f \right\} = \inf \int \left\{ \int_a^b \psi : \psi \text{ step}, f \le \psi \right\}
	\end{equation}
	However, every step function is simple and  we have
	\begin{equation} 
		\sup \left\{\int_a^b \varphi : \varphi \text{ simple }, \varphi \le f \right\} = \inf \int \left\{ \int_a^b \psi : \psi \text{ simple}, f \le \psi \right\}
	\end{equation}
	Therefore, every bounded, real-valued function on closed,bounded interval is Lebesgue integrable function if it is Riemann integrable.
\end{proof}

\begin{theorem}
	Every bounded, measurable function $f$ defined on a set $E$ of finite measure is Lebesgue integrable over $E$.
\end{theorem}
\begin{proof}
	Let $E$ be a set of finite measure.
	And $f$ be a bounded, measurable function on $E$.
	Let $n \in \mathbb{N}$.
	By simple approximation lemma, for $\varepsilon = \frac{1}{n}$ we have simple functions $\varphi_n,\psi_n$ such that $\varphi_n \le f \le \psi_n$ and $\psi_n - \varphi_n < \frac{1}{n}$ on $E$.
	\begin{equation*}
		0 \le \psi_n - \varphi_n \le \frac{1}{n} \implies 0 \le \int_E \psi_n - \varphi_n  = \int_E \psi_n - \int_E \varphi_n \le \frac{1}{n} \int_E 1 \\
	\end{equation*}
	We know that, $\inf \{r_1,r_2,\dots\} \le r_k$ and $-\sup\{s_1,s_2,\dots\} \le -s_k$.
	\begin{align*}
		0 & \le \inf \left\{ \int_E \psi : \psi \text{ simple}, f \le \psi \right\} - \sup \left\{ \int_E \varphi : \varphi \text{ simple}, \varphi \le f \right\}\\
		& \le \int_E \psi_n - \int_E \varphi_n \le \frac{1}{n} m(E)
	\end{align*}
	This inequality is true for any $n \in \mathbb{N}$.
	Since $m(E)$ is finite, $\frac{1}{n} m(E) \to 0$ as $n \to \infty$.
	Thus, upper and lower Lebesgue integrals of $f$ are equal.
	Therefore, $f$ is Lebesgue integrable.
\end{proof}
\begin{theorem}[linearity + monotonicity of integral of bounded functions]
	Let $f$ and $g$ be bounded, measurable functions defined a set $E$ of finite measure.
	Then for any $\alpha,\beta \in \mathbb{R}$,
	\begin{equation}
		\int_E (\alpha f + \beta g) = \alpha \int_E f + \beta \int_E g
	\end{equation}
	Moreover, if $f \le g$ on $E$, then
	\begin{equation}
		\int_E f \le \int_E g
	\end{equation}

\end{theorem}
\begin{proof}
	Linear combination of bounded,measurable functions is measurable and bounded.
	Thus, if $f,g$ are bounded, measurable functions, then $\alpha f + \beta g$ is also a bounded, measurable function.
	And $\alpha f + \beta g$ is integrable as every bounded, measurable function on $E$ is integrable over $E$.\\

	\textbf{Step 1 : $\displaystyle \int_E \alpha f = \alpha \int_E f$}\\
	\begin{align*}
		\int_E \alpha f = & \inf_{\psi \ge \alpha f} \left\{ \int_E \psi : \psi \text{ simple} \right\} \\
		= & \alpha \inf_{\psi/\alpha \ge f} \left\{ \int_E \psi/\alpha : \psi/\alpha \text{ simple} \right\}\\
		= & \alpha \inf_{\psi' \ge f} \left\{ \int_E \psi' : \psi' \text{ simple} \right\}\\
		= & \alpha \int_E f
	\end{align*}
	\textbf{Step 2 : $\displaystyle \int_E f+g = \int_E f + \int_E g$}\\
	\begin{align*}
		\intertext{ Since $f \le \psi_f$ and $g \le \psi_g$, we have $f+g \le \psi_f + \psi_g$ and $\psi_f + \psi_g$ is a simple function.
		And } 
		\int_E f+g & = \inf \left \{ \int_E \psi : \psi \text{ simple, } f+g \le \psi \right\} \le \int_E \psi_f + \psi_g
		\intertext{Since integral of simple functions have linearity}
		& \int_E f+g \le \int_E \psi_f +  \psi_g =  \int_E \psi_f + \int_E \psi_g
		\intertext{This inequality is true for simple functions dominating $f,g$. Thus, it is true for the infimum of a family of such simple functions.}
		\int_E f+g \le & \inf \left\{ \int_E \psi_f : \psi_f \text{ simple, } f \le \psi_f \right\} + \inf \left\{ \int_E \psi_g  : \psi_g \text{ simple, } g \le \psi_g \right\} 
	\end{align*}
	Therefore,
	\begin{equation}
		\int_E f+g \le  \int_E f + \int_E g
	\end{equation}
	Similarly,
	\begin{align*}
		\int_E f+g = & \sup \left\{ \int_E \varphi : \varphi \text{ simple, } \varphi \le f+g \right\} \\
		\ge & \int_E \varphi_f + \varphi_g = \int_E \varphi_f + \int_E \varphi_g \\
		\ge & \sup \left\{ \int_E \varphi_f : \varphi_f \text{ simple, } \varphi_f \le f \right\} + \sup \left\{ \int_E \varphi_g : \varphi_g \text{ simple, } \varphi_g \le g \right\} 
	\end{align*}
	Therefore,
	\begin{equation}
		\int_E f+g \ge  \int_E f + \int_E g
	\end{equation}
	Thus, for any bounded, measurable function $f$ and $g$, $\displaystyle \int_E f+g = \int_E f + \int_E g$.\\
	Therefore, $\displaystyle \int_E \alpha f + \beta g = \int_E \alpha f + \int_E \beta g = \alpha \int_E f + \beta \int_E g$.
\end{proof}

\begin{theorem}[additivity over the domain of integration]
	Let $f$ be a bounded, measurable function on a set $E$ of finite measure.
	Suppose $A,B$ are disjoint, measurable subsets of $E$. Then
	\begin{equation}
		\int_{A \cup B} f = \int_A f + \int_B f
	\end{equation}
\end{theorem}
\begin{proof}
	We have $\chi_{A \cup B} = \chi_A + \chi_B$. And,
	\begin{equation}
		f \cdot \chi_{A \cup B} = f \cdot (\chi_A + \chi_B) = f \cdot \chi_A + f \cdot \chi_B
	\end{equation}
	And if $E_1 \subset E$, then by the definition of Lebesgue integral
	\begin{align*}
		\int_E f \cdot \chi_{E_1} = & \inf \left\{ \int_E \psi : \psi \text{ simple, } f.\chi_{E_1} \le \psi \right\}
		\intertext{ The collection of simple function $\psi$ such that $f \cdot \chi_{E_1} \le \psi$ on $E$ is same as the collection of simple functions $\psi$ such that $f \le \psi$ on $E_1$.}
		= & \inf \left\{ \int_{E_1} \psi : \psi \text{ simple, }, f \le \psi \right\}
		 = \int_{E_1} f
	\end{align*}
	Since integral has linearity, we have
	\[ \int_{A \cup B} f = \int_E f \cdot \chi_{A \cup B} = \int_E \left( f \cdot \chi_A + f \cdot \chi_B \right) = \int_E f \cdot \chi_A + \int_E f \cdot \chi_B = \int_A f+ \int_B f\]
\end{proof}

\begin{corollary}
	Let $f$ be a bounded, measurable function on a set of finite measure $E$.
	Then,
	\begin{equation}
		\left|\int_E f \right| \le \int_E |f|
	\end{equation}
\end{corollary}
\begin{proof}
	We have, $-|f| \le f \le |f|$ on $E$.
	Therefore by linearlity and monotonicity,
	\[ -\int_E |f| = \int_E -|f| \le \int_E f \le \int_E |f| \]
	Therefore,
	\[ \left| \int_E f \right| \le \int_E |f| \]
\end{proof}

\begin{theorem}[passage of limit under the integral sign]
	Let $\{ f_n \}$ be a sequence of bounded, measurable functions on a set $E$ of finite measure.
	If $\{ f_n \}$ converges to $f$ uniformly on $E$, then the sequence of the integrals $\left\{ \int_E f_n \right\}$ converges to the integral of the limit function $\int_E f$.
	\begin{equation}
		\lim_{n \to \infty} \int_E f_n = \int_E f
	\end{equation}
\end{theorem}
\begin{proof}
	Suppose a sequence $\{ f_n \}$ of bounded, measurable functions converges uniformly to $f$ on a set of finite measure $E$.
	Uniform limit of bounded functions is bounded.
	And limit function of measurable functions is measurable.
	Therefore, $f$ is also a bounded, measurable function.\\

	Let $\varepsilon > 0$.
	Choose an $N$ such that $|f - f_n | \le \varepsilon/m(E),\ \forall n \ge N$.(such an $N$ exists since the convergence is uniform)\\
	By linearlity and monotonicity,
	\[ \left| \int_E f - \int_E f_n \right| = \left| \int_E f - f_n \right| \le \int_E |f-f_n| \le \frac{\varepsilon}{m(E)} \cdot m(E) = \varepsilon \]
	Clearly, $\displaystyle \left\{ \int_E f_n \right\}$ is sequence of functions converging pointwise to $\displaystyle \int_E f$.
	Therefore we have, $\displaystyle \lim_{n \to \infty} \int_E f_n = \int_E f$.
\end{proof}
\begin{definition}[passage of limit under integral sign]
	Suppose $\{ f_n \}$ is a sequence of bounded, measurable functions converging to $f$ pointwise (a.e.) on $E$.
	If 
	\begin{equation}
		\lim_{n \to \infty} \int_E f_n  = \int_E \lim_{n \to \infty} f_n = \int_E f 
	\end{equation}
	then this equality is the passage\dag\footnote{
		`Passge of limit under integral' is used by I.P. Natanson,
		in his ``Theory of functions of real variable''}
	of the limit under the integral sign.
\end{definition}

	\textbf{Note : } Pointwise convergence is not sufficient for passage of limit under integral sign.
	In other words, there exists a sequence $\{ f_n \}$ of bounded, measurable functions such that
	\[ \lim_{n \to \infty} \int_0^1 f_n \ne \int_0^1 f \]
	where $\{ f_n \}$ converges to limit function $f$ pointwise on $[0,1]$.

\begin{proof}
	Consider a family of functions defined by $f_n(\frac{1}{n}) = n$ and $f_n$ increases from $f_n(0) = 0$ to $f_n(\frac{1}{n}) = n$ linearly and decreases from $f_n(\frac{1}{n}) = n$ to $f_n(\frac{2}{n}) = 0$ linearly. And vanishes for any $x \ge \frac{2}{n}$ on $[0,1]$.
	\[ f_n(x) = \begin{cases} 0 & x \in [\frac{2}{n},1] \\ nx(2-n) & x = [\frac{1}{n},\frac{2}{n}) \\ n^2 x & x \in [0,\frac{1}{n}) \end{cases} \]

	We know that these functions are bounded by their construction as $0 \le f_n \le \frac{1}{n}$ for every $n \in \mathbb{N}$.
	Each $f_n$ is continuous, and thus measurable.
	Clearly, $\{ f_n \}$ is a sequence of bounded, measurable functions defined on $[0,1]$.\\

	We have, $\displaystyle \lim_{n \to \infty} f_n = 0$.
	And, $\displaystyle \lim_{n \to \infty}\int_0^1 f_n  = 1 \ne 0 = \int_0^1 0$.
\end{proof}
	\textbf{Note :} However, the bounded convergence theorem gives us an additional constraint (uniformly pointwise bounded) for the passage of limit under integral sign.
\begin{theorem}[bounded convergence]
	Let $\{ f_n \}$ be a sequence of measurable, functions on a set of finite measure $E$.
	Suppose $\{ f_n \}$ is uniformly pointwise bounded on $E$.
	If $\{ f_n \}$ converges to $f$ pointwise on $E$, then $\displaystyle \lim_{n \to \infty} \int_E f_n = \int_E f$.
\end{theorem}
\begin{proof}
	Suppose sequence $\{ f_n \}$ of bounded, measurable functions converges to $f$ pointwise on $E$.
	Then the limit function $f$ is also measurable.
	And since $\{ f_n \}$ is uniformly pointwise bounded on $E$, $f$ is bounded on $E$.\\

	Let $A$ be a measurable subset of $E$ and $n \in \mathbb{N}$.
	By linearlity and monotonicity,
	\[ \int_E f_n - \int_E f = \int_E f_n - f = \int_A f_n - f + \int_{E \sim A} f_n + \int_{E \sim A}-f \]
	By monotonicity of integral,
	\begin{equation}
	 	\left| \int_E f_n - \int_E f \right| \le \int_A |f_n - f| + 2M \cdot m(E \sim A)
	\end{equation}

	Let $\varepsilon > 0$.
	Since $E$ a set of finte measure and $f$ is a real-valued function.
	By Egoroff's theorem, there exists a measurable subset $A \subset E$ on which $\{ f_n \}$ converges to $f$ uniformly and $m(E \sim A ) < \varepsilon/4M$.
	By uniform convergence on $A$, there exists $N \in \mathbb{N}$ such that
	\[ |f_n - f| < \frac{\varepsilon}{2 \cdot m(E)} \text{ on } A,\ \forall n \ge N \]
	Thus, by monotonicity of integration we have,
	\[ \left| \int_E f_n - \int_E f \right| \le \frac{\varepsilon}{2 \cdot m(E)} m(A) + 2M \cdot m(E \sim A) < \varepsilon \]
	Therefore, $\displaystyle \lim_{n \to \infty} \int_E f_n = \int_E f$.
\end{proof}

\subsubsection{Exercise}
\begin{enumerate}
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item Let $f$ be a bounded, measurable function on $E$.
		Let $A$ be measurable subset of $E$.
		Then,
		\begin{align*}
			\int_E f \cdot \chi_A = & \sup \left\{ \int_E \psi : \psi \text{ simple, }, f\cdot \chi_A \le \psi \right\} \\
			= & \sup \left\{ \int_A \psi : \psi \text{ simple, } f \le \psi \right\} = \int_A f
		\end{align*}
	\item
	\item
	\item
	\item
	\item
	\item
\end{enumerate}

\subsection{Lebesgue integral of a measurable non-negative function}
\begin{definition}[vanishing]
	A function $f$ on $E$ vanishes outside $A \subset E$ if $f(x) = 0$ for every $x \in E \sim A$.
\end{definition}
\begin{definition}[support]
	Let $f$ be a function on $E$.
	Then support of $f$ is the set $\{ x \in E : f(x) \ne 0 \}$ of all non-vanishing points of $f$ in $E$.
\end{definition}
\textbf{Warning : }The defintion of support is slightly different for measure spaces and topological spaces.\dag\footnote{
	``Support of a function $f$ on a topological space is the \textbf{closure} of the set of all non-vanishing points of $f$.''
	We use topological version for differential forms in multivariate real analysis and above definition for Lebesgue integration in integral transforms.
	Luckily, it is not apparent in our syllabus.
	}
\begin{definition}[finite support]
	A function $f$ on $E$ has finite support if support of $f$ is of finite measure.
\end{definition}
\begin{definition}
	Let $f$ be a non-negative measurable function on $E$.
	Then the integral of $f$ over $E$ is the supremum of the integrals of bounded, measurable functions of finite support $h$ such that  $0 \le h \le f$ in $E$.
	\begin{equation}
		\int_E f = \sup \left\{ \int_E h : h \text{ bounded, measurable, finite support },\ 0 \le h \le f \right\}
	\end{equation}
\end{definition}

\begin{theorem}[Chebychev's inequality]
	Let $f$ be a non-negative, measurable function on $E$.
	Then for any $\lambda > 0$, we have
	\begin{equation}
		m\left\{x \in E : f(x) \ge \lambda \right\}\ \le\ \frac{1}{\lambda} \cdot \int_E f
	\end{equation}
	\label{thm:chebychev}
\end{theorem}
	In other words $\displaystyle \lambda \cdot m \left( E_\lambda \right) \le \int_E f$ where $E_\lambda = \{ x \in E : f(x) \ge \lambda \}$.
\begin{proof}
	Suppose $f$ is a non-negative, measurable function on $E$.
	Let $\lambda > 0$ be a real number.
	Define $E_\lambda = \{ x \in E : f(x) \ge \lambda \}$\\

	\textbf{Case 1 : $m(E_\lambda) = \infty$}\\
	Let $n \in \mathbb{N}$.
	Define $E_{\lambda,n} = E_\lambda \cap [-n,n]$ and $\psi_n = \lambda \cdot \chi_{E_{\lambda,n}}$.
	Clearly, $\psi_n$ is a bounded, measurable function of finite support.
	\[ \lambda\cdot m(E_{\lambda,n}) = \int_E \psi_n \text{ and } 0 \le \psi_n \le f \text{ on $E$ for every $n$} \]
	By continuity of measure we have,
	\[ \infty = \lambda \cdot m(E_\lambda) = \lambda \lim_{n \to \infty} m(E_{\lambda,n}) = \lim_{n \to \infty} \int_E \psi_n \le \int_E f \]
	Therefore,
	\[ \lambda \cdot m(E_\lambda) = \int_E f \]

	\textbf{Case 2 : $m(E_\lambda) <\infty$}\\
	Define $h = \lambda \cdot \chi_{E_\lambda}$.
	Clearly, $h$ is a bounded, measurable function of finite support and $0 \le h \le f$ on $E$.
	By definition of integral,
	\[ \lambda \cdot m(E_\lambda) = \int_E h \le \int_E f \]
	Therefore,
	\[ m(E_\lambda) = \frac{1}{\lambda} \int_E h \le \frac{1}{\lambda} \int_E f \]
\end{proof}

\begin{theorem}
	Let $f$ be a non-negative measurable function on $E$.
	Then,
	\begin{equation}
		\int_E f = 0 \iff f = 0 \text{ (a.e.) on } E
	\end{equation}
\end{theorem}
\begin{proof}
	\textbf{Part 1}\\
	Suppose $\displaystyle \int_E f = 0$.
	Then by Chebychev's inequality,
	\[ \forall n \in \mathbb{N},\  m\left(\left\{x \in E : f(x) \ge \frac{1}{n} \right\}\right) \le n\int_E f = 0 \]
	We have,
	\[ \{ x \in E : f(x) > 0 \} = \bigcup_{n \in \mathbb{N}} \left\{ x \in E : f(x) \ge \frac{1}{n} \right\} = 0 \]

	\textbf{Part 2}\\
	Suppose $f = 0$ (a.e.) on $E$.
	Let $\varphi$ be a simple function and $h$ be a bounded, measurable function of finite support such that $0 \le \varphi \le h \le f$.\\

	We have, $f = 0$ (a.e.) on $E$, thus $\varphi =  0$ (a.e.) on $E$.
	Then $\varphi = 0$ (a.e.) on $E$, and we have $\int_E \varphi =  0$.
	Since $\int_E \varphi = 0$ for every simple function $\varphi \le h$, we have $\int_E h = 0$. 
	Again,  $\int_E h = 0$ for every bounded, measurable function $h \le f$  with finite support.
	Therefore, $\int_E f =  0$.
\end{proof}

\begin{theorem}[linearity + monotonicity of integral of non-negative functions]
	Let $f,g$ be non-negative, measurable functions on $E$. Then for any real numbers $\alpha,\beta > 0$\dag\footnote{
		We know that $\alpha f + \beta g$ is non-negative only when $\alpha$ and $\beta$ are non-negative.}
	, we have
	\begin{equation}
		\int_E (\alpha f + \beta g)  = \alpha \int_E f + \beta \int_E f
	\end{equation}
	And we have,
	\begin{equation}
		\text{If } f \le g \text{ on $E$, then } \int_E f \le \int_E g
	\end{equation}
\end{theorem}
\begin{proof}
	\textbf{Step 1 : $\displaystyle \int_E \alpha f = \alpha \int_E f$}\\
	Suppose $\alpha > 0$.
	For any bounded, measurable function $h$ with finite support, dominated by $f$, we have $\alpha h$ is also a bounded, measurable function with finite support such that $0 \le \alpha h \le \alpha f$ on $E$.
	\[ 0 \le h \le f \iff 0 \le \alpha h \le \alpha f \]
	Thus by the definition of Lebesgue integral for non-negative, measurable functions,
	\[ 0 \le \int_E \alpha h  = \alpha \int_E h \le \alpha \int_E f \]
	Therefore, $\displaystyle \int_E \alpha f = \alpha \int_E f,\ \forall \alpha > 0$.\\

	\textbf{Step 2 : $\displaystyle \int_E f+g = \int_E f + \int_E g$}\\
	Suppose $0 \le h \le f$ and $0 \le k \le g$ on $E$.
	Then, $h+k$ is also a bounded, measurable function with finite support such that $0 \le h+k \le f+g$ on $E$.
	\begin{equation}
		0 \le h+k \le f+g \implies \int_E h + \int_E k = \int_E h+k \le \int_E f+g 
	\end{equation}
	Let $l$ be the supremum of all the bounded, measurable functions with finite support such that $0 \le l \le f+g$ on $E$.
	Then, it is enough to prove that,
	\[ \int_E f+g = \int_E l \le \int_E f + \int_E g \]
	Define $h = min\{f,l\}$ and $k = l -h$ on $E$.
	Let $x \in E$.\\
	If $l(x) \le f(x)$, then $h(x) = l(x) \le f(x)$ and $k(x) = h(x) - l(x) = 0 \le g(x)$.\\
	If $l(x) > f(x)$, then $l(x) < g(x)$ since $l \le f+g$ on $E$.\\
	Thus, $h(x) = f(x) < l(x) < g(x)$ and $k(x) = h(x) - l(x) < 0 < f(x)$.
	%---I had a confusion here---
	Clearly, $h,k$ are bounded, measurable functions with finite support.\\

	We have, $0 \le h \le f$, $0 \le k \le g$, and $ l = h+k$ on $E$.
	Then,
	\begin{equation}
		\int_E l = \int_E h + k = \int_E h + \int_E k \le \int_E f + \int_E g
	\end{equation}
	Therefore, by Step 1
	\[ \int_E \alpha f+ \beta g = \int_E \alpha f + \int_E \beta g = \alpha \int_E f + \beta \int_E g \]

	Suppose $f \le g$.
	Let $h$ be any bounded, measurable function with finite support such that $0 \le h \le f$.
	Then $h \le g$.
	Thus, for any bounded, measurable function $h$ with finite support and $h \le f$, we have $\displaystyle \int_E h \le \int_E g$.
	Therefore,
	\[ \int_E f = \sup \left\{ \int_E h : \text{ bounded,measurable,finite support },h \le f \right\} \le \int_E g \]
\end{proof}

\begin{theorem}[additivity over domain of integration of non-negative functions]
	Let $f$ be a non-negative, measurable function on $E$.
	If $A,B$ are disjoint subsets of $E$, then
	\begin{equation}
		\int_{A \cup B} f = \int_A f + \int_B f
	\end{equation}
	In particular, if $E_0 \subset E$ is of measure zero, then
	\begin{equation}
		\int_{E} f = \int_{E \sim E_0} f
	\end{equation}
\end{theorem}
\begin{proof}
	Let $f$ be a non-negative, measurable function defined on a measurable set $E$ and $A,B$ are two disjoint measurable subsets of $E$.\\

	We have $\displaystyle \int_E f \cdot \chi_A = \int_A f$ and $f \cdot \chi_{A \cup B} = f \cdot (\chi_{A} + \chi_B) = f \cdot \chi_A + f \cdot \chi_B$.
	And if $f$ is a bounded, measurable function with finite support, then $f \cdot \chi_A$ is also a bounded, measurable function with finite support for any measurable subset $A \subset E$.
	Therefore, by linearity of the Lebesgue integral of non-negative functions,
	\[ \int_{A \cup B} f = \int_E f \cdot \chi_{A \cup B} = \int_E f \cdot \chi_A + f \cdot \chi_B = \int_E f \cdot \chi_A + \int_E f \cdot \chi_B = \int_A f + \int_B f \]

	Suppose $E_0$ is a subset of $E$ of measure zero.
	Then, we have the \textbf{excision formula} by the additivity of integral over domain
	\begin{equation}
		\int_{(E \sim E_0) \cup E_0} f = \int_{E \sim E_0} f + \int_{E_0} f = \int_{E \sim E_0} f
	\end{equation}
	since $m(E_0) = 0$ and $\displaystyle \int_{E_0} f = 0$.
\end{proof}

\subsubsection{Fatou's Lemma and Passage of limit under Integral sign}
	Fatou's Lemma is a important tool for establishing passage of limit under integral sign.
\begin{lemma}[Fatou]
	Let $\{ f_n \}$ be a sequence of non-negative, measurable functions on $E$.
	If $\{ f_n \}$ converges to $f$ pointwise (a.e.) on $E$, then 
	\[ \int_E f \le \liminf \int_E f_n \]
\end{lemma}
\begin{proof}
	Let $\{ f_n \}$ be a sequence of functions converging to $f$ pointwise a.e. on $E$.
	Let $h$ be a bounded, measurable function with finite support and $0 \le h \le f$.
	Then $0 \le h \le M$, $h$ has support, $E_0 = \{ x \in E : h(x) \ne 0 \}$ and $m(E_0) < \infty$.\\

	\textbf{Step 1 : Construction of $h_n$}\\
	Define $h_n = \min \{ h,f_n \}$ on $E$.
	And $0 \le h_n \le M$.
	Then, $h_n$ are measurable since each $h_n$ is a bounded function defined on a set of finite measure.
	And $h_n$ has finite support $E_n \subset E_0$.\\

	\textbf{Step 2 : Bounded Convergence Theorem}\\
	For each $x \in E$, $\{ h_n(x) \}$ converges to $h(x)$ since $\{ f_n(x) \}$ converges to $f(x)$.
	Since $h_n$ are uniformly bounded, by Bounded Convgerence thereom we have
	\[ \lim_{n \to \infty} \int_E h_n = \lim_{n \to \infty} \int_{E_0} h_n = \int_{E_0} h \]
	However $h_n \le f_n$.
	Therefore, $\displaystyle \int_E h_n \le \int_E f_n \le \liminf \int_E f_n$.
\end{proof}

\begin{theorem}[monotone convergence]
	Let $\{ f_n \}$ be an increasing sequence of non-negative, measurable functions on $E$.
	If $\{ f_n \}$ converges to $f$ pointwise (a.e.) on $E$, then $\displaystyle \lim_{n \to \infty} \int_E f_n = \int_E f$.
\end{theorem}
\begin{proof}
	Let $\{ f_n \}$ be an increasing sequence of non-negative, measurable functions on $E$.
	Then, by Fatou's lemma
	\begin{equation}
		\int_E f \le \liminf \int_E f_n
	\end{equation}
	However, $\forall n \in \mathbb{N},\ f_n \le f$.
	Otherwise, $\{ f_n \}$ won't converge to $f$.
	Thus, by monotonicity of Lebesgue integral for non-negative functions,
	\begin{equation}
		\forall n \in \mathbb{N},\ \int_E f_n \le \int_E f \implies \limsup \int_E f_n \le \int_E f
	\end{equation}
	Thus, limit inferior and limit superior are equal by sandwitch lemma.\\
	Therefore, the sequence $\displaystyle \left\{ \int_E f_n \right\}$ converges and $\displaystyle \int_E f = \lim_{n \to \infty} \int_E f_n$.
\end{proof}
\begin{corollary}
	Let $\{ u_n \}$ be a sequence of non-negative, measurable functions on $E$.
	If $\displaystyle f = \sum_{n =1}^\infty u_n$ pointwise (a.e.) on $E$, then $\displaystyle \int_E f = \sum_{n = 1}^\infty \int_E u_n$.
\end{corollary}
\begin{proof}
	Let $\{ u_n \}$ be a sequence of non-negative, measurable functions on $E$ and $f = \sum_{n = 1}^\infty u_n$.
	Define $f_n =\sum_{k = 1}^n u_k$.
	Then $\{ f_n \}$ is an increasing sequence of non-negative, measurable functions.
	And by linearity and monotone convergence theorem,
	\[ \lim_{n \to \infty} \sum_{k = 1}^n \int_E u_k = \lim_{n \to \infty} \int_E \sum_{k = 1}^n u_k = \lim_{n \to \infty} \int_E f_n = \int_E f \]
\end{proof}

\begin{definition}[integrable function]
	A non-negative, measurable function $f$ on a measurable set $E$ is integrable over $E$ if $\displaystyle \int_E f < \infty$.
\end{definition}

\begin{theorem}
	Let $f$ be non-negative, measurable function which is integrable over $E$.
	Then $f$ is finite a.e. on $E$.
\end{theorem}
\begin{proof}
	Suppose $f$ is a non-negative measurable function defined on a measurable set $E$.
	And $f$ is integrable over $E$.
	Then,
	\[ \int_E f = M < \infty \]
	However by monotonicity and Chebychev's inequality,
	\[ m\left\{ x \in E : f(x) = \infty \right\} \le m\left\{ x \in E : f(x) \ge n \right\} \le \frac{1}{n} \int_E f = \frac{M}{n}, \forall n \in \mathbb{N} \]
	As $n \to \infty$, we have $m\left\{ x \in E : f(x) = \infty \right\} \to 0$.\\
	Therefore, $f$ is finite a.e. on $E$.
\end{proof}

\begin{theorem}[Beppo Levi's Lemma]
	Let $\{ f_n \}$ be an increasing sequence of non-negative, measurable functions on $E$.
	If the sequence of integrals $\displaystyle \left\{ \int_E f_n \right\}$ are bounded, then $\{ f_n \}$ converges pointwise on $E$ to a measurable function $f$ which is finite a.e. on $E$ and 
	\[ \lim_{n \to \infty} \int_E f_n = \int_E f < \infty \]
\end{theorem}
\begin{proof}
	Let $\{ f_n \}$ be an increasing, sequence of non-negative, measurable functions on $E$.
	Since every monotone sequence of extended real numbers converges to an extended real number, $\{ f_n \}$ converges to extended real valued function $f$ on $E$.
	And by monotone convergence theorem, $\left\{ \int_E f_n \right\}$ converges to $\displaystyle \int_E f$.\\

	Suppose $\displaystyle\left\{ \int_E f_n \right\}$ is a bounded sequence, then $\displaystyle \int_E f$ is also bounded.
	Thus, $\displaystyle \int_E f < \infty$.
	Therefore, $f$ is finite a.e. on $E$, since $f$ is integrable over $E$.
\end{proof}
\subsubsection{Exercise}
\begin{enumerate}
	\setcounter{enumi}{16}
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
\end{enumerate}
\subsection{General Lebesgue integral}
\begin{theorem}
	Let $f$ be a measurable function on $E$.
	Then $f^+,f^-$ are integrable over $E$ if and only if $|f|$ is integrable over $E$.
\end{theorem}
\begin{proof}
	Let $f$ be a measurable function on $E$.
	Suppose $f^+,f^-$ are non-negative, integrable functions over $E$.
	Then $|f| = f^+ + f^-$ is integrable over $E$ by linearity.\\

	Suppose $|f|$ is a non-negative, integrable function over $E$.
	Then, we have $0 \le f^+ \le |f|$ and $0 \le f^- \le |f|$.
	Thus, by monotonicity $\displaystyle \int_E f^+ \le \int_E |f| < \infty$.
	Similarly, $\displaystyle \int_E f^- < \infty$.
	Therefore, $f^+,f^-$ are integrable over $E$.
\end{proof}

\textbf{Note : } A measurable function $f$ is integrable over $E$ if $|f|$ is integrable over $E$.
\begin{definition}[general Lebesgue integral]
	Let $f$ be a measurable function such that $|f|$ is integrable over $E$.
	Then integral of $f$ over $E$ is
	\begin{equation}
		\int_E f = \int_E f^+ - \int_E f^-
	\end{equation}
\end{definition}

\begin{theorem}
	Let $f$ be integrable over $E$.
	Then $f$ is finite a.e. on $E$ and
	\begin{equation}
		\int_E f = \int_{E \sim E_0} f
	\end{equation}
	where $E_0$ is a subset of $E$ and is of measure zero.
\end{theorem}
\begin{proof}
	Suppose $f$ is an integrable function.
	Then $f = f^+ - f^-$ where $f^+,f^-$ are non-negative, integrable functions.
	And $|f| = f^+ + f^-$ is a non-negative integrable function on $E$, thus $|f|$ is finite a.e. on $E$.
	Therefore $f$ is finite a.e. on $E$.\\

	Suppose $E_0 \subset E$ such that $m(E_0) = 0$.
	Then by linearity and additivity over domain of the integral of non-negative measurable functions,
	\begin{align*}
		\int_E f = & \int_E f^+ - f^- = \int_E f^+ + \int_E -f^- \\
		= & \int_{E_0} f^+ + \int_{E \sim E_0} f^+ + \int_{E_0} -f^- + \int_{E \sim E_0} -f^- \\
		= & \int_{E \sim E_0} f^+ + \int_{E \sim E_0} -f^- = \int_{E \sim E_0} f^+ - f^- = \int_{E \sim E_0} f
	\end{align*}
\end{proof}

\begin{theorem}[integral comparison test]
	Let $f$ be a measurable function on $E$.
	Suppose there exists a non-negative function $g$ such that $g$ integrable over $E$ and $g$ dominates $f$ on $E$. Then $f$ is integrable over $E$ and
	\begin{equation}
		\left| \int_E f \right| \le \int_E |f|
	\end{equation}
\end{theorem}
\begin{proof}
	Let $f$ be a measurable function.
	And $g$ be a non-negative, measurable function such that $g$ is integrable over $E$ and $|f| \le g$ on $E$.
	Clearly, by monotonicity of integral $|f|$ is integrable over $E$.
	Therefore, $f$ is also integrable over $E$.\\

	Also we have,
	\begin{align*}
		\left| \int_E f \right| = & \left| \int_E f^+ - f^- \right| = \left| \int_E f^+ - \int_E f^- \right| 
		\intertext{By triangular inequality,}
		\le & \left| \int_E f^+ \right| + \left| \int_E f^- \right| = \int_E f^+ + \int_E f^- \text{ since } 0 \le \int_E f^+  \\
		\le & \int_E f^+ + f^- = \int_E |f|
	\end{align*}
\end{proof}
\subsubsection{Linearity, Monotonicity, and Additivity over the domain of integration}
\begin{theorem}[linearlity+monotonicity of general integral]
	Let functions $f,g$ be integrable over $E$.
	Then for any $\alpha,\beta \in \mathbb{R}$, function $\alpha f + \beta g$ is integrable over $E$ and
	\begin{equation}
		\int_E (\alpha f + \beta g ) = \alpha \int_E f + \beta \int_E g
	\end{equation}
	Moreover,
	\begin{equation}
		\text{If } f \le g \text{ a.e. on $E$, then } \int_E f \le \int_E g
	\end{equation}
\end{theorem}
\begin{proof}
	\textbf{Step 1 : $\displaystyle \int_E \alpha f = \alpha \int_E f$}\\
	If $\alpha > 0$, then $[\alpha f]^+ = \alpha f^+$ and $[\alpha f]^- = \alpha f^-$.\\
	If $\alpha < 0$, then $[\alpha f]^+ = -\alpha f^-$ and $[\alpha f]^- = -\alpha f^+$. \\
	Thus,
	\begin{align*}
		\int_E \alpha f = & \int_E [\alpha f]^+ - \int_E [\alpha f]^- \\
		= & \int_E \alpha f^+ - \int_E \alpha f^- = \alpha \int_E f^+ - \alpha \int_E f^- \\
		= & \alpha \left(\int_E f^+ - \int_E f^- \right) = \alpha \int_E f
	\end{align*}
	\textbf{Step 2 : $\displaystyle \int_E f+g = \int_E f + \int_E g$}\\
	We have,
	\[ [f+g]^+ - [f+g]^- = f+g = (f^+ - f^-) + (g^+ - g^-) \]
	Therefore,
	\begin{equation}
		[f+g]^+ + f^- + g^- = [f+g]^- + f^+ + g^+
	\end{equation}
	And,
	\begin{align*}
		\int_E [f+g]^+ + f^- + g^- =&  \int_E [f+g]^- + f^+ + g^+
		\intertext{By linearity of non-negative, measurable functions,}
		\int_E [f+g]^+ + \int_E f^- + \int_E g^- =& \int_E [f+g]^- + \int_E f^+ + \int_E g^+
		\intertext{Since all the terms are finite, rearranging the terms we get,}
		\int_E [f+g]^+ - \int_E [f+g]^- =& \int_E f^+ - \int_E f^- + \int_E g^+ - \int_E g^-
		\intertext{Therefore,}
		\int_E f+g =& \int_E f + \int_E g
	\end{align*}

	Let $f,g$ be measurable functions such that $f \le g$ on $E$.
	Then $h = g-f$ is a non-negative, measurable function.
	And
	\[ \int_E h = \int_E g-f = \int_E g - \int_E f \ge 0 \]
	Therefore,
	\[ \int_E f \le \int_E g \]
\end{proof}

\begin{theorem}[additivity over domain of integration]
	Let function $f$ be integrable over $E$.
	Let $A,B$ are disjoint, measurable subsets of $E$.
	Then,
	\begin{equation}
		\int_{A \cup B} f = \int_A f + \int_B f
	\end{equation}
\end{theorem}
\begin{proof}
	We have, $f \cdot \chi_{A \cup B} = f \cdot \chi_A + f \cdot \chi_B$.\\
	Also by monotonicity, $\displaystyle |f \cdot \chi_A| \le |f| \implies \int_E |f \cdot \chi_A| \le \int_E |f| < \infty$.\\
	Thus, $|f \cdot \chi_A|$ and $|f \cdot \chi_B|$ are integrable.
	\begin{equation*}
		\int_{A \cup B} f =  \int_{E} f \cdot (\chi_{A \cup B}) = \int_E f \cdot \chi_A + \int_E f \cdot \chi_B = \int_A f + \int_B f
	\end{equation*}
\end{proof}

\subsubsection{Sufficient Condition for Passage of limit under integral sign}
	Lebesgue dominated convergece theorems shows that \textbf{the existence of an integrable function or a sequence of functions (with integrable limit function) dominating every function in the sequence} is sufficient for the passage of limit under the integral sign.

\begin{theorem}[Lebesgue dominated convergence]
	Let $\{ f_n \}$ be a sequence of measurable functions on $E$.
	Suppose there exists a funtion $g$ which is integrable over $E$ and dominates every function in the sequence $\{f_n\}$ on $E$.
	If $\{ f_n \}$ converges to $f$ pointwise a.e. on $E$, then $f$ is integrable on $E$ and
	\begin{equation}
		\lim_{n \to \infty} \int_E f_n = \int_E f
	\end{equation}
\end{theorem}
\begin{proof}
	Suppose $\{ f_n \}$ is a sequence of measurable functions on $E$.
	And $g$ is a function which is integrable over $E$ and $|f_n| \le g$ on $E$.
	Suppose $\{ f_n \}$ converges to $f$ pointwise on $E$.
	Clearly, $|f| \le g$ a.e. on $E$.
	And by monotonicity, $f$, $f_n$ are integrable over $E$.
	We know that, since $f$, $f_n$ are integrable over $E$, they are finite a.e. on $E$.\\

	We have, $g-f$, $g-f_n$ are non-negative, measurable functions on $E$.
	And $\{ g-f_n \}$ converges to $g-f$ pointwise a.e. on $E$.
	By Fatou's lemma,
	\begin{align*}
		\int_E (g-f) \le & \liminf \int_E (g-f_n) \\
		\int_E g - \int_E f \le & \int_E g - \limsup \int_E f_n
		\intertext{Then,}
		\limsup \int_E f_n \le & \int_E f
	\end{align*}
	
	Now consider, $\{ g+f_n \}$ converging to $g+f$ pointwise a.e. on $E$.
	Again by Fatou's lemma,
	\begin{align*}
		\int_E (g+f) \le & \liminf \int_E (g+f_n) \\
		\int_E g \ + \int_E f \le & \int_E g + \liminf \int_E f_n
		\intertext{Then,}
		\int_E f \le & \liminf \int_E f_n
	\end{align*}
	Therefore,
	\[ \int_E f = \lim_{n \to \infty} \int_E f_n \]
\end{proof}

\begin{theorem}[General Lebesgue dominated convergence]
	Let $\{ f_n \}$ be a sequence of measurable functions on $E$.
	And $\{ f_n \}$ converges pointwise to $f$ a.e. on $E$.
	Suppose there exists a sequence $\{ g_n \}$ of non-negative, measurable functions on $E$ that converges pointwise to $g$ a.e. on $E$ and $g$ dominates every function in the sequence $\{ f_n \}$.
	\begin{equation}
		\text{If } \lim_{n \to \infty} \int_E g_n = \int_E g < \infty, \text{ then } \lim_{n \to \infty} \int_E f_n = \int_E f
	\end{equation}
\end{theorem}
\begin{proof}
	Suppose $\{ f_n \}$ is a sequence of measurable functions on $E$ converging to $f$ pointwise a.e. on $E$.
	Also suppose $\{ g_n \}$ is another sequence of measurable functions on $E$ convering to $g$ pointwise a.e. on $E$ such that $|f_n| \le g_n$ and $g$ is integrable on $E$.
	Clearly, $|f_n| \le g_n \implies |f| \le g$.
	And by monotonicity, $f_n,f$ are integrable over $E$.\\

	Consider, $\{ g_n-f_n \}$ converging to $g-f$ pointwise a.e. on $E$.
	By Fatou's lemma,
	\begin{align*}
		\int_E (g-f) \le & \liminf \int_E (g_n-f_n) \\
		\int_E g - \int_E f \le & \liminf \int_E g_n - \limsup \int_E f_n \dag\footnote{The logic I have applied here is $\min(A,B) = \min(A) - \max(B)$. But, need to confirm the logic formally.}
		\intertext{Then,}
		\limsup \int_E f_n \le & \int_E f
	\end{align*}
	Now consider, $\{ g_n+f_n \}$ converging to $g+f$ pointwise a.e. on $E$.
	Again, by Fatou's lemma,
	\begin{align*}
		\int_E (g+f) \le & \liminf \int_E (g_n+f_n) \\
		\int_E g + \int_E f \le & \liminf \int_E g_n + \liminf \int_E f_n
		%\dag\footnote{I have some problem understanding this. Need to check the condition for linearlity of limit inferior.
		\intertext{Then,}
		\int_E f \le & \liminf \int_E f_n
	\end{align*}
	Therefore,
	\[ \int_E f = \lim_{n \to \infty} \int_E f_n \]
\end{proof}
\subsubsection{Exercise}
\begin{enumerate}
	\setcounter{enumi}{27}
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
\end{enumerate}
%\subsection{Countable additivity and Countinuity of integration}
%\subsection{Uniform integrability : Vitali's convergence theorem}

%\section{Lebesgue integration : Futher topics}
%\section{Differentiation and Integration}
%\section{The $L^P$ spaces : Completeness and Approximation}
%\section{The $L^p$ spaces : Duality and Weak convergence}
%\part{Abstract Spaces : Metric, Topological,Banach, Hilbert}

%Module 3
\setcounter{section}{16}
%chapter 17
\section{General Measure Spaces}
	Let $X$ be any non-empty set.
	Let $\mu$ be any non-negative set function defined on a family of subsets of $X$.
	Then there exists a $\sigma$-algrebra $\mathcal{M}$ of measurable functions with respect to the outer measure $\mu^\ast$ induced by $\mu$.
\subsection{Measures and Measurable Sets}
\begin{definition}[measure space]
	Let $X$ be non-empty set and $\mathcal{M}$ be a $\sigma$-algebra of subset of $X$.
	Then $(X,\mathcal{M})$ is a measure space.
	And $E \subset X$ is a measurable subset of $X$ if $E \in \mathcal{M}$.
\end{definition}
\begin{definition}[measure]
	A set function $\mu : \mathcal{M} \to [0,\infty]$ is a measure if $\mu(\phi) = 0$ and $\mu$ is countably additive\dag\footnote{
		We have dropped an axiom - ``length of the interval is its measure.''}.
\end{definition}
\subsubsection{A few examples of measure space}
\begin{enumerate}
	\item $(\mathbb{R},\mathcal{L},m)$\\
		The set of real numbers $\mathbb{R}$ together with the $\sigma$-algebra $\mathcal{L}$ of Lebesgue measurable functions and the Lebesuge measure $m$ is a measure space.
	\item $(\mathbb{R},\mathcal{B},m)$ \\
		The set of real numbers together with the $\sigma$-algebra $\mathcal{B}$ of Borel sets and Lebesgue measure $m$ is a measure space.
	\item $(X,2^X,\eta)$\\
		A non-empty set $X$ together with its powerset $2^X$ and counting measure, $\eta : \mathcal{M} \to [0,\infty)$ given by $\eta(A) = |A|$ is a measure space.
	\item $(X,\mathcal{M},\delta_{x_0})$\\
		A non-empty set $X$ together with a $\sigma$-algebra $\mathcal{M}$ of subset of $X$ and Dirac measure concentrated about $x_0 \in X$, $\delta_{x_0} : \mathcal{M} \to \{ 0,1 \}$ given by
		\[ \delta_{x_0}(A) = \begin{cases}1 & x_0 \in A \\ 0 & x_0 \notin A \end{cases} \]
			is a measure space.
	\item $(X,\mathcal{C},\mu)$ \\
		A non-empty set $X$ together with the family of all countable subsets and their complements, $\mathcal{C}$ and measure $\mu : \mathcal{C} \to \{0,1\}$ given by 
		\[ \mu(A) = \begin{cases} 0 & A \text{ is countable} \\ 1 & A^c \text{ is countable} \end{cases} \]
			is a measure space.
\end{enumerate}

	\textbf{Note : }  Lebesgue measure offers an addition property, that is measure of an interval is its length.\\

\subsubsection{Measure Subspace}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $X_0 \in \mathcal{M}$.
	Then $(X_0,\mathcal{M}_0,\mu_0)$ is also a measure space where $\mathcal{M}_0$ is $\mathcal{M}$ respectricted to $X_0$ and $\mu_0$ is $\mu$ restricted to $X_0$.\\

	For example, let $I = [0,1]$.
	Clearly, $I \in \mathcal{L}$ since $I$ is a Borel set, and measurable.
	Then $(I,\mathcal{L}_{|_I},m_{|_I})$ is a measure space on the closed interval $I$ obtained from the Lebesgue measure Space $(\mathbb{R},\mathcal{L},m)$.

\subsubsection{Properties : Additivity, Monotonicity, Excision}
\begin{enumerate}
	\item Finite Additivity \\
		For any finite, disjoint collection of measurable sets $\{ E_k \}_{k = 1}^n$, we have
		\[ \mu\left(\bigcup_{k=1}^n E_k\right) = \sum_{k=1}^n \mu(E_k) \]
		\begin{proof}
			Countably additive implies finitely additive.
		\end{proof}
	\item Monotonicity \\
		Suppose $A,B$ are measurable subsets and $A \subset B$, then $\mu(A) \le \mu(B)$.
		\begin{proof}
			$\mu(B) = \mu(A) + \mu(B \sim A) \implies \mu(B) \ge \mu(A)$, since $\mu(B \sim A) \ge 0$.
		\end{proof}
	\item Excision \\
		Suppose $A,B$ are measurable subsets, $A \subset B$ and $\mu(A) < \infty$, then $\mu(B \sim A) = \mu(B) - \mu(A)$. And if $\mu(A) = 0$, then $\mu(B \sim A) = \mu(B)$.
		\begin{proof}
			$\mu(B) = \mu(A) + \mu(B \sim A) \implies \mu(B \sim A ) = \mu(B) - \mu(A)$.
		\end{proof}
	\item Countable Monotonicity \\
		Suppose a countable collection of measurable sets $\{ E_k \}_{k=1}^\infty$ covers another measurable sets $E$.
		Then, $\displaystyle \mu(E) \le \sum_{k=1}^\infty \mu(E_k)$.
		\begin{proof}
			Suppose $\{ E_k \}_{k=1}^\infty$ is a countable collection of measurable sets covering $E$.
			Then, we can construct $\{ F_k \}_{k=1}^\infty$ is a countable collection of disjoint, measurable sets where $\displaystyle F_k = E_k \sim \bigcup_{n=1}^{k-1} E_n$.\\

			Clearly, $\displaystyle \bigcup_{k=1}^\infty E_k = \bigcup_{k=1}^\infty F_k$ and $\forall k,\ \mu(F_k) \le \mu(E_k) \text{ since } F_k \subset E_k$.\\
			Therefore $\displaystyle \mu(E) \le \mu \left(\bigcup_{k=1}^\infty E_k \right) = \mu \left( \bigcup_{k=1}^\infty F_k \right) = \sum_{k=1}^\infty \mu(F_k) \le \sum_{k=1}^\infty \mu(E_k)$.
		\end{proof}
\end{enumerate}
\subsubsection{Properties : Continuity of Measure}
\begin{enumerate}
	\item If $\{ A_k \}_{k=1}^\infty$ is an ascending sequence of measurable sets, then
		\[ \mu\left( \bigcup_{k=1}^\infty A_k \right) = \lim_{k \to \infty} \mu(A_k) \]
	\item If $\{ B_k \}_{k=1}^\infty$ is a descending sequence of measurable sets and $\mu(B_1) < \infty$, then
		\[ \mu \left( \bigcap_{k=1}^\infty B_k \right) = \lim_{k \to \infty} \mu(B_k) \]
\end{enumerate}
\begin{proof}
	Refer proof on page \pageref{thm:continuityofmeasure}
\end{proof}
\subsubsection{Properties : Borel-Cantelli Lemma}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
And $\{ E_k \}_{k=1}^\infty$ a countable collection of measurable sets such tha t $\displaystyle \sum_{k=1}^\infty E_k < \infty$.
	Then almost all $x \in X$ belongs to at most a finite number of $E_k$'s.
\begin{proof}
	Refer proof on page \pageref{lem:borelcantelli}
\end{proof}
\subsubsection{$\sigma$-finite Measure}
\begin{definition}[$\sigma$-finite]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Measure $\mu$ is finite if $\mu(X) < \infty$.
	Measure $\mu$ is $\sigma$-finite if $X$ is a countble union of measurable sets of finite measure.
	A measurable subset $E$ is of finite measure if $\mu(E) < \infty$.
	And $E$ is $\sigma$-finite if $E$ is a countable union of measurable sets of finite measure.
\end{definition}
For example, Lebesgue measure is $\sigma$-finite since $\mathbb{R} = \bigcup_{n \in \mathbb{Z}} [n,n+1]$. But, counting measure on $[0,1]$ is not $\sigma$-finite since $[0,1]$ is uncountably infinite and countable union of finite subsets is countable.
\subsubsection{Complete Measure Space}
\begin{definition}[complete measure space]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Then the measure space is complete if every subset of sets of measure zero are measurable.
\end{definition}
\textbf{Note : } $(\mathbb{R},\mathcal{L},m)$ is complete, however, $(\mathbb{R},\mathcal{B},m)$ is not complete since cantor set $C$  of measure zero has a non-borel subset $\psi^{-1}(W)$ where $W$ is a choice set of $\psi(C)$ under rational equivalence.

\begin{theorem}[completion]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\mathcal{M}_0 = \{ A \cup B : A \subset C \in \mathcal{M}, \mu(C) = 0, B \in \mathcal{M} \}$.
	And $\mu_0(E) = \mu(B)$ where $E = A \cup B$.
	Then, $(X,\mathcal{M}_0,\mu_0)$ is a completion of $(X,\mathcal{M},\mu)$.
\end{theorem}
\begin{proof}
	Let $(X,\mathcal{M},\mu)$ be a measure space.\\

	\textbf{Step 1 : $\mathcal{M}_0$ is a $\sigma$-algebra containing $\mathcal{M}$}\\
	Define a family of subsets of $X$, $\mathcal{M}_0$ in such a way that a subset $E \in \mathcal{M}_0$ if it can be expressed as union of a subset $C$ such that $\mu(C) = 0$ and a set $B \in \mathcal{M}$.
	Clearly, $E \in \mathcal{M} \implies E = E \cup \phi \in \mathcal{M}_0$.
	Thus, $\mathcal{M} \subset \mathcal{M}_0$.\\

	Suppose $E = A \cup B$, then $$X \sim E = X \sim (A \cup B) = (X \sim D) \cup (X \sim (C \cup B))$$ where $D = C \sim (A \cup B)$.
	Clearly $D \subset C$ and $C \cup B$ is a union of measurable sets and therefore measurable.
	Therefore, for any set $E \in \mathcal{M}_0$, we have $X \sim E \in \mathcal{M}_0$.\\

	Suppose $\{ E_k \}$ be a collection of sets in $\mathcal{M}_0$.
	Let $E_k = A_k \cup B_k$ where $A_k$'s are subsets of some set $C_k$ such that $\mu(C_k) = 0$.
	Clearly,$\mu(C) = \mu(\cup_{k=1}^\infty C_k) = 0$.
	And $A = \cup_{k=1}^\infty A_k$ is a subset of $C$.
	Also $B = \cup_{k=1}\infty B_k \in \mathcal{M}$ since $\mathcal{M}$ is a $\sigma$-algebra.
	Therefore,
	\[ E = \bigcup_{k=1}^\infty E_k = \bigcup_{k=1}^\infty (A_k \cup B_k) = \bigcup_{k=1}^\infty A_k \cup \bigcup_{k=1}^\infty B_k = A \cup B \in \mathcal{M}_0 \]
	Therefore, by de Morgan's law, $\mathcal{M}_0$ is a $\sigma$-algebra.\\

	\textbf{Step 2 : $\mu_0$ is well-defined}\\
		Let $E \in \mathcal{M}_0$.
		We have $E = A \cup B$ where $A$ is a subset $C$ such that $\mu(C) = 0$, $B \in \mathcal{M}$ and $\mu_0(E) = \mu(B)$.
		Suppose there exists $A',B'$ such that $E = A' \cup B'$ satifying the conditions.
		Then $\mu(B) = \mu(B')$.
		Suppose $\mu(B) < \mu(B')$, without loss of generality.
		Then $\mu(B' \sim B) > 0 \implies 0 < \mu(A \sim A') \le \mu(C) = 0$ which is a contradiction.
		Therefore, $\mu_0(E)$ is well-defined irrespective of the representation $E = A \cup B$.\\

	\textbf{Step 3 : $(X,\mathcal{M}_0,\mu_0)$ is complete}\\
	Suppose $A$ is a subset of some set $C$ such that $\mu(C) = 0$.
	Then there exists $E \in \mathcal{M}_0$ such that $E = A \cup \phi$ where $\phi \in \mathcal{M}$.
	Therefore, $(X,\mathcal{M}_0,\mu_0)$ is complete.
\end{proof}

\subsubsection{Exercise}
\begin{definition}[semi-finite]
	Measure $\mu$ is semi-finite if every subset of infinite measure contains measurable subsets of arbitrarily large finite measure.
\end{definition}
\begin{definition}[locally measurable]
	A subset $E$ is locally measurable if $B \cap E$ is measurable for any subset $B$ of finite measure.
\end{definition}
\begin{definition}[saturated]
	A measure space is saturated if every locally measurable subset is measurable.
\end{definition}
\begin{enumerate}
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\begin{enumerate}
		\item If $\mu,\nu$ are measures on $(X,\mathcal{M})$, then $\lambda = \mu + \nu$ is also a measuare on $(X,\mathcal{M})$.
		\item Suppose $\nu,\mu$ are measures on $(X,\mathcal{M})$. If $\nu \le \mu$, then there exists measure $\lambda$ such that $\nu+\lambda = \mu$.
		\item Suppose $\nu \le \mu$ and $\mu$ is $\sigma$-finite, then $\lambda$ is unique.
		\item Suppose $\nu \le \mu$. Then there exists a minimal $\lambda$ such that $\nu+\lambda = \mu$.
	\end{enumerate}
	\item
	\begin{enumerate}
		\item Every $\sigma$-finite measure is semi-finite.
		\item Any measure $\mu = \mu_1 + \mu_2$ where measure $\mu_1$ is semifinite and measure $\mu_2$ assumes either $0$ or $\infty$.
	\end{enumerate}
	\item The completion $(X,\mathcal{M}_0,\mu_0)$ of $(X,\mathcal{M},\mu)$ is minimal with respect to ?
	\item
	\begin{enumerate}
		\item Every $\sigma$-finite measure is saturated.
		\item Locally measurable sets is a $\sigma$-algebra.
		\item $(X,2^X,\underline{\mu})$ is a saturation of $(X,\mathcal{M},\mu)$ where $\overline{\mu}(E) = \infty$ if $E \notin \mathcal{M}$.
		\item $(X,\mathcal{C},\overline{\mu})$ is a saturation of $(X,\mathcal{M},\mu)$ where $\mathcal{C}$ is the $\sigma$-algebra of locally measurable sets and $\overline{\mu}(E) = \sup \{ \mu(B) : B \subset E,\ B \in \mathcal{M} \}$
	\end{enumerate}
	\item If $\mu,\eta$ are measures on $(X,\mathcal{M})$, then $\max\{\mu,\eta\}$ is also a measure on $\mathcal{M}$.
\end{enumerate}
\subsection{Signed measures}
\begin{definition}[signed measure]
	A set function $\nu : \mathcal{M} \to [-\infty,\infty]$ is a signed measure on $X,\mathcal{M}$ if
	\begin{enumerate}
		\item $\nu$ assumes at most one of the infinities
		\item $\nu(\phi) = 0$ and
		\item If $\nu$ is countably additive for a disjoint collection of measurable sets $\{ E_k \}_{k=1}^\infty$ and $\nu(\cup_{k=1}^\infty E_k) < \infty$, then the series $\sum_{k=1}^\infty \nu(E_k)$ is absolutely convergent.
	\end{enumerate}
\end{definition}
\textbf{Note : } Difference of two measures, one of which is finite is always a signed measure. And we later prove that evey signed measure is of this form.

\begin{definition}
	Let $\nu$ be a signed measure.
\begin{description}
	\item[positive set] A set is positive with respect to $\nu$ if it is measurable and every measurable subset $E \subset A$ has positive measure.
	\item[negative set] A set is negative with respect to $\nu$ if it is measurable and every measurable subset of it has negative measure.
	\item[null (measure) set] A set is null with respect to $\nu$ if it is measurable and every measurable subset of it has measure zero.
\end{description}
\end{definition}

\textbf{Note : } Signed measure restricted to any positive set is a measure.

\begin{theorem}
	Let $\nu$ be a signed measure on $(X,\mathcal{M})$.
	Then every measurable subset of a positive set is positive and union of countable collection of positive sets is positive.
\end{theorem}
\begin{proof}
	Let $\{ A_k \}_{k=1}^\infty$ be countable collection of postive sets.
	Let $\displaystyle A = \bigcup_{k=1}^\infty A_k$ and $E$ be a measurable subset of $A$.
	Consider the disjoint collection of countable subsets, $\{ E_k \}_{k=1}^\infty$ where
	\[ E_k = (E \cap A_k) \sim \bigcup_{k=1}^{n-1}E_k \]
	Clearly $\displaystyle \bigcup_{k=1}^\infty E_k = E$ and $\displaystyle \nu(E) = \sum_{k=1}^\infty \nu(E_k) \ge 0$.
	Since $E \subset A$ is arbitrary, every measurable subset of $A$ is of non-negative measure.
	Therefore, union of positive sets is also a positive set.
\end{proof}

\begin{lemma}[Hahn]
	Let $\nu$ be a signed measure on $(X,\mathcal{M})$.
	And $E$ is a measurable set of finite, positive measure.
	Then there exists subset $A \subset E$ such that $A$ is positive and is of positive measure.
\end{lemma}
\begin{proof}
	Suppose $E$ is not a positive set, otherwise the proof is complete.
	Let $m_1$ be the smallest natural number\dag\footnote{
		Since $E$ has measurable subsets of negative measure and negative measures are bounded above by $0$, there exists a least upper bound $-M < -\frac{1}{m}$ for a natural number $m$.}
	such that there exists a measurable set with measure less than $-\frac{1}{m}$.
	Let $E_1 \subset E$ be a measurable subset with $\nu(E_1) < -\frac{1}{m_1}$.\\

	Let $n$ be a natural number and  $m_1,m_2,\dots,m_n$ are natural numbers where $m_k$'s are the smallest natural numbers such that there exists a measurable subset $E_k$,
	\[ E_k \subset E \sim \bigcup_{j=1}^{k-1} E_j \text{ and }\nu(E_k) < -\frac{1}{m_k} \]

	If this sequence terminates, then $\displaystyle E \sim \bigcup_{j=1}^n E_j$ is a positive set with positive measrue.
	Suppose the sequence does not terminate.
	Define $\displaystyle A = E \sim \bigcup_{j=1}^\infty E_j$.
	Then $A$ is a positive set by construction.
	Suppose $A$ has a measurable subset $B$, then $\displaystyle \nu(B) \ge \lim_{k \to \infty} -\frac{1}{m_k} = 0$.
	And measure of $A$ is positive, since we have $\displaystyle E = A \cup \bigcup_{j=1}^\infty E_j$ and $\displaystyle 0 < \nu(E) = \nu(A) + \sum_{j=1}^\infty \nu(E_j)$ where $\nu(E_j)$'s are all negative.
	Therefore, every measurable set $E$ with positive measure has a postive subset $A$ with positive measure.
\end{proof}

\begin{theorem}[Hahn Decomposition]
	Let $\nu$ be a signed measure on $(X,\mathcal{M})$.
	Then there exists a positive set $A$ and a negative set $B$ for which $ X = A \cup B$ and $A \cap B = \phi$.
	And we write $[A,B] = X$.
\end{theorem}
\begin{proof}
	Let $(X,\mathcal{M}$ be measure space with signed measure $\nu$.
	Let $\mathcal{P}$ be the collection of positive subset of $X$.
	Let $\lambda = \sup \{ \nu(E) : E \in \mathcal{P}\}$.
	And $\lambda \ge 0$ since $\phi$ is trivially a positive set in $\mathcal{P}$ with measure zero.\\

	Let $\{ A_n \}$ be a countable collection of positive subsets of $X$ such that $\displaystyle \lim_{n \to \infty} \nu(A_k) = \lambda$.
	Define $\displaystyle A = \bigcup_{n=1}^\infty A_n$.
	Then $A$ is also a positive set and $\nu(A) \le \sup \{ \nu(E) : E \in \mathcal{P}\} = \lambda$ since $A \in \mathcal{P}$.
	Also for each $k$, $A \sim A_k \subset A$ and $\nu(A) = \nu(A \sim A_k) + \nu(A_k) \ge \nu(A_k)$.
	This inequality is true for every $k$, and for the limit as well.
	Thus, $\nu(A) \ge \lambda$.\\

	Let $B = X \sim A$.
	Then $B$ is a negative set by construction as $X \sim A$ doesn't have any measurable subset of positive measure.
	Suppose $E$ be a subset of $B$ with positive measure.
	Then $\nu(A \cap E) = \nu(A) + \nu(E) < \nu(A) = \lambda$ which is a contradiction.
\end{proof}

\begin{definition}[singular measures]
	Two signed measures $\nu_1,\nu_2$ are singular if there exists disjoint subsets $A,B \subset X$ such that $X = A \cup B$ and $\nu_1(A) = \nu_2(B) = 0$.
	If $\nu_1,\nu_2$ are singular, then we write $\nu_1 \perp \nu_2$.
\end{definition}

\begin{theorem}[Jordan-Hahn Decomposition]
	Let $\nu$ be a signed measure on $(X,\mathcal{M})$.
	Then there two mutually singular measures $\nu^+,\nu^-$ on $(X,\mathcal{M})$ such that $\nu = \nu^+ - \nu^-$.
	Moreover, there is only one such pair of mutually singular measures.
\end{theorem}
\begin{proof}
	Let $(X,\mathcal{M})$ be a measure space with signed meausre $\nu$.
	Then by Hahn decomposition theorem, $X$ has a partition $X = A \cup B$, $A \cap B = \phi$ such that $A,B$ are positive and negative sets[$\nu$] respectively.\\

	Define $\nu^+(E) = \nu(E \cap A)$ and $\nu^-(E) = -\nu(E \cap B)$.
	Then $\nu^+,\nu^-$ are measure and $\nu = \nu^+ - \nu^-$.
	Also, $\nu^+(B) = \nu(B \cap A) = \nu(\phi) = 0$ and $\nu^-(A) = \nu(A \cap B) = \nu(\phi) = 0$.
\end{proof}

%\textbf{Note : } Every measurable set of measure zero is not necessarily null.
\subsubsection{Exercise}
\begin{enumerate}
	\setcounter{enumi}{11}
	\item
	\item
	\item
	\item
	\item
	\item
\end{enumerate}

\subsection{Caratheodory measure}
\begin{definition}[outer measure]
	A set function $\mu^\ast : 2^X \to [0,\infty]$ is an outer measure if $\mu^\ast(\phi) = 0$. and $\mu^\ast$ is countably monotone.\dag\footnote{Further simplifying the axiom countable additivity into countable monotonicity.}
\end{definition}

\begin{definition}[measurable set]
	A set $E$ is measurable if for any subset $A$ of $X$, we have
	\[ \mu^\ast(A) = \mu^\ast(A \cap E) + \mu^\ast(A \cap E^c) \]
	Since $\mu^\ast$ is monotone, we can use simpler condition
	\[ \mu^\ast(A) \ge \mu^\ast(A \cap E) + \mu^\ast(A \cap E^c) \]
\end{definition}

\begin{theorem}
	Union of finite collection of measurable sets is measurable.
\end{theorem}
\begin{proof}
	Refer proof on page \pageref{thm:finiteunionmeasurable}
\end{proof}

\begin{theorem}
	Let $A \subset X$ and $\{ E_k \}_{k=1}^n$ be a finite, disjoint collection of measurable sets.
	Then
	\[ \mu^\ast \left( A \cap \bigcup_{k=1}^n E_k \right) = \sum_{k=1}^n \mu^\ast (A \cap E_k) \]
	In particular, the restriction of $\mu^\ast$ to the finite collection of measurable sets is finitely additive.
\end{theorem}
\begin{proof}
	---yet to complete---
\end{proof}

\begin{theorem}
	Union of countable collection of measurable sets is measurable.
\end{theorem}
\begin{proof}
	Refer proof on page \pageref{thm:countableunionmeasurable}
\end{proof}

\begin{theorem}
	Let $\mu^\ast$ be an outer measure on $2^X$.
	Then the collection $\mathcal{M}$ of measurable subsets is a $\sigma$-algebra.
	If $\overline{\mu}$ is the restriction of $\mu^\ast$ to $\mathcal{M}$, then $(X,\mathcal{M},\mu)$ is a complete measure space.
\end{theorem}
\begin{proof}
	---yet to complete---
\end{proof}

%\subsection{Construction of outer measures}
%\subsection{Caratheodory-Hahn Theorem : Extension of a premeasure to a measure}

%chapter 18
\section{Integration over General measure Spaces}
\subsection{Measurable Functions}

\begin{theorem}
	Let $(X,\mathcal{M})$ be a measure space.
	Let function $f$ be defined on $X$.
	Then the following statements are equivalent
	\begin{enumerate}
		\item $\forall c \in \mathbb{R},\ \{ x \in X : f(x) < c \}$ is measurable.
		\item $\forall c \in \mathbb{R},\ \{ x \in X : f(x) \le c \}$ is measurable.
		\item $\forall c \in \mathbb{R},\ \{ x \in X : f(x) > c \}$ is measurable.
		\item $\forall c \in \mathbb{R},\ \{ x \in X : f(x) \ge c \}$ is measurable.
	\end{enumerate}
	Each of the above statements imply that $\forall c \in \mathbb{R},\ \{ x \in X : f(x) = c \}$ is measurable.
\end{theorem}
\begin{proof}
	Refer proof on page \pageref{thm:4measurablesets}
\end{proof}

\begin{definition}[measurable function] 
	Let $(X,\mathcal{M})$ be a measure space.
	A function $f$ on $X$ is measurable if one of the equivalent statements above and  hence all are true.
\end{definition}

\begin{theorem}
	Let $(X,\mathcal{M})$ be a measure space and function $f$ be defined on $X$.
	Then $f$ is measurable if and only if for every open set $\mathcal{O}$, $f^{-1}(\mathcal{O})$ is open.
\end{theorem}
\begin{proof}
	Refer proof on page \pageref{thm:measurabilityopen}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M})$ be a complete measure space.
	And $X_0$ is a measurable subset of $X$ for which $\mu(X \sim X_0) = 0$.
	Then $f$ is measurable if and only if its restriction to $X_0$ is measurable.
	In particular, let two functions $g = h$ a.e. on $X$, $g$ is measurable if and only if $h$ is measurable.
\end{theorem}
\begin{proof}
	Refer proof on page \pageref{thm:measurabilityae}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M})$ be a measure space. And $f,g$ are measurable functions on $X$.
	\begin{enumerate}
		\item Linearity : $\alpha f + \beta g$ is measurable $\forall \alpha,\beta \in \mathbb{R}$.
		\item Products : $f \cdot g$ is measurable.
		\item minimum/maximum : $\max\{f,g\}, \min\{f,g\}$ are measurable.
	\end{enumerate}
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M})$ be a measure space.
	Let $f$ be continuous function and $g$ be measurable, then $f \circ g$ is measurable.
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\{ f_n \}$ be a sequence of measurable functions on $X$ for which $\{ f_n \}$ converges to $f$ pointwise a.e. on $X$.
	If either $(X,\mathcal{M},\mu)$ is complete or convergence is pointwise on $X$, then $f$ is measurable.
\end{theorem}
\begin{proof}
\end{proof}

\begin{corollary}
	Let $(X,\mathcal{M})$ be a measure space.
	Let $\{ f_n \}$ be a sequence of measurable functions on $X$.
	Then $\sup\{f_n\},\ \inf\{f_n\},\limsup\{f_n\},\liminf\{f_n\}$ are measurable.
\end{corollary}
\begin{proof}
\end{proof}

%definition of simple function
%\subsubsection{Simple Approximation Theorem}

%Module 4
\subsection{Integration of non-negative measurable functions}
\begin{definition}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	And $\psi$ be a non-negative simple function on $X$.
	Then 
	\begin{equation}
		\int_X \psi\ d\mu = \sum_{k=1}^n c_k \cdot \mu(E_k) \text{ where } \psi = \sum_{k=1}^n c_k \cdot \chi_{E_k}
	\end{equation}
	And for $E \subset X$, we have
	\begin{equation}
		\int_E \psi\ d\mu = \int_X \psi \cdot \chi_E\ d\mu = \sum_{k=1}^n c_k \cdot \mu(E_k \cap E) \text{ where } \psi = \sum_{k=1}^n c_k \cdot \chi_{E_k}
	\end{equation}
\end{definition}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\psi,\varphi$ be non-negative simple functions.
	\begin{enumerate}
		\item Linearity\\
			Let $\alpha, \beta$ be positive real numbers.
			\begin{equation}
				 \int_X (\alpha \psi + \beta \varphi) \ d\mu = \alpha \int_X \psi \ d\mu + \beta \int_X \varphi \ d\mu 
			\end{equation}
		\item Additivity over domain of integration\\
			Let $A,B$ be disjoint measurable subsets of $X$
			\begin{equation}
				\int_{A \cup B} \psi \ d\mu = \int_A \psi \ d\mu + \int_B \psi \ d\mu
			\end{equation}
		\item Suppose $X_0 \subset X$ such that $\mu(X \sim X_0) = 0$, then
			\begin{equation}
				\int_X \psi \ d\mu = \int_{X_0} \psi \ d\mu
			\end{equation}
		\item Monotonicity \\
			Suppose $\psi \le \varphi$ a.e. on $X$, then
			\begin{equation}
				\int_X \psi \ d\mu \le \int_X \varphi \ d\mu
			\end{equation}
	\end{enumerate}
\end{theorem}
\begin{proof}
\end{proof}

\begin{definition}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	And $f$ be a non-negative, extended real-valued, measurable function on $X$.
	Then
	\begin{equation}
		\int_X f \ d\mu = \sup \left\{ \int_X \varphi \ d\mu : \varphi \text{ simple, } 0 \le \varphi \le f \right\}
	\end{equation}
	And if $E \subset X$, then
	\begin{equation}
		\int_E f \ d\mu = \int_X f \cdot \chi_E \ d\mu = \sup \left\{ \int_X \varphi \cdot \chi_E \ d\mu : \varphi \text{ simple, } 0 \le \varphi \le f \text{ on E} \right\}
	\end{equation}
\end{definition}
\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $g,h$ be non-negative, measurable functions.
	Then
	\begin{enumerate}
		\item Linearity (Part 1)\\
			Let $\alpha$ be a positive real number.
			\begin{equation}
				 \int_X \alpha f \ d\mu = \alpha \int_X f \ d\mu
			\end{equation}
		\item Suppose $X_0 \subset X$ such that $\mu(X \sim X_0) = 0$, then
			\begin{equation}
				\int_X f \ d\mu = \int_{X_0} f \ d\mu
			\end{equation}
		\item Monotonicity \\
			Suppose $f \le g$ a.e. on $X$, then
			\begin{equation}
				\int_X f \ d\mu \le \int_X g \ d\mu
			\end{equation}
	\end{enumerate}
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}[Chebychev's Inequality]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f$ be a non-negative measurable function on $X$.
	Let $\lambda \in \mathbb{R}$.
	\[ \mu \{ x \in X : f(x) \ge \lambda \} \le \frac{1}{\lambda} \int_X f \ d\mu \]
\end{theorem}
\begin{proof}
	Refer proof on page \pageref{thm:chebychev}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f$ be a non-negative measurable function on $X$ for which $\int_X f \ d\mu < \infty$.
	Then $f$ is finite a.e. on $X$ and $\{ x \in X : f(x) \ge \frac{1}{n}\}$ is $\sigma$-finite.
\end{theorem}
\begin{proof}
\end{proof}

\begin{lemma}[Fatou]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\{ f_n \}$ be a sequence of non-negative, measurable functions converging to $f$ pointwise a.e. on $X$.
	If $f$ is measurable, then
	\[ \int_X f\ d\mu \le \liminf \int_X f_n \ d\mu \]
\end{lemma}
\begin{proof}
\end{proof}

\begin{theorem}[monotone convergence]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	And $\{ f_n \}$ be an increasing sequence of non-negative measurable functions converging to $f$ pointwise on $X$.
	Then
	\[ \lim_{n \to \infty} \int_X f_n \ d\mu = \int_X f\ d\mu \]
\end{theorem}
\begin{proof}
\end{proof}

\begin{lemma}[Beppo-Levi]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\{ f_n \}$ be an increasing sequence of non-negative measurable functions on $X$.
	If the sequnce of integrals $\displaystyle \left\{ \int_X f_n \ d\mu \right\}$ is bounded, then $\{ f_n \}$ converges to a function $f$ pointwise on $X$ which is measurable, finite a.e. on $X$ and 
	\[ \lim_{n \to \infty} \int_X f_n \ d\mu = \int_X f \ d\mu < \infty \]
\end{lemma}
\begin{proof}
\end{proof}

\begin{theorem}[simple approximation]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f$ be a non-negative measurable function on $X$.
	Then there exists an increasing sequence $\{ \psi_n \}$ of simple functions on $X$ that converges pointwise on $X$ and 
	\[ \lim_{n \to \infty} \int_X \psi_n \ d\mu = \int_X f \ d\mu \]
\end{theorem}
\begin{proof}
	Refer proof on page \pageref{thm:simpleapproximation}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f,g$ abe non-negative, measurable functions on $X$.
	If $\alpha,\beta > 0$, then
	\[ \int_X (\alpha f + \beta g) \ d\mu = \alpha \int_X f \ d\mu + \beta\int_X g \ d\mu \]
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f$ be a non-negative, measurable function on $X$.
	Then there exists an increasing sequnce of simple functions $\{ \psi_n \}$ that converges to $f$ pointwise on $X$ and
	\[ \lim_{n \to \infty} \int_X \psi_n \ d\mu = \int_X f \ d\mu \]
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be  a measure space.
	Let $f,g$ be non-negative measurable functions on $X$.
	If $\alpha,\beta > 0$, then
	\[ \int_E (\alpha f + \beta g) \ d\mu = \alpha \int_X f \ d\mu + \beta \int_X g \ d\mu \]
\end{theorem}
\begin{proof}
\end{proof}

\begin{definition}[integrable]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	A non-negative, measurable function $f$ is integrable over $X$ with respect to $\mu$ if $\displaystyle \int_X f \ d\mu < \infty$.
\end{definition}

\subsubsection{Exercise}
\begin{enumerate}
	\setcounter{enumi}{16}
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
\end{enumerate}

\subsection{Integration of general measurable functions}
\begin{definition}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f$ be a measurable function on $X$.
	Then $f$ be an integrable function over $X$ with respect to $\mu$, if $|f|$ is integrable over $X$ with respect to $\mu$.
	And
	\[ \int_X f \ d\mu = \int_X f^+ \ d\mu - \int_X f^- \ d\mu \]
\end{definition}

\begin{theorem}[integral comparison test]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f$ be a measurable function on $X$.
	If $g$ is integrable over $X$ and $g$ dominates $f$ on $X$, ie, $|f| \le g$.
	Then $f$ is integrable over $X$ and 
	\[ \left| \int_X f \ d\mu \right| \le \int_X |f| \ d\mu \le \int_X g \ d\mu \]
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f,g$ be integrable over $X$ with respect to $\mu$.
	\begin{enumerate}
		\item Linearlity \\
			\[ \int_X (\alpha f + \beta g) \ d\mu = \alpha \int_X f \ d\mu + \beta \int_X f \ d\mu \]
		\item Monotonicity \\
			If $f \le g$ a.e. on $X$, then
			\[ \int_X f \ d\mu \le \int_X g \ d\mu \]
		\item Additivity over domain of integration \\
			Let $A,B$ be disjoint, measurable subsets of $X$. Then
			\[ \int_{A \cup B} f \ d\mu = \int_A f \ d\mu + \int_B f \ d\mu \]
	\end{enumerate}
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}[countably additivity over the domain of integration]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f$ be a function integrable over $X$ with respect to $\mu$.
	Let $\{ X_n \}_{n = 1}^\infty $ be a disjoint, collection of measurable sets whose union is $X$.
	Then
	\[ \int_X f \ d\mu = \sum_{n=1}^\infty \int_{X_n} f \ d\mu \]
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}[continuity of integation]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f$ be a function integrable over $X$ with respect to $\mu$.
	\begin{enumerate}
		\item If $\{ X_n \}_{n=1}^\infty$ is an ascending collection of measurable sets whose union is $X$.
			Then
			\[ \int_X f \ d\mu = \lim_{n \to \infty} \int_{X_n} f \ d \mu \]
		\item If $\{ X_n \}_{n =1}^\infty$ is a descending collection of measurable sets, then
			\[ \int_{\bigcap_{n = 1}^\infty X_n} f \ d\mu = \lim_{n \to \infty} \int_{X_n} f \ d\mu \]
	\end{enumerate}
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $f$ be a measurable function on $X$.
	If $f$ is bounded and vanishes outside a set of finite measure, then $f$ is integrable over $X$.
\end{theorem}
\begin{proof}
\end{proof}

\begin{corollary}
	Let $X$ be a compact, topological space.
	Let $\mathcal{M}$ be a $\sigma$-algebra containing the topology.
	If $f$ is continuous, real-valued function on $X$ and $(X,\mathcal{M},\mu)$ is a finite measure space, then $f$ is integrable over $X$ with respect to $\mu$.
\end{corollary}
\begin{proof}
\end{proof}

\begin{theorem}[Lebesgue Dominated Convergence]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\{ f_n \}$ be a sequence of measurable functions converging to a measurable function $f$ pointwise a.e. on $X$.
	Let $g$ be an integrable, non-negative function dominating the sequence $\{ f_n \}$.
	Then $f$ is integrable over $X$ and,
	\[ \lim_{n \to \infty} \int_X f_n \ d\mu = \int_X f \ d\mu \]
\end{theorem}
\begin{proof}
\end{proof}

\subsubsection{Vitali Convergence Theorem}
\begin{definition}[uniformly integrable]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\{ f_n \}$ be a sequence of functions integrable over $X$.
	The sequence $\{ f_n \}$ is uniformly integrable over $X$ if for any $\varepsilon > 0$, there exist $\delta > 0$ such that for any measurable subset $E \subset X$ of measure $\mu(E) < \delta$, $\displaystyle \int_E |f_n| \ d\mu < \varepsilon,\ \forall n \in \mathbb{N}$.
\end{definition}

\begin{definition}[tight sequence]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	A sequence of function $\{ f_n \}$ is tight over $X$ if for any $\varepsilon > 0$, there exists a subset of finite measure $X_0$ such that $\displaystyle \int_{X \sim X_0} | f_n | \ d\mu < \varepsilon,\ \forall n \in \mathbb{N}$.
\end{definition}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let function $f$ be integrable over $X$.
	Then for any $\varepsilon > 0$, there exists $\delta > 0$ such that for any subset $E$ with $\mu(E) < \delta$, $\displaystyle \int_E |f| \ d\mu < \varepsilon$.\\

	Furthermore, for any $\varepsilon > 0$, there exists a subset of finite measure $X_0 \subset X$ such that $\displaystyle \int_{X \sim X_0} |f| \ d\mu < \varepsilon$.
\end{theorem}
\begin{proof}
	Without loss of generality, suppose $0 \le f$ on $X$.
	Otherwise, consider $f = f^+ - f^-$ and apply the following proof for those non-negative functions.\\

	Let $\varepsilon > 0$.
	Since $f$ is integrable, $\int_X f \ d\mu $ is finite.
	By the definition of integral of a non-negative functions, there exists a simple function $\psi$ on $X$ such that $0 \le \psi \le f$ on $X$ and
	\[ 0 \le \int_X f \ d\mu - \int_X \psi \ d\mu < \varepsilon/2 \]

	Since $\psi$ assume only finite number of values, we can choose $M > 0$ such that $0 \le \psi < M$ on $X$.
	\[ \int_E f \ d\mu = \int_E \psi \ d\mu + \int_E (f - \psi) \ d\mu \le M \cdot \mu(E) + \varepsilon/2 \]
	Choose $\delta = \varepsilon/2M$, then $\mu(E) < \varepsilon/2M$ and $\int_E f \ d\mu < \varepsilon$.\\

	Let $X_0 = \{ x \in X : f(x) > 0 \}$.
	Then $f = f-\psi$ on $X \sim X_0$.
	Thus,
	\[ \int_{X \sim X_0} |f| \ d\mu = \int_{X \sim X_0} f \ d\mu = \int_{X \sim X_0} (f-\psi) \ d\mu \le \int_X (f-\psi) \ d\mu < \varepsilon \]
\end{proof}

\begin{theorem}[Vitali Convergence theorem]
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\{ f_n \}$ be a sequence of functions which are uniformly integrable and tight over $X$.
	Suppose $\{ f_n \}$ converges to function $f$ pointwise a.e. on $X$ and $f$ is integrable over $X$.
	Then,
	$\displaystyle \lim_{n \to \infty} \int_E f_n \ d\mu = \int_E f \ d\mu$.
\end{theorem}
\begin{proof}
	By integral test, we have
	\begin{align*}
		\left| \int_X (f_n - f) \ d\mu  \right| \le & \int_X |f_n - f| \ d\mu\\
		\le & \int_{X_1} |f_n-f|\ d\mu + \int_{X_0 \sim X_1} |f_n-f| \ d\mu + \int_{X \sim X_0} |f_n-f| \ d\mu \\
		\le & \int_{X_1} |f_n-f|\ d\mu + \int_{X_0 \sim X_1} (|f_n| + |f|) \ d\mu + \int_{X \sim X_0} (|f_n| + |f|) \ d\mu
	\end{align*}

	Let $\varepsilon > 0$.
	Then since $\{ f_n \}$ is tight and $f$ is integrable, there exists $X_0 \subset X$ such that $X_0$ is a measurable subset of finite measure and
	\begin{equation}
		\int_{X \sim X_0} |f_n| \ d\mu + \int_{X \sim X_0} |f|\ d\mu < \varepsilon/3
	\end{equation}
	Since $f$ is integrable over $X$, $f$ is finite a.e. on $X$ and $\mu(X_0) < \infty$.
	Thus by Egoroff's theorem, $X_0$ has a subset $X_1$ with $\mu(X_0 \sim X_1) < \delta$ such that $\{ f_n \}$ is uniformly convergent on $X_1$.
	By uniform integrability of $\{ f_n \}$, there exits $\delta > 0$ such that for any measurable set $E$ with $\mu(E) < \delta$.
	\begin{equation}
		\int_{X_0 \sim X_1} (|f_n|+ |f|) \ d\mu = \int_{X_0 \sim X_1} |f_n| \ d\mu + \int_{X_0 \sim X_1} |f|\ d\mu < \varepsilon/3
	\end{equation}
	By uniform convergence of $\{ f_n \}$ into $f$ on $X_1$, there exists $N$ such that for every $n \ge N$.
	\begin{equation}
		\int_{X_1} |f_n -f| \ d\mu \le \sup_{x \in X_1} |f_n(x) -f(x)| \cdot \mu(X-1) < \varepsilon/3
	\end{equation}
\end{proof}

\begin{corollary}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\{ h_n \}$  be sequence on non-negative, integrable functions over $X$.
	Suppose $\{ h_n \}$ converges to $0$ for almost all $x \in X$.
	Then $\displaystyle \lim_{n \to \infty} \int_E h_n \ d\mu = 0$ if and only if $\{ h_n \}$ is uniformly integrable and tight over $X$.
\end{corollary}
\begin{proof}
	Since $\{ h_n \}$ is uniformly convergent to $0$ almost everywhere on $X$ and is tight, from theorem we have 
	\[ \lim_{n \to \infty} \int_X h_n \ d\mu = 0 \]

	Suppose $\displaystyle \lim_{n \to \infty} \int_X h_n \ d\mu = 0$.
	Then by Fatou's lemma,
	\[ \int_X \lim_{n \to \infty} h_n \ d\mu < \liminf \int_X h_n(x) \ d\mu = 0 \]
\end{proof}

\subsubsection{Exercises}
\begin{enumerate}
	\setcounter{enumi}{26}
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
\end{enumerate}

\subsection{Radon-Nikodym Theorem}
%What do you mean by continuity and absolute continuity ?
%Why would having all their zeroes identical, make measures continuous ?
\begin{definition}[absolutely continuous]
	Let $(X,\mathcal{M})$ be a measure space.
	Let $\mu,\nu$ be measures on $X$.
	The measure $\nu$ is absolutely continuous with respect to $\mu$ if $\nu(E) = 0$ whenever $\mu(E) = 0$ for any measure subset $E \in \mathcal{M}$.
	And we write $\nu \ll \mu$.
\end{definition}
	For example : The set function $\nu(E) = \displaystyle \int_E f \ d\mu$ is a measure on $(X,\mathcal{M})$ and is absolutely continuous with respect to $\mu$.

%Absolutely continuous f(x) \to 0 as g(x) \to 0 ?? (Why absolutely ?)
%We observe that two measures are absolutley continuous iff they have idential zeroes
%due to this characterisation we call this property absolutely continuous !
\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a measure space.
	Let $\nu$ be a measure on $(X,\mathcal{M})$.
	Then $\nu$ is absolutely continuous with respect to $\mu$ if and only if for any $\varepsilon > 0$, there exists $\delta > 0$ such that for any measurable subset $E \in \mathcal{M}$ with $\mu(E) < \delta$, $\nu(E) < \varepsilon$.
\end{theorem}
\begin{proof}
	Suppose for $\varepsilon > 0$, there exists $\delta > 0$ such that $\nu(E) < \varepsilon$ if $\mu(E) < \delta$.
	Since measure has monotonicity, as $\varepsilon \to 0$, $\delta \to 0$.
	Therefore, $\nu$ is absolutely continuous with respect to $\mu$.\\

	Let $\varepsilon > 0$.
	Suppose that for any $\delta > 0$, there exists some measurable set $E$ with $\mu(E) < \delta$, but $\nu(E) \ge \varepsilon$.
	Then, we can construct a sequence of measurable sets, $\{ E_n \}$ such that $\mu(E_n) \le \frac{1}{2^n}$ and $\nu(E_n) \ge \varepsilon$.
	Define a descencding sequence $\{ A_n \}$ where $\displaystyle A_n = \bigcup_{k = n}^\infty E_k$.
	By the continuity of measure, $\displaystyle \lim_{n \to \infty} \mu (A_n) = \mu \left( \bigcap_{n = 1}^\infty A_n \right) = 0$ which is a contradiction to absolute continuity since $\displaystyle \lim_{n \to \infty} \nu(A_n) \ge \varepsilon$.
	Therefore, if $\varepsilon > 0$, then there exists $\delta > 0$ such that $\mu(E) < \delta \implies \nu(E) < \varepsilon$.
\end{proof}

\begin{theorem}[Radon-Nikodym]
	Let $(X,\mathcal{M},\mu)$ be a $\sigma$-finite measure space.
	If there exists a $\sigma$-finite measure $\nu$ on $(X,\mathcal{M})$ which is absolutely continuous with respect to $\mu$.
	Then there exists a non-negative function $f$ such that $f$ is measurable (with respect to $\mathcal{M}$) and
	\begin{equation}
		\nu(E) = \int_E f \ d\mu,\ \forall E \in \mathcal{M} 
	\end{equation}
	And this function $f$ is unique with respect to $\mu$. That is, for any other non-negative, measurable[$\mu$] function $g$ defining $\nu$, $f = g$ a.e.[$\mu$] on $X$.
\end{theorem}
\begin{proof}
	Suppose $\mu,\nu$ are finite measures.
	%We can extend the same proof for $\sigma$-finite measures $\mu,\nu$.
	If $\nu(E) = 0$ for any $E \in \mathcal{M}$, then the equation is true for $f = 0$ on $X$.\\

	Suppose $\nu(E) \ne 0$ for some $E \in \mathcal{M}$.
	First, we prove that there exists a non-negative function $f$ on $X$ such that
	\[ \int_X f \ d\mu > 0 \text{ and } \int_E f \ d\mu \le \nu(E),\ \forall E \in \mathcal{M} \]
	Then we prove that the supremum of all such function is the unique function satisfying our requirements.\\
	
	\textbf{Step 1 : Existence of $f$}\\
	Let $\lambda > 0$.
	Then $\nu - \lambda\mu$ is difference of two finite measures and thus a signed measure.
	According to Hahn decomposition therem, there exists a Hahn decomposition $\{ P_\lambda,N_\lambda\}$ of signed measure $\nu - \lambda\mu$.
	Thus, for each $\lambda$, we have $X = P_\lambda \cup N_\lambda$ and $P_\lambda \cap N_\lambda = \phi$.
	Also the sets $P_\lambda, N_\lambda$ are positive and negative with respect to $\nu-\lambda\mu$ respectively.\\

	We claim that there exists $\lambda > 0$ such that $\mu(P_\lambda) > 0$.\\
	Suppose that for any $\lambda > 0$, $\mu(P_\lambda) = 0$.
	Then by monotonicity, $\mu(E) = 0$ for any measurable subset $E \subset P_\lambda$.
	We have $P_\lambda$ is a positive set with respect to $\nu-\lambda\mu$. 
	Also $\nu$ is absolutely continuous with respect to $\mu$.
	Thus, we have $\nu(E)=0$.
	And since $N_\lambda$ is negative with respect to $\nu-\lambda\mu$, we have $\nu(E) \le \lambda\mu(E)$.
	Clearly, every measurable subset $E$ is of the form $E = E_P \cup E_N$ where $E_P \subset P_\lambda$ and $E_N \subset N_\lambda$.
	And $\nu(E)=\nu(E_P) + \nu(E_N) \le 0+\lambda\mu(E_N) \le \lambda\mu(E)$.
	Thus, $\nu \le \lambda\mu$ for every measurable subset $E \in \mathcal{M}$ and for any real-number $\lambda > 0$.
	Clearly, $\mu(E) = 0 \implies \nu(E) = 0$ and $\mu(E) < \infty \implies \nu(E) = 0$ by archimedian property.
	This is a contradiction, since we assumed that $\nu(E) \ne 0$ for some $E \in \mathcal{M}$.\\

	Let $\lambda_0 >0$ such that $\mu(P_{\lambda_0}) > 0$.
	Define $f = \lambda_0 \cdot \chi_{P_{\lambda_0}}$.
	Then, we have $\displaystyle \int_X f \ d\mu = \lambda_0 \cdot \mu(P_{\lambda_0}) > 0$.
	And for any measurable subset $E \in \mathcal{M}$, we have
	\[ \int_E f \ d\mu = \lambda_0 \cdot \mu(P_{\lambda_0} \cap E) \le \nu(P_{\lambda_0} \cap E) \le \nu(E) \]
	And by construction, $f$ is a non-negative, measurable function on $X$.

	\textbf{Step 2 : Construction of $f$}\\
	Let $\mathcal{F}$ be the collection of all such non-negative, measurable functions on $X$.
	Define $\displaystyle M = \sup_{f \in \mathcal{F}} \left\{ \int_X f \ d\mu \right\}$.
	Suppose $g,h \in \mathcal{F}$, then $\max\{g,h\} \in \mathcal{F}$.
	And,
	\[ \int_E \max \{g,h\} \ d\mu = \int_{E_1} h \ d\mu + \int_{E_2} g \ d\mu \]
	where $E_1 = \{ x \in X : h(x) > g(x) \}$ and $E_2 = \{ x \in X : h(x) \le g(x) \}$.\\

	Consider a sequence $\{f_n\}$ in $\mathcal{F}$ such that $\displaystyle \lim_{n \to \infty} \int_X f_n \ d\mu = M$.
	Without loss of generality, this is an increasing sequence.
	If the sequence is not increasing, then replace $f_k$ with $\displaystyle \sum_{n=1}^k f_n$.\\

	Define $\displaystyle f(x) = \lim_{n \to \infty} \int_X f_n \ d\mu$.
	By monotone convergence theorem,  we have $\int_X f \ d\mu = M$.
	Define $\eta(E) = \nu(E) - \int_E f \ d\mu$.
	Since integral is coutably additive and $\nu(X) < \infty$, $\eta$ is a signed measure.
	Also $\eta$ is absolutely continuous with respect to $\nu$ by its construction.\\

	We claim that $\eta = 0$ on $\mathcal{M}$.\\
	Suppose $\eta \ne 0$.
	Then by performing Step 1, 2 for $\eta$ instead of $\nu$, we get a non-negative measurable function $\hat{f}$ such that
	\[ \int_X \hat{f} \ d\mu > 0 \text{ and } \int_E \hat{f} \ d\mu \le \eta(E) = \nu(E) - \int_E f \ d\mu \]
	Clearly $f + \hat{f} \in \mathcal{F}$ and $\displaystyle \int_X (f+\hat{f}) \ d\mu > \int_X f \ d\mu = M$ which is a contradiction.\\

	\textbf{Step 3 : Uniqueness of $f$}\\
	Suppose $f_1,f_2$ are two limit function on $\mathcal{F}$ satisfying the conditions.
	Then, for every measurable subset $E \in \mathcal{M}$, we have $\displaystyle s\int_E (f_1-f_2) \ d\mu = 0$ and $f_1 = f_2$ a.e.[$\mu$] on $X$.
	Therefore, the choice of $f$ is unique upto measure $\mu$.\\

	\textbf{Step 4 : Extending the proof to $\sigma$-finite measures}\\
	Suppose $\mu,\nu$ are $\sigma$-finite measures.
	Then from the defintion of $\sigma$-finite measure, $X$ has a countable partition, $X = \cup_{n =1}^\infty X_n$ such that $\mu(X_n) < \infty$ and $\nu(X_n) < \infty$ for every $n$.
	Now we may represent $\sigma$-finite measures as countable sum of finite measures, $\mu_n,\nu_n$ on $X_n$.\\
	That is, $\displaystyle \mu = \sum_{n=1}^\infty \mu_n \cdot \chi_{X_n}$ and $\displaystyle \nu = \sum_{n=1}^\infty \nu_n \cdot \chi_{X_n}$\\
	Now $\displaystyle \nu-\lambda\mu = \sum_{n=1}^\infty (\nu_n - \lambda\mu_n) \cdot \chi_{X_n}$ is a $\sigma$-finite signed measure.
	From Step 1,2 and 3, we have a non-negative measurable function $f$ such that integral of $f$ is the supremum of integrals of all the non-negative functions dominated by $\nu$.
	Then,
	\[ \int_{X} f \ d\mu = \sum_{n=1}^\infty \int_{X_n} f \ d\mu_n > 0 \]
	And
	\[ \int_{E} f \ d\mu = \sum_{n=1}^\infty \int_{E \cap X_n} f \ d\mu_n < \sum_{n=1}^\infty \nu_n(E \cap X_n) = \nu(E) \]
\end{proof}

\begin{theorem}
	Let $(X,\mathcal{M},\mu)$ be a $\sigma$-finite measure space.
	If there exists a finite signed measure $\nu$ which is absolutely continuous with respect to $\mu$ on $X$.
	Then there exist a function $f$ which is integrable over $X$ with respect to $\mu$ and
	\begin{equation}
		\nu(E) = \int_E f \ d\mu,\ \forall E \in \mathcal{M} 
	\end{equation}
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}[Lebesgue Decomposition]
	Let $(X,\mathcal{M},\mu)$ be a $\sigma$-finite measure space.
	Let $\nu$ be a $\sigma$-finite measure on $(X,\mathcal{M})$.
	Then there exists unique measures $\nu_0,\nu_1$ such that $\nu = \nu_0 + \nu_1$, $\nu_0$ is singlular with respect to $\mu$ and $\nu_1$ is absolutely continuous with respect to $\mu$.
\end{theorem}
\begin{proof}
\end{proof}

\begin{definition}[Radon-Nikodym derivative]
	Let $(X,\mathcal{M})$ be a measure space.
	Let $\mu,\nu$ be two $\sigma$-finite measures on $(X,\mathcal{M})$ such that $\nu$ is absolutely continuous with respect to $\mu$.
	By, Radon-Nikodym theorem, there exists a measurable function $f$ which is unique upto $\mu$ such that $\nu = \int_E f \ d\mu$.
	This function $f$ is the Radon-Nikodym derivative $f = \frac{d\nu}{d\mu}$.
\end{definition}

\subsubsection{Exercises}
\begin{enumerate}
	\setcounter{enumi}{48}
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
\end{enumerate}
%\subsection{Nikodym Metric Space}

%\section{General $L^p$ spaces}

\setcounter{section}{19}
%chapter 20
\section{The Construction of a particular measure}
\subsection{Product measures}

\begin{definition}[measurable rectangle]
	Let $(X,\mathcal{A},\mu)$, $(Y,\mathcal{B},\nu)$ be two measure spaces.
	A rectangle is a subset of $X \times Y$ of the form $A \times B$ where $A \subset X$ and $B \subset Y$.
	A measurable rectangle is a subset of $X \times Y$ of the form $A \times B$ where $A \in \mathcal{A}$ and $B \in \mathcal{B}$.
\end{definition}

\begin{lemma}
	Let $\{ A_k \times B_k \}_{k=1}^\infty$ be a countable disjoint, collection of measurable rectangles such that $\displaystyle \bigcup_{k=1}^\infty \left( A_k \times B_k \right) = A \times B$ is also a meausurable rectangle.
	Then
	$\displaystyle \mu(A) \times \nu(B) = \sum_{k=1}^\infty \mu(A_k) \times \mu(B_k) $
\end{lemma}
\begin{proof}
	Consider $A \times B$.
	Fix $x \in A$.
	Now for each $y \in B$, there exists exactly one $A_k \times B_k$ such that $(x,y) \in A_k \times B_k$.
	Define $S = \{ k \in \mathbb{N} : (x,y) \in A_k \times B_k \}$
	Thus, $\displaystyle B = \bigcup_{k \in S} B_k$.
	By countable additivity of the measure $\nu$, $\displaystyle \nu(B) = \bigcup_{k \in S} \nu(B_k)$.\\

	\begin{equation*}
		\nu(B) \cdot \chi_A(x) = \sum_{k=1}^\infty \nu(B_k) \cdot \chi_{A_k}(x),\qquad \forall x \in A
	\end{equation*}

	For $x \in X-A$, we have $\chi_{A_k}(x) = 0,\ \forall k$ since $A_k \subset A$.
	Thus,
	\begin{equation}
		\nu(B) \cdot \chi_A(x) = \sum_{k=1}^\infty \nu(B_k) \cdot \chi_{A_k}(x),\qquad \forall x \in X
	\end{equation}

	\begin{align*}
		\mu(A) \times \nu(B) =
		& \int_X \nu(B) \cdot \chi_A \ d\mu 
		= \int_X \sum_{k=1}^\infty \nu(B_k) \cdot \chi_{A_k} \ d\mu \\
		= & \int_X \lim_{n \to \infty} \sum_{k=1}^n \nu(B_k) \cdot \chi_{A_k} \ d\mu 
		\intertext{By monotone convergence theorem,}
		= & \lim_{n \to \infty} \int_X \sum_{k=1}^n \nu(B_k) \cdot \chi_{A_k} \ d\mu \\
		= & \lim_{n \to \infty} \sum_{k=1}^n \int_X  \nu(B_k) \cdot \chi_{A_k} \ d\mu 
		= \sum_{k=1}^\infty \int_X \nu(B_k) \cdot \chi_{A_k}\ d\mu \\
		= & \sum_{k=1}^\infty \mu(A_k) \times \nu(B_k)
	\end{align*}
\end{proof}

\begin{definition}[semiring]
	A semiring $\entity{R,+,\times}$ satisfies
	\begin{enumerate}
		\item $\entity{R,+}$ is a commutative monoid
			\begin{enumerate}
				\item $\entity{R,+}$ is associative ie, $(a+b)+c = a+(b+c),\ \forall a,b,c \in R$
				\item existence of additive identity ie, $\exists 0 \in R : 0+a = a = a+0,\ \forall a \in R$.
				\item $\entity{R,+}$ is commutative ie, $a+b = b+a,\ \forall a,b \in R$
			\end{enumerate}
		\item $\entity{R,\times}$ is a monoid
			\begin{enumerate}
				\item $\entity{R,\times}$ is associative ie, $(a \times b) \times c = a \times (b \times c),\ \forall a,b,c \in R$
				\item existence of multiplicative identity ie, $\exists 1 \in R : 1 \times a = a = a \times 1,\ \forall a \in R$.
			\end{enumerate}
		\item $\times$ is distributive over $+$
			$$ a \times (b+c) = (a \times b) + (a \times c), \forall a,b,c \in R $$
		\item $0 \times x = 0 = x \times 0,\ \forall x \in R$
	\end{enumerate}
\end{definition}

\begin{definition}[premeasure]
	A premeasure $\mu$ on $X$ satisfies 
	\begin{enumerate}
		\item $\mu$ is set function which maps a non-negative (extended) real number to every subset of $X$
			$$ \mu : \mathcal{P}(X) \to [0,\infty] $$
		\item $\mu$ is finitely additive
			$$ \mu \left( \bigcup_{k=1}^n A_k \right) = \sum_{k=1}^n \mu(A_k) $$
		\item $\mu$ is countably monotone
			$$ A \subset \bigcup_{k=1}^\infty A_k \implies \mu(A) \le \sum_{k=1}^\infty \mu(A_k) $$
		\item $\mu(\phi) = 0$
	\end{enumerate}
\end{definition}
For example, Lebesgue outer measure $m^\ast$ is a premeasure on $\mathbb{R}$.

\begin{theorem}
	Let $(X,\mathcal{A},\mu)$, $(Y,\mathcal{B},\nu)$ be two measure spaces.
	Let $\mathcal{R}$ be the collection of all measurable renctangles in $X \times Y$.
	Let $\lambda : \mathcal{R} \to [0,\infty]$ given by $\lambda(A \times B) = \mu(A) \cdot \nu(B)$.
	Then $\langle \mathcal{R},\lambda \rangle$ is a semiring and $\lambda$ is a premeasure.
\end{theorem}
\begin{proof}
\end{proof}

\begin{definition}
	Let $(X,\mathcal{A},\mu)$, $(Y,\mathcal{B},\nu)$ be two measure spaces.
	Let $\mathcal{R}$ be the collection of measurable rectangles in $X \times Y$ and $\lambda$ is the premeasure defined by $\lambda : \mathbb{R} \to [0,\infty],\ \lambda(A \times B) = \mu(A) \cdot \nu(B)$.
	The product measure $\lambda = \mu \times \nu$ is the Caratheodory extension of $\lambda : \mathbb{R} \to [0,\infty]$ defined by the $\sigma$-algebra of $(\mu \times \nu)^\ast$-measurable subsets of $X \times Y$.
\end{definition}

\begin{definition}[$x$-section]
	Let $E$ be a subset of $X \times Y$ and $f$ be a function on $E$.
	Let $x \in X$.
	Then the $x$-section of $f$, $E_x = \{ y \in Y : (x,y) \in E \}$.
\end{definition}

\subsubsection{Fubini's Theorem}
\begin{lemma}
	Let $E \subset X \times Y$ be an $\mathcal{R}_{\sigma\delta}$ set for which $(\mu \times \nu)(E) < \infty$.
	Then for every $x \in X$, the $x$-section of $E$, $E_x$ is a $\nu$-measurable subset of $Y$, the function which maps each $x \in X$ into $\nu(E_x)$ is a $\mu$-measurable function and
	\begin{equation}
		(\mu \times \nu)(E) = \int_X \nu(E_x) \ d\mu(x)
	\end{equation}
\end{lemma}
\begin{proof}
\end{proof}

\begin{lemma}
	Suppose measure $\nu$ is complete.
	Let $E \subset X \times Y$ be measurable with respect to $\mu \times \nu$.
	If $(\mu \times \nu)(E) = 0$, then for almost all $x \in X$, the $x$-section of $E$, $E_x$ is $\nu$-measurable and $\nu(E_x) = 0$.
	Therefore,
	\begin{equation}
		(\mu \times \nu)(E) = \int_X \nu(E_x) \ d\mu(x)
	\end{equation}
\end{lemma}
\begin{proof}
\end{proof}

\begin{theorem}
	Suppose measure $\nu$ is complete.
	et $E \subset X \times Y$ be measurable with respect to $\mu \times \nu$ and $(\mu \times \nu)(E) < \infty$.
	Then for almost all $x \in X$, the $x$-section of $E$, $E_x$ is a $\nu$-measurable subset of $Y$, the function which maps each $x \in X$ into $\nu(E_x)$ is a $\mu$-measurable function and
	\begin{equation}
		(\mu \times \nu)(E) = \int_X \nu(E_x) \ d\mu(x)
	\end{equation}
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}
	Suppose measure $\nu$ is complete.
	Let $\varphi : X \times Y \to \mathbb{R}$ be asimple functions that is integrable over $X \times Y$ with respect to $\mu \times \nu$.
	Then for almost all $x \in X$, the $x$-section of $\varphi$, $\varphi(x,\cdot)$ is integrable over $Y$ with respect to $\nu$ and
	\begin{equation}
		\int_{X \times Y} \varphi \ d(\mu \times \nu) = \int_X \left( \int_Y  \varphi(x,y) \ d\nu(y) \right) \ d\mu(x)
	\end{equation}
\end{theorem}
\begin{proof}
\end{proof}

\begin{theorem}[Fubini]
	Let $(X,\mathcal{A},\mu)$, $(Y,\mathcal{B},\nu)$ be two measure spaces where $\nu$ is complete.
	Let $f$ be integrable over $X \times Y$ with respect to the product measure $\mu \times \nu$.
	Then for almost all $x \in X$, the $x$-section of $f$ is integrable over $Y$ with respect to $\nu$ and
	\begin{equation}
		\int_{X \times Y} f \ d(\mu \times \nu) = \int_X \left( \int_Y f(x,y) \ d\nu(y) \right) d\mu(x)
	\end{equation}
\end{theorem}
\begin{proof}
\end{proof}

\subsubsection{Tonelli's Theorem}
\begin{theorem}[Tonelli]
	Let $(X,\mathcal{A},\mu)$ and $(Y,\mathcal{B},\nu)$ be two $\sigma$-finite measure spaces where $\nu$ is complete.
	Let $f$ be a non-negative $(\mu \times \nu)$-measurable function on $X \times Y$.
	Then for almost all $x \in X$, the $x$-section of $f$, $f(x,\cdot)$ is $\nu$-measurable and the function which maps almost every $x \in X$ into integral of $f(x,\cdot)$ over $Y$ with respect to $\nu$ is $\mu$-measurable.
	Moreover,
	\begin{equation}
		\int_{X \times Y} f \ d(\mu \times \nu) = \int_X \left( \int_Y f(x,y) \ d\nu(y) \right) \ d\mu(x)
	\end{equation}
\end{theorem}
\begin{proof}
\end{proof}

\begin{corollary}
	Let $(X,\mathcal{A},\mu)$ and $(Y,\mathcal{B},\nu)$ be two $\sigma$-finite, complete measure spaces.
	Let $f$ be a non-negative $(\mu \times \nu)$-measurable function on $X \times Y$.
	Then
	\begin{enumerate}
		\item for almost all $x \in X$, the $x$-section of $f$, $f(x,\cdot)$ is $\nu$-measurable function and the function defined almost everywhere on $X$ by $x \to $ the integral of $f(x,\cdot)$ over $Y$ with respect to $\nu$ is $\mu$-measurable and
		\item for almost all $y \in Y$, the $y$-section of $f$, $f(\cdot,y)$ is $\mu$-measurable and the function defined almost everywhere on $Y$ by $y \to $ the integral of $f(\cdot,y)$ over $X$ with respect to $\mu$ is $\nu$-measurable if
		\begin{equation}
			\int_X \left( \int_Y f(x,y) \ d\nu(y) \right) \ d\mu(x) < \infty
		\end{equation}
		then $f$ is integrable over $X \times Y$ with respect to $\mu \times \nu$ and
		\begin{align}
			\int_Y \left( \int_X f(x,y) \ d\mu(x) \right) \ d\nu(y) = & \int_{X \times Y} f d(\mu \times \nu) \\
			= & \int_X \left( \int_Y f(x,y) \ d\nu(y) \right) \ d\mu(x) \nonumber
		\end{align}
	\end{enumerate}
\end{corollary}
\begin{proof}
\end{proof}

\subsubsection{Exercises}
\begin{definition}[probability measure space]
	A probability measure space is a measure space $(X,\mathcal{M},\mu)$ where $\mu(X) = 1$.
\end{definition}
\begin{enumerate}
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item
	\item 
\end{enumerate}


%\subsection{Lebesgue measure on Euclidean space}

